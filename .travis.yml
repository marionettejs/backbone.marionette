sudo: false
language: node_js
node_js:
  - "6"
cache: yarn
env:
  - TEST_SUITE=coverage
  - TEST_SUITE=browser
  - TEST_SUITE=lodash USE_LODASH=1
  - TEST_SUITE=browser USE_LODASH=1
before_install:
  - npm install -g yarn --cache-min 999999999
after_install:
  - yarn install travis-ci
script:
  - if [[ $TEST_SUITE = "coverage" ]]; then yarn run coveralls; fi
  - if [[ $TEST_SUITE = "browser" ]]; then yarn run test-cross-browser; fi
  - if [[ $TEST_SUITE = "lodash" ]]; then yarn run test; fi
after_success:
  - if [[ $TRAVIS_BRANCH = "master" ]] && [[ $TRAVIS_PULL_REQUEST = "false" ]]; then node trigger-deploy-mn-com.js; fi
