{"version":3,"file":"backbone.marionette.js","sources":["src/utils/proxy.js","src/utils/extend.js","src/utils/deprecate.js","src/common/is-node-attached.js","src/common/merge-options.js","src/common/get-option.js","src/common/normalize-methods.js","src/common/trigger-method.js","src/common/monitor-view-events.js","src/error.js","src/common/bind-events.js","src/common/bind-requests.js","src/utils/set-options.js","src/mixins/common.js","src/mixins/radio.js","src/object.js","src/template-cache.js","src/utils/invoke.js","src/mixins/behaviors.js","src/mixins/delegate-entity-events.js","src/utils/get-unique-event-name.js","src/config/features.js","src/mixins/triggers.js","src/mixins/ui.js","src/config/dom.js","src/mixins/view.js","src/common/view.js","src/region.js","src/common/build-region.js","src/mixins/regions.js","src/config/renderer.js","src/view.js","src/utils/emulate-collection.js","src/child-view-container.js","src/collection-view.js","src/next-child-view-container.js","src/next-collection-view.js","src/composite-view.js","src/behavior.js","src/application.js","src/app-router.js","src/config/behaviors-lookup.js","src/backbone.marionette.js"],"sourcesContent":["//Internal utility for creating context style global utils\nconst proxy = function(method) {\n  return function(context, ...args) {\n    return method.apply(context, args);\n  };\n};\n\nexport default proxy;\n","// Marionette.extend\n// -----------------\n\nimport Backbone from 'backbone';\n\n// Borrow the Backbone `extend` method so we can use it as needed\nconst extend = Backbone.Model.extend;\n\nexport default extend;\n","/* global console */\n\nimport _ from 'underscore';\n\nimport Marionette from '../backbone.marionette';\n\nconst deprecate = function(message, test) {\n  if (_.isObject(message)) {\n    message = (\n      message.prev + ' is going to be removed in the future. ' +\n      'Please use ' + message.next + ' instead.' +\n      (message.url ? ' See: ' + message.url : '')\n    );\n  }\n\n  if (!Marionette.DEV_MODE) {\n    return;\n  }\n\n  if ((test === undefined || !test) && !deprecate._cache[message]) {\n    deprecate._warn('Deprecation warning: ' + message);\n    deprecate._cache[message] = true;\n  }\n};\n\n/* istanbul ignore next: can't clear console */\ndeprecate._console = typeof console !== 'undefined' ? console : {};\ndeprecate._warn = function() {\n  const warn = deprecate._console.warn || deprecate._console.log || _.noop;\n  return warn.apply(deprecate._console, arguments);\n};\ndeprecate._cache = {};\n\nexport default deprecate;\n","// Marionette.isNodeAttached\n// -------------------------\n\n// Determine if `el` is a child of the document\nconst isNodeAttached = function(el) {\n  return document.documentElement.contains(el && el.parentNode);\n};\n\nexport default isNodeAttached;\n","import _ from 'underscore';\n\n// Merge `keys` from `options` onto `this`\nconst mergeOptions = function(options, keys) {\n  if (!options) { return; }\n\n  _.each(keys, (key) => {\n    const option = options[key];\n    if (option !== undefined) {\n      this[key] = option;\n    }\n  });\n};\n\nexport default mergeOptions;\n","// Marionette.getOption\n// --------------------\n\n// Retrieve an object, function or other value from the\n// object or its `options`, with `options` taking precedence.\nconst getOption = function(optionName) {\n  if (!optionName) { return; }\n  if (this.options && (this.options[optionName] !== undefined)) {\n    return this.options[optionName];\n  } else {\n    return this[optionName];\n  }\n};\n\nexport default getOption;\n","import _ from 'underscore';\n\n// Marionette.normalizeMethods\n// ----------------------\n\n// Pass in a mapping of events => functions or function names\n// and return a mapping of events => functions\nconst normalizeMethods = function(hash) {\n  return _.reduce(hash, (normalizedHash, method, name) => {\n    if (!_.isFunction(method)) {\n      method = this[method];\n    }\n    if (method) {\n      normalizedHash[name] = method;\n    }\n    return normalizedHash;\n  }, {});\n};\n\nexport default normalizeMethods;\n","// Trigger Method\n// --------------\n\nimport _ from 'underscore';\nimport getOption from './get-option';\n\n// split the event name on the \":\"\nconst splitter = /(^|:)(\\w)/gi;\n\n// take the event section (\"section1:section2:section3\")\n// and turn it in to uppercase name onSection1Section2Section3\nfunction getEventName(match, prefix, eventName) {\n  return eventName.toUpperCase();\n}\n\nconst getOnMethodName = _.memoize(function(event) {\n  return 'on' + event.replace(splitter, getEventName);\n});\n\n// Trigger an event and/or a corresponding method name. Examples:\n//\n// `this.triggerMethod(\"foo\")` will trigger the \"foo\" event and\n// call the \"onFoo\" method.\n//\n// `this.triggerMethod(\"foo:bar\")` will trigger the \"foo:bar\" event and\n// call the \"onFooBar\" method.\nexport function triggerMethod(event, ...args) {\n  // get the method name from the event name\n  const methodName = getOnMethodName(event);\n  const method = getOption.call(this, methodName);\n  let result;\n\n  // call the onMethodName if it exists\n  if (_.isFunction(method)) {\n    // pass all args, except the event name\n    result = method.apply(this, args);\n  }\n\n  // trigger the event\n  this.trigger.apply(this, arguments);\n\n  return result;\n}\n\n// triggerMethodOn invokes triggerMethod on a specific context\n//\n// e.g. `Marionette.triggerMethodOn(view, 'show')`\n// will trigger a \"show\" event or invoke onShow the view.\nexport function triggerMethodOn(context, ...args) {\n  if (_.isFunction(context.triggerMethod)) {\n    return context.triggerMethod.apply(context, args);\n  }\n\n  return triggerMethod.apply(context, args);\n}\n","// DOM Refresh\n// -----------\n\nimport _ from 'underscore';\nimport { triggerMethodOn } from './trigger-method';\n\n// Trigger method on children unless a pure Backbone.View\nfunction triggerMethodChildren(view, event, shouldTrigger) {\n  if (!view._getImmediateChildren) { return; }\n  _.each(view._getImmediateChildren(), child => {\n    if (!shouldTrigger(child)) { return; }\n    triggerMethodOn(child, event, child);\n  });\n}\n\nfunction shouldTriggerAttach(view) {\n  return !view._isAttached;\n}\n\nfunction shouldAttach(view) {\n  if (!shouldTriggerAttach(view)) { return false; }\n  view._isAttached = true;\n  return true;\n}\n\nfunction shouldTriggerDetach(view) {\n  return view._isAttached;\n}\n\nfunction shouldDetach(view) {\n  if (!shouldTriggerDetach(view)) { return false; }\n  view._isAttached = false;\n  return true;\n}\n\nfunction triggerDOMRefresh(view) {\n  if (view._isAttached && view._isRendered) {\n    triggerMethodOn(view, 'dom:refresh', view);\n  }\n}\n\nfunction triggerDOMRemove(view) {\n  if (view._isAttached && view._isRendered) {\n    triggerMethodOn(view, 'dom:remove', view);\n  }\n}\n\nfunction handleBeforeAttach() {\n  triggerMethodChildren(this, 'before:attach', shouldTriggerAttach);\n}\n\nfunction handleAttach() {\n  triggerMethodChildren(this, 'attach', shouldAttach);\n  triggerDOMRefresh(this);\n}\n\nfunction handleBeforeDetach() {\n  triggerMethodChildren(this, 'before:detach', shouldTriggerDetach);\n  triggerDOMRemove(this);\n}\n\nfunction handleDetach() {\n  triggerMethodChildren(this, 'detach', shouldDetach);\n}\n\nfunction handleBeforeRender() {\n  triggerDOMRemove(this);\n}\n\nfunction handleRender() {\n  triggerDOMRefresh(this);\n}\n\n// Monitor a view's state, propagating attach/detach events to children and firing dom:refresh\n// whenever a rendered view is attached or an attached view is rendered.\nfunction monitorViewEvents(view) {\n  if (view._areViewEventsMonitored || view.monitorViewEvents === false) { return; }\n\n  view._areViewEventsMonitored = true;\n\n  view.on({\n    'before:attach': handleBeforeAttach,\n    'attach': handleAttach,\n    'before:detach': handleBeforeDetach,\n    'detach': handleDetach,\n    'before:render': handleBeforeRender,\n    'render': handleRender\n  });\n}\n\nexport default monitorViewEvents;\n","// Error\n// -----\n\nimport _ from 'underscore';\nimport extend from './utils/extend';\nimport {version} from '../package.json';\n\nconst errorProps = ['description', 'fileName', 'lineNumber', 'name', 'message', 'number'];\n\nconst MarionetteError = extend.call(Error, {\n  urlRoot: `http://marionettejs.com/docs/v${version}/`,\n\n  constructor(message, options) {\n    if (_.isObject(message)) {\n      options = message;\n      message = options.message;\n    } else if (!options) {\n      options = {};\n    }\n\n    const error = Error.call(this, message);\n    _.extend(this, _.pick(error, errorProps), _.pick(options, errorProps));\n\n    this.captureStackTrace();\n\n    if (options.url) {\n      this.url = this.urlRoot + options.url;\n    }\n  },\n\n  captureStackTrace() {\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, MarionetteError);\n    }\n  },\n\n  toString() {\n    return this.name + ': ' + this.message + (this.url ? ' See: ' + this.url : '');\n  }\n});\n\nMarionetteError.extend = extend;\n\nexport default MarionetteError;\n","// Bind Entity Events & Unbind Entity Events\n// -----------------------------------------\n//\n// These methods are used to bind/unbind a backbone \"entity\" (e.g. collection/model)\n// to methods on a target object.\n//\n// The first parameter, `target`, must have the Backbone.Events module mixed in.\n//\n// The second parameter is the `entity` (Backbone.Model, Backbone.Collection or\n// any object that has Backbone.Events mixed in) to bind the events from.\n//\n// The third parameter is a hash of { \"event:name\": \"eventHandler\" }\n// configuration. Multiple handlers can be separated by a space. A\n// function can be supplied instead of a string handler name.\n\nimport _ from 'underscore';\nimport MarionetteError from '../error';\n\n// Bind/unbind the event to handlers specified as a string of\n// handler names on the target object\nfunction bindFromStrings(target, entity, evt, methods, actionName) {\n  const methodNames = methods.split(/\\s+/);\n\n  _.each(methodNames, function(methodName) {\n    const method = target[methodName];\n    if (!method) {\n      throw new MarionetteError(`Method \"${methodName}\" was configured as an event handler, but does not exist.`);\n    }\n\n    target[actionName](entity, evt, method);\n  });\n}\n\n// generic looping function\nfunction iterateEvents(target, entity, bindings, actionName) {\n  if (!entity || !bindings) { return; }\n\n  // type-check bindings\n  if (!_.isObject(bindings)) {\n    throw new MarionetteError({\n      message: 'Bindings must be an object.',\n      url: 'marionette.functions.html#marionettebindevents'\n    });\n  }\n\n  // iterate the bindings and bind/unbind them\n  _.each(bindings, function(method, evt) {\n\n    // allow for a list of method names as a string\n    if (_.isString(method)) {\n      bindFromStrings(target, entity, evt, method, actionName);\n      return;\n    }\n\n    target[actionName](entity, evt, method);\n  });\n}\n\nfunction bindEvents(entity, bindings) {\n  iterateEvents(this, entity, bindings, 'listenTo');\n  return this;\n}\n\nfunction unbindEvents(entity, bindings) {\n  iterateEvents(this, entity, bindings, 'stopListening');\n  return this;\n}\n\n// Export Public API\nexport {\n  bindEvents,\n  unbindEvents\n};\n","// Bind/Unbind Radio Requests\n// -----------------------------------------\n//\n// These methods are used to bind/unbind a backbone.radio request\n// to methods on a target object.\n//\n// The first parameter, `target`, will set the context of the reply method\n//\n// The second parameter is the `Radio.channel` to bind the reply to.\n//\n// The third parameter is a hash of { \"request:name\": \"replyHandler\" }\n// configuration. A function can be supplied instead of a string handler name.\n\nimport _ from 'underscore';\nimport normalizeMethods from './normalize-methods';\nimport MarionetteError from '../error';\n\nfunction iterateReplies(target, channel, bindings, actionName) {\n  if (!channel || !bindings) { return; }\n\n  // type-check bindings\n  if (!_.isObject(bindings)) {\n    throw new MarionetteError({\n      message: 'Bindings must be an object.',\n      url: 'marionette.functions.html#marionettebindrequests'\n    });\n  }\n\n  const normalizedRadioRequests = normalizeMethods.call(target, bindings);\n\n  channel[actionName](normalizedRadioRequests, target);\n}\n\nfunction bindRequests(channel, bindings) {\n  iterateReplies(this, channel, bindings, 'reply');\n  return this;\n}\n\nfunction unbindRequests(channel, bindings) {\n  iterateReplies(this, channel, bindings, 'stopReplying');\n  return this;\n}\n\nexport {\n  bindRequests,\n  unbindRequests\n};\n","import _ from 'underscore';\n\n// Internal utility for setting options consistently across Mn\nconst setOptions = function(options) {\n  this.options = _.extend({}, _.result(this, 'options'), options);\n};\n\nexport default setOptions;\n","import _setOptions from '../utils/set-options';\nimport getOption from '../common/get-option';\nimport mergeOptions from '../common/merge-options';\nimport normalizeMethods from '../common/normalize-methods';\nimport {\n  bindEvents,\n  unbindEvents\n} from '../common/bind-events';\n\nexport default {\n\n  // Imports the \"normalizeMethods\" to transform hashes of\n  // events=>function references/names to a hash of events=>function references\n  normalizeMethods,\n\n  _setOptions,\n\n  // A handy way to merge passed-in options onto the instance\n  mergeOptions,\n\n  // Enable getting options from this or this.options by name.\n  getOption,\n\n  // Enable binding view's events from another entity.\n  bindEvents,\n\n  // Enable unbinding view's events from another entity.\n  unbindEvents\n};\n","import _ from 'underscore';\nimport Radio from 'backbone.radio';\n\nimport {\n  bindRequests,\n  unbindRequests\n} from '../common/bind-requests';\n\nimport {\n  bindEvents,\n  unbindEvents\n} from '../common/bind-events';\n\nimport MarionetteError from '../error';\n\n// MixinOptions\n// - channelName\n// - radioEvents\n// - radioRequests\n\nexport default {\n\n  _initRadio() {\n    const channelName = _.result(this, 'channelName');\n\n    if (!channelName) {\n      return;\n    }\n\n    /* istanbul ignore next */\n    if (!Radio) {\n      throw new MarionetteError({\n        name: 'BackboneRadioMissing',\n        message: 'The dependency \"backbone.radio\" is missing.'\n      });\n    }\n\n    const channel = this._channel = Radio.channel(channelName);\n\n    const radioEvents = _.result(this, 'radioEvents');\n    this.bindEvents(channel, radioEvents);\n\n    const radioRequests = _.result(this, 'radioRequests');\n    this.bindRequests(channel, radioRequests);\n\n    this.on('destroy', this._destroyRadio);\n  },\n\n  _destroyRadio() {\n    this._channel.stopReplying(null, null, this);\n  },\n\n  getChannel() {\n    return this._channel;\n  },\n\n  // Proxy `bindEvents`\n  bindEvents: bindEvents,\n\n  // Proxy `unbindEvents`\n  unbindEvents: unbindEvents,\n\n  // Proxy `bindRequests`\n  bindRequests: bindRequests,\n\n  // Proxy `unbindRequests`\n  unbindRequests: unbindRequests\n\n};\n","// Object\n// ------\n\nimport _ from 'underscore';\nimport Backbone from 'backbone';\nimport extend from './utils/extend';\nimport { triggerMethod } from './common/trigger-method';\nimport CommonMixin from './mixins/common';\nimport RadioMixin from './mixins/radio';\n\nconst ClassOptions = [\n  'channelName',\n  'radioEvents',\n  'radioRequests'\n];\n\n// A Base Class that other Classes should descend from.\n// Object borrows many conventions and utilities from Backbone.\nconst MarionetteObject = function(options) {\n  if (!this.hasOwnProperty('options')) {\n    this._setOptions(options);\n  }\n  this.mergeOptions(options, ClassOptions);\n  this._setCid();\n  this._initRadio();\n  this.initialize.apply(this, arguments);\n};\n\nMarionetteObject.extend = extend;\n\n// Object Methods\n// --------------\n\n// Ensure it can trigger events with Backbone.Events\n_.extend(MarionetteObject.prototype, Backbone.Events, CommonMixin, RadioMixin, {\n  cidPrefix: 'mno',\n\n  // for parity with Marionette.AbstractView lifecyle\n  _isDestroyed: false,\n\n  isDestroyed() {\n    return this._isDestroyed;\n  },\n\n  //this is a noop method intended to be overridden by classes that extend from this base\n  initialize() {},\n\n  _setCid() {\n    if (this.cid) { return; }\n    this.cid = _.uniqueId(this.cidPrefix);\n  },\n\n  destroy(...args) {\n    if (this._isDestroyed) { return this; }\n\n    this.triggerMethod('before:destroy', this, ...args);\n\n    this._isDestroyed = true;\n    this.triggerMethod('destroy', this, ...args);\n    this.stopListening();\n\n    return this;\n  },\n\n  triggerMethod\n});\n\nexport default MarionetteObject;\n","// Template Cache\n// --------------\n\nimport _ from 'underscore';\nimport Backbone from 'backbone';\nimport MarionetteError from './error';\n\n// Manage templates stored in `<script>` blocks,\n// caching them for faster access.\nconst TemplateCache = function(templateId) {\n  this.templateId = templateId;\n};\n\n// TemplateCache object-level methods. Manage the template\n// caches from these method calls instead of creating\n// your own TemplateCache instances\n_.extend(TemplateCache, {\n\n  templateCaches: {},\n\n  // Get the specified template by id. Either\n  // retrieves the cached version, or loads it\n  // from the DOM.\n  get(templateId, options) {\n    let cachedTemplate = this.templateCaches[templateId];\n\n    if (!cachedTemplate) {\n      cachedTemplate = new TemplateCache(templateId);\n      this.templateCaches[templateId] = cachedTemplate;\n    }\n\n    return cachedTemplate.load(options);\n  },\n\n  // Clear templates from the cache. If no arguments\n  // are specified, clears all templates:\n  // `clear()`\n  //\n  // If arguments are specified, clears each of the\n  // specified templates from the cache:\n  // `clear(\"#t1\", \"#t2\", \"...\")`\n  clear(...args) {\n    let i;\n    const length = args.length;\n\n    if (length > 0) {\n      for (i = 0; i < length; i++) {\n        delete this.templateCaches[args[i]];\n      }\n    } else {\n      this.templateCaches = {};\n    }\n  }\n});\n\n// TemplateCache instance methods, allowing each\n// template cache object to manage its own state\n// and know whether or not it has been loaded\n_.extend(TemplateCache.prototype, {\n\n  // Internal method to load the template\n  load(options) {\n    // Guard clause to prevent loading this template more than once\n    if (this.compiledTemplate) {\n      return this.compiledTemplate;\n    }\n\n    // Load the template and compile it\n    const template = this.loadTemplate(this.templateId, options);\n    this.compiledTemplate = this.compileTemplate(template, options);\n\n    return this.compiledTemplate;\n  },\n\n  // Load a template from the DOM, by default. Override\n  // this method to provide your own template retrieval\n  // For asynchronous loading with AMD/RequireJS, consider\n  // using a template-loader plugin as described here:\n  // https://github.com/marionettejs/backbone.marionette/wiki/Using-marionette-with-requirejs\n  loadTemplate(templateId, options) {\n    const $template = Backbone.$(templateId);\n\n    if (!$template.length) {\n      throw new MarionetteError({\n        name: 'NoTemplateError',\n        message: `Could not find template: \"${templateId}\"`\n      });\n    }\n    return $template.html();\n  },\n\n  // Pre-compile the template before caching it. Override\n  // this method if you do not need to pre-compile a template\n  // (JST / RequireJS for example) or if you want to change\n  // the template engine used (Handebars, etc).\n  compileTemplate(rawTemplate, options) {\n    return _.template(rawTemplate, options);\n  }\n});\n\nexport default TemplateCache;\n","// Implementation of the invoke method (http://underscorejs.org/#invoke) with support for\n// lodash v3, v4, and underscore.js\nimport _ from 'underscore';\n\nexport default _.invokeMap || _.invoke;\n","import _ from 'underscore';\nimport _invoke from '../utils/invoke';\nimport { triggerMethod } from '../common/trigger-method';\nimport Marionette from '../backbone.marionette';\n\n// MixinOptions\n// - behaviors\n\n// Takes care of getting the behavior class\n// given options and a key.\n// If a user passes in options.behaviorClass\n// default to using that.\n// If a user passes in a Behavior Class directly, use that\n// Otherwise delegate the lookup to the users `behaviorsLookup` implementation.\nfunction getBehaviorClass(options, key) {\n  if (options.behaviorClass) {\n    return options.behaviorClass;\n    //treat functions as a Behavior constructor\n  } else if (_.isFunction(options)) {\n    return options;\n  }\n\n  // behaviorsLookup can be either a flat object or a method\n  if (_.isFunction(Marionette.Behaviors.behaviorsLookup)) {\n    return Marionette.Behaviors.behaviorsLookup(options, key)[key];\n  }\n\n  return Marionette.Behaviors.behaviorsLookup[key];\n}\n\n// Iterate over the behaviors object, for each behavior\n// instantiate it and get its grouped behaviors.\n// This accepts a list of behaviors in either an object or array form\nfunction parseBehaviors(view, behaviors) {\n  return _.chain(behaviors).map(function(options, key) {\n    const BehaviorClass = getBehaviorClass(options, key);\n    //if we're passed a class directly instead of an object\n    const _options = options === BehaviorClass ? {} : options;\n    const behavior = new BehaviorClass(_options, view);\n    const nestedBehaviors = parseBehaviors(view, _.result(behavior, 'behaviors'));\n\n    return [behavior].concat(nestedBehaviors);\n  }).flatten().value();\n}\n\nexport default {\n  _initBehaviors() {\n    this._behaviors = this._getBehaviors();\n  },\n\n  _getBehaviors() {\n    const behaviors = _.result(this, 'behaviors');\n\n    // Behaviors defined on a view can be a flat object literal\n    // or it can be a function that returns an object.\n    return _.isObject(behaviors) ? parseBehaviors(this, behaviors) : {};\n  },\n\n  _getBehaviorTriggers() {\n    const triggers = _invoke(this._behaviors, 'getTriggers');\n    return _.reduce(triggers, function(memo, _triggers) {\n      return _.extend(memo, _triggers);\n    }, {});\n  },\n\n  _getBehaviorEvents() {\n    const events = _invoke(this._behaviors, 'getEvents');\n    return _.reduce(events, function(memo, _events) {\n      return _.extend(memo, _events);\n    }, {});\n  },\n\n  // proxy behavior $el to the view's $el.\n  _proxyBehaviorViewProperties() {\n    _invoke(this._behaviors, 'proxyViewProperties');\n  },\n\n  // delegate modelEvents and collectionEvents\n  _delegateBehaviorEntityEvents() {\n    _invoke(this._behaviors, 'delegateEntityEvents');\n  },\n\n  // undelegate modelEvents and collectionEvents\n  _undelegateBehaviorEntityEvents() {\n    _invoke(this._behaviors, 'undelegateEntityEvents');\n  },\n\n  _destroyBehaviors(...args) {\n    // Call destroy on each behavior after\n    // destroying the view.\n    // This unbinds event listeners\n    // that behaviors have registered for.\n    _invoke(this._behaviors, 'destroy', ...args);\n  },\n\n  // Remove a behavior\n  _removeBehavior(behavior) {\n    // Don't worry about the clean up if the view is destroyed\n    if (this._isDestroyed) { return; }\n    this._behaviors = _.without(this._behaviors, behavior);\n  },\n\n  _bindBehaviorUIElements() {\n    _invoke(this._behaviors, 'bindUIElements');\n  },\n\n  _unbindBehaviorUIElements() {\n    _invoke(this._behaviors, 'unbindUIElements');\n  },\n\n  _triggerEventOnBehaviors() {\n    const behaviors = this._behaviors;\n    // Use good ol' for as this is a very hot function\n    for (let i = 0, length = behaviors && behaviors.length; i < length; i++) {\n      triggerMethod.apply(behaviors[i], arguments);\n    }\n  }\n};\n","import _ from 'underscore';\n\nimport {\n  bindEvents,\n  unbindEvents\n} from '../common/bind-events';\n\n// MixinOptions\n// - collectionEvents\n// - modelEvents\n\nexport default {\n  // Handle `modelEvents`, and `collectionEvents` configuration\n  _delegateEntityEvents(model, collection) {\n    this._undelegateEntityEvents(model, collection);\n\n    const modelEvents = _.result(this, 'modelEvents');\n    bindEvents.call(this, model, modelEvents);\n\n    const collectionEvents = _.result(this, 'collectionEvents');\n    bindEvents.call(this, collection, collectionEvents);\n  },\n\n  _undelegateEntityEvents(model, collection) {\n    const modelEvents = _.result(this, 'modelEvents');\n    unbindEvents.call(this, model, modelEvents);\n\n    const collectionEvents = _.result(this, 'collectionEvents');\n    unbindEvents.call(this, collection, collectionEvents);\n  }\n};\n","import _ from 'underscore';\n\n// Borrow event splitter from Backbone\nconst delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\nfunction uniqueName(eventName, selector) {\n  return `${ eventName }${ _.uniqueId('.evt') } ${ selector }`;\n}\n\n// Set event name to be namespaced using a unique index\n// to generate a non colliding event namespace\n// http://api.jquery.com/event.namespace/\nconst getUniqueEventName = function(eventName) {\n  const match = eventName.match(delegateEventSplitter);\n  return uniqueName(match[1], match[2]);\n};\n\nexport default getUniqueEventName;\n","// Add Feature flags here\n// e.g. 'class' => false\nconst FEATURES = {\n  childViewEventPrefix: true,\n  triggersStopPropagation: true,\n  triggersPreventDefault: true\n};\n\nfunction isEnabled(name) {\n  return !!FEATURES[name];\n}\n\nfunction setEnabled(name, state) {\n  return FEATURES[name] = state;\n}\n\nexport {\n  FEATURES,\n  setEnabled,\n  isEnabled\n};\n","import _ from 'underscore';\nimport getUniqueEventName from '../utils/get-unique-event-name';\nimport { isEnabled } from '../config/features';\n\n// Internal method to create an event handler for a given `triggerDef` like\n// 'click:foo'\nfunction buildViewTrigger(view, triggerDef) {\n  if (_.isString(triggerDef)) {\n    triggerDef = {event: triggerDef};\n  }\n\n  const eventName = triggerDef.event;\n\n  let shouldPreventDefault = !!triggerDef.preventDefault;\n\n  if (isEnabled('triggersPreventDefault')) {\n    shouldPreventDefault = triggerDef.preventDefault !== false;\n  }\n\n  let shouldStopPropagation = !!triggerDef.stopPropagation;\n\n  if (isEnabled('triggersStopPropagation')) {\n    shouldStopPropagation = triggerDef.stopPropagation !== false;\n  }\n\n  return function(event) {\n    if (shouldPreventDefault) {\n      event.preventDefault();\n    }\n\n    if (shouldStopPropagation) {\n      event.stopPropagation();\n    }\n\n    view.triggerMethod(eventName, view, event);\n  };\n}\n\nexport default {\n\n  // Configure `triggers` to forward DOM events to view\n  // events. `triggers: {\"click .foo\": \"do:foo\"}`\n  _getViewTriggers(view, triggers) {\n    // Configure the triggers, prevent default\n    // action and stop propagation of DOM events\n    return _.reduce(triggers, (events, value, key) => {\n      key = getUniqueEventName(key);\n      events[key] = buildViewTrigger(view, value);\n      return events;\n    }, {});\n  }\n\n};\n","import _ from 'underscore';\n// allows for the use of the @ui. syntax within\n// a given key for triggers and events\n// swaps the @ui with the associated selector.\n// Returns a new, non-mutated, parsed events hash.\nconst normalizeUIKeys = function(hash, ui) {\n  return _.reduce(hash, (memo, val, key) => {\n    const normalizedKey = normalizeUIString(key, ui);\n    memo[normalizedKey] = val;\n    return memo;\n  }, {});\n};\n\n// utility method for parsing @ui. syntax strings\n// into associated selector\nconst normalizeUIString = function(uiString, ui) {\n  return uiString.replace(/@ui\\.[a-zA-Z-_$0-9]*/g, (r) => {\n    return ui[r.slice(4)];\n  });\n};\n\n// allows for the use of the @ui. syntax within\n// a given value for regions\n// swaps the @ui with the associated selector\nconst normalizeUIValues = function(hash, ui, properties) {\n  _.each(hash, (val, key) => {\n    if (_.isString(val)) {\n      hash[key] = normalizeUIString(val, ui);\n    } else if (_.isObject(val) && _.isArray(properties)) {\n      _.extend(val, normalizeUIValues(_.pick(val, properties), ui));\n      /* Value is an object, and we got an array of embedded property names to normalize. */\n      _.each(properties, (property) => {\n        const propertyVal = val[property];\n        if (_.isString(propertyVal)) {\n          val[property] = normalizeUIString(propertyVal, ui);\n        }\n      });\n    }\n  });\n  return hash;\n};\n\nexport default {\n\n  // normalize the keys of passed hash with the views `ui` selectors.\n  // `{\"@ui.foo\": \"bar\"}`\n  normalizeUIKeys(hash) {\n    const uiBindings = this._getUIBindings();\n    return normalizeUIKeys(hash, uiBindings);\n  },\n\n  // normalize the passed string with the views `ui` selectors.\n  // `\"@ui.bar\"`\n  normalizeUIString(uiString) {\n    const uiBindings = this._getUIBindings();\n    return normalizeUIString(uiString, uiBindings);\n  },\n\n  // normalize the values of passed hash with the views `ui` selectors.\n  // `{foo: \"@ui.bar\"}`\n  normalizeUIValues(hash, properties) {\n    const uiBindings = this._getUIBindings();\n    return normalizeUIValues(hash, uiBindings, properties);\n  },\n\n  _getUIBindings() {\n    const uiBindings = _.result(this, '_uiBindings');\n    const ui = _.result(this, 'ui');\n    return uiBindings || ui;\n  },\n\n  // This method binds the elements specified in the \"ui\" hash inside the view's code with\n  // the associated jQuery selectors.\n  _bindUIElements() {\n    if (!this.ui) { return; }\n\n    // store the ui hash in _uiBindings so they can be reset later\n    // and so re-rendering the view will be able to find the bindings\n    if (!this._uiBindings) {\n      this._uiBindings = this.ui;\n    }\n\n    // get the bindings result, as a function or otherwise\n    const bindings = _.result(this, '_uiBindings');\n\n    // empty the ui so we don't have anything to start with\n    this._ui = {};\n\n    // bind each of the selectors\n    _.each(bindings, (selector, key) => {\n      this._ui[key] = this.$(selector);\n    });\n\n    this.ui = this._ui;\n  },\n\n  _unbindUIElements() {\n    if (!this.ui || !this._uiBindings) { return; }\n\n    // delete all of the existing ui bindings\n    _.each(this.ui, ($el, name) => {\n      delete this.ui[name];\n    });\n\n    // reset the ui element to the original bindings configuration\n    this.ui = this._uiBindings;\n    delete this._uiBindings;\n    delete this._ui;\n  },\n\n  _getUI(name) {\n    return this._ui[name];\n  }\n};\n","// DomApi\n//  ---------\nimport _ from 'underscore';\nimport Backbone from 'backbone';\n\n// Performant method for returning the jQuery instance\nfunction getEl(el) {\n  return el instanceof Backbone.$ ? el : Backbone.$(el);\n}\n\n// Static setter\nexport function setDomApi(mixin) {\n  this.prototype.Dom = _.extend({}, this.prototype.Dom, mixin);\n}\n\nexport default {\n\n  // Returns a new HTML DOM node instance\n  createBuffer() {\n    return document.createDocumentFragment();\n  },\n\n  // Lookup the `selector` string\n  // Selector may also be a DOM element\n  // Returns an array-like object of nodes\n  getEl(selector) {\n    return getEl(selector);\n  },\n\n  // Finds the `selector` string with the el\n  // Returns an array-like object of nodes\n  findEl(el, selector, _$el = getEl(el)) {\n    return _$el.find(selector);\n  },\n\n  // Returns true if the el contains the node childEl\n  hasEl(el, childEl) {\n    return el.contains(childEl && childEl.parentNode);\n  },\n\n  // Detach `el` from the DOM without removing listeners\n  detachEl(el, _$el = getEl(el)) {\n    _$el.detach();\n  },\n\n  // Remove `oldEl` from the DOM and put `newEl` in its place\n  replaceEl(newEl, oldEl) {\n    if (newEl === oldEl) {\n      return;\n    }\n\n    const parent = oldEl.parentNode;\n\n    if (!parent) {\n      return;\n    }\n\n    parent.replaceChild(newEl, oldEl);\n  },\n\n  // Swaps the location of `el1` and `el2` in the DOM\n  swapEl(el1, el2) {\n    if (el1 === el2) {\n      return;\n    }\n\n    const parent1 = el1.parentNode;\n    const parent2 = el2.parentNode;\n\n    if (!parent1 || !parent2) {\n      return;\n    }\n\n    const next1 = el1.nextSibling;\n    const next2 = el2.nextSibling;\n\n    parent1.insertBefore(el2, next1);\n    parent2.insertBefore(el1, next2);\n  },\n\n  // Replace the contents of `el` with the HTML string of `html`\n  setContents(el, html, _$el = getEl(el)) {\n    _$el.html(html);\n  },\n\n  // Takes the DOM node `el` and appends the DOM node `contents`\n  // to the end of the element's contents.\n  appendContents(el, contents, {_$el = getEl(el), _$contents = getEl(contents)} = {}) {\n    _$el.append(_$contents);\n  },\n\n  // Does the el have child nodes\n  hasContents(el) {\n    return el.hasChildNodes();\n  },\n\n  // Remove the inner contents of `el` from the DOM while leaving\n  // `el` itself in the DOM.\n  detachContents(el, _$el = getEl(el)) {\n    _$el.contents().detach();\n  }\n};\n","// ViewMixin\n//  ---------\n\nimport Backbone from 'backbone';\nimport _ from 'underscore';\nimport { triggerMethod } from '../common/trigger-method';\nimport BehaviorsMixin from './behaviors';\nimport CommonMixin from './common';\nimport DelegateEntityEventsMixin from './delegate-entity-events';\nimport TriggersMixin from './triggers';\nimport UIMixin from './ui';\nimport { isEnabled } from '../config/features';\nimport DomApi from '../config/dom';\n\n// MixinOptions\n// - behaviors\n// - childViewEventPrefix\n// - childViewEvents\n// - childViewTriggers\n// - collectionEvents\n// - modelEvents\n// - triggers\n// - ui\n\n\nconst ViewMixin = {\n  Dom: DomApi,\n\n  supportsRenderLifecycle: true,\n  supportsDestroyLifecycle: true,\n\n  _isDestroyed: false,\n\n  isDestroyed() {\n    return !!this._isDestroyed;\n  },\n\n  _isRendered: false,\n\n  isRendered() {\n    return !!this._isRendered;\n  },\n\n  _isAttached: false,\n\n  isAttached() {\n    return !!this._isAttached;\n  },\n\n  // Overriding Backbone.View's `delegateEvents` to handle\n  // `events` and `triggers`\n  delegateEvents(eventsArg) {\n\n    this._proxyBehaviorViewProperties();\n    this._buildEventProxies();\n\n    const viewEvents = this._getEvents(eventsArg);\n\n    if (typeof eventsArg === 'undefined') {\n      this.events = viewEvents;\n    }\n\n    const combinedEvents = _.extend({},\n      this._getBehaviorEvents(),\n      viewEvents,\n      this._getBehaviorTriggers(),\n      this.getTriggers()\n    );\n\n    Backbone.View.prototype.delegateEvents.call(this, combinedEvents);\n\n    return this;\n  },\n\n  _getEvents(eventsArg) {\n    const events = eventsArg || this.events;\n\n    if (_.isFunction(events)) {\n      return this.normalizeUIKeys(events.call(this));\n    }\n\n    return this.normalizeUIKeys(events);\n  },\n\n  // Configure `triggers` to forward DOM events to view\n  // events. `triggers: {\"click .foo\": \"do:foo\"}`\n  getTriggers() {\n    if (!this.triggers) { return; }\n\n    // Allow `triggers` to be configured as a function\n    const triggers = this.normalizeUIKeys(_.result(this, 'triggers'));\n\n    // Configure the triggers, prevent default\n    // action and stop propagation of DOM events\n    return this._getViewTriggers(this, triggers);\n  },\n\n  // Handle `modelEvents`, and `collectionEvents` configuration\n  delegateEntityEvents() {\n    this._delegateEntityEvents(this.model, this.collection);\n\n    // bind each behaviors model and collection events\n    this._delegateBehaviorEntityEvents();\n\n    return this;\n  },\n\n  // Handle unbinding `modelEvents`, and `collectionEvents` configuration\n  undelegateEntityEvents() {\n    this._undelegateEntityEvents(this.model, this.collection);\n\n    // unbind each behaviors model and collection events\n    this._undelegateBehaviorEntityEvents();\n\n    return this;\n  },\n\n  // Handle destroying the view and its children.\n  destroy(...args) {\n    if (this._isDestroyed) { return this; }\n    const shouldTriggerDetach = this._isAttached && !this._shouldDisableEvents;\n\n    this.triggerMethod('before:destroy', this, ...args);\n    if (shouldTriggerDetach) {\n      this.triggerMethod('before:detach', this);\n    }\n\n    // unbind UI elements\n    this.unbindUIElements();\n\n    // remove the view from the DOM\n    this._removeElement();\n\n    if (shouldTriggerDetach) {\n      this._isAttached = false;\n      this.triggerMethod('detach', this);\n    }\n\n    // remove children after the remove to prevent extra paints\n    this._removeChildren();\n\n    this._isDestroyed = true;\n    this._isRendered = false;\n\n    // Destroy behaviors after _isDestroyed flag\n    this._destroyBehaviors(...args);\n\n    this.triggerMethod('destroy', this, ...args);\n\n    this.stopListening();\n\n    return this;\n  },\n\n  // Equates to this.$el.remove\n  _removeElement() {\n    this.$el.off().removeData();\n    this.Dom.detachEl(this.el, this.$el);\n  },\n\n  bindUIElements() {\n    this._bindUIElements();\n    this._bindBehaviorUIElements();\n\n    return this;\n  },\n\n  // This method unbinds the elements specified in the \"ui\" hash\n  unbindUIElements() {\n    this._unbindUIElements();\n    this._unbindBehaviorUIElements();\n\n    return this;\n  },\n\n  getUI(name) {\n    return this._getUI(name);\n  },\n\n  // used as the prefix for child view events\n  // that are forwarded through the layoutview\n  childViewEventPrefix() {\n    return isEnabled('childViewEventPrefix') ? 'childview' : false;\n  },\n\n  // import the `triggerMethod` to trigger events with corresponding\n  // methods if the method exists\n  triggerMethod() {\n    const ret = triggerMethod.apply(this, arguments);\n\n    this._triggerEventOnBehaviors.apply(this, arguments);\n\n    return ret;\n  },\n\n  // Cache `childViewEvents` and `childViewTriggers`\n  _buildEventProxies() {\n    this._childViewEvents = _.result(this, 'childViewEvents');\n    this._childViewTriggers = _.result(this, 'childViewTriggers');\n  },\n\n  _proxyChildViewEvents(view) {\n    this.listenTo(view, 'all', this._childViewEventHandler);\n  },\n\n  _childViewEventHandler(eventName, ...args) {\n    const childViewEvents = this.normalizeMethods(this._childViewEvents);\n\n    // call collectionView childViewEvent if defined\n    if (typeof childViewEvents !== 'undefined' && _.isFunction(childViewEvents[eventName])) {\n      childViewEvents[eventName].apply(this, args);\n    }\n\n    // use the parent view's proxyEvent handlers\n    const childViewTriggers = this._childViewTriggers;\n\n    // Call the event with the proxy name on the parent layout\n    if (childViewTriggers && _.isString(childViewTriggers[eventName])) {\n      this.triggerMethod(childViewTriggers[eventName], ...args);\n    }\n\n    const prefix = _.result(this, 'childViewEventPrefix');\n\n    if (prefix !== false) {\n      const childEventName = prefix + ':' + eventName;\n\n      this.triggerMethod(childEventName, ...args);\n    }\n  }\n};\n\n_.extend(ViewMixin, BehaviorsMixin, CommonMixin, DelegateEntityEventsMixin, TriggersMixin, UIMixin);\n\nexport default ViewMixin;\n","import { triggerMethodOn } from '../common/trigger-method';\n\nexport function renderView(view) {\n  if (view._isRendered) {\n    return;\n  }\n\n  if (!view.supportsRenderLifecycle) {\n    triggerMethodOn(view, 'before:render', view);\n  }\n\n  view.render();\n\n  if (!view.supportsRenderLifecycle) {\n    view._isRendered = true;\n    triggerMethodOn(view, 'render', view);\n  }\n}\n\nexport function destroyView(view) {\n  if (view.destroy) {\n    view.destroy();\n    return;\n  }\n\n  if (!view.supportsDestroyLifecycle) {\n    triggerMethodOn(view, 'before:destroy', view);\n  }\n\n  const shouldTriggerDetach = view._isAttached && !view._shouldDisableEvents;\n\n  if (shouldTriggerDetach) {\n    triggerMethodOn(view, 'before:detach', view);\n  }\n\n  view.remove();\n\n  if (shouldTriggerDetach) {\n    view._isAttached = false;\n    triggerMethodOn(view, 'detach', view);\n  }\n\n  view._isDestroyed = true;\n\n  if (!view.supportsDestroyLifecycle) {\n    triggerMethodOn(view, 'destroy', view);\n  }\n}\n","// Region\n// ------\n\nimport _ from 'underscore';\nimport Backbone from 'backbone';\nimport deprecate from './utils/deprecate';\nimport { renderView, destroyView } from './common/view';\nimport monitorViewEvents from './common/monitor-view-events';\nimport isNodeAttached from './common/is-node-attached';\nimport { triggerMethodOn } from './common/trigger-method';\nimport MarionetteObject from './object';\nimport MarionetteError from './error';\nimport View from './view';\nimport DomApi, { setDomApi } from './config/dom';\n\nconst ClassOptions = [\n  'allowMissingEl',\n  'parentEl',\n  'replaceElement'\n];\n\nconst Region = MarionetteObject.extend({\n  Dom: DomApi,\n\n  cidPrefix: 'mnr',\n  replaceElement: false,\n  _isReplaced: false,\n  _isSwappingView: false,\n\n  constructor(options) {\n    this._setOptions(options);\n\n    this.mergeOptions(options, ClassOptions);\n\n    // getOption necessary because options.el may be passed as undefined\n    this._initEl = this.el = this.getOption('el');\n\n    // Handle when this.el is passed in as a $ wrapped element.\n    this.el = this.el instanceof Backbone.$ ? this.el[0] : this.el;\n\n    if (!this.el) {\n      throw new MarionetteError({\n        name: 'NoElError',\n        message: 'An \"el\" must be specified for a region.'\n      });\n    }\n\n    this.$el = this.getEl(this.el);\n    MarionetteObject.call(this, options);\n  },\n\n  // Displays a backbone view instance inside of the region. Handles calling the `render`\n  // method for you. Reads content directly from the `el` attribute. The `preventDestroy`\n  // option can be used to prevent a view from the old view being destroyed on show.\n  show(view, options) {\n    if (!this._ensureElement(options)) {\n      return;\n    }\n\n    view = this._getView(view, options);\n\n    if (view === this.currentView) { return this; }\n\n    this._isSwappingView = !!this.currentView;\n\n    this.triggerMethod('before:show', this, view, options);\n\n    // Assume an attached view is already in the region for pre-existing DOM\n    if (!view._isAttached) {\n      this.empty(options);\n    }\n\n    this._setupChildView(view);\n\n    this.currentView = view;\n\n    renderView(view);\n\n    this._attachView(view, options);\n\n    this.triggerMethod('show', this, view, options);\n\n    this._isSwappingView = false;\n\n    return this;\n  },\n\n  _setupChildView(view) {\n    monitorViewEvents(view);\n\n    this._proxyChildViewEvents(view);\n\n    // We need to listen for if a view is destroyed in a way other than through the region.\n    // If this happens we need to remove the reference to the currentView since once a view\n    // has been destroyed we can not reuse it.\n    view.on('destroy', this._empty, this);\n  },\n\n  _proxyChildViewEvents(view) {\n    const parentView = this._parentView;\n\n    if (!parentView) { return; }\n\n    parentView._proxyChildViewEvents(view);\n  },\n\n  // If the regions parent view is not monitoring its attach/detach events\n  _shouldDisableMonitoring() {\n    return this._parentView && this._parentView.monitorViewEvents === false;\n  },\n\n  _attachView(view, options = {}) {\n    const shouldTriggerAttach = !view._isAttached && isNodeAttached(this.el) && !this._shouldDisableMonitoring();\n    const shouldReplaceEl = typeof options.replaceElement === 'undefined' ? !!_.result(this, 'replaceElement') : !!options.replaceElement;\n\n    if (shouldTriggerAttach) {\n      triggerMethodOn(view, 'before:attach', view);\n    }\n\n    if (shouldReplaceEl) {\n      this._replaceEl(view);\n    } else {\n      this.attachHtml(view);\n    }\n\n    if (shouldTriggerAttach) {\n      view._isAttached = true;\n      triggerMethodOn(view, 'attach', view);\n    }\n  },\n\n  _ensureElement(options = {}) {\n    if (!_.isObject(this.el)) {\n      this.$el = this.getEl(this.el);\n      this.el = this.$el[0];\n    }\n\n    if (!this.$el || this.$el.length === 0) {\n      const allowMissingEl = typeof options.allowMissingEl === 'undefined' ? !!_.result(this, 'allowMissingEl') : !!options.allowMissingEl;\n\n      if (allowMissingEl) {\n        return false;\n      } else {\n        throw new MarionetteError(`An \"el\" must exist in DOM for this region ${this.cid}`);\n      }\n    }\n    return true;\n  },\n\n  _getView(view) {\n    if (!view) {\n      throw new MarionetteError({\n        name: 'ViewNotValid',\n        message: 'The view passed is undefined and therefore invalid. You must pass a view instance to show.'\n      });\n    }\n\n    if (view._isDestroyed) {\n      throw new MarionetteError({\n        name: 'ViewDestroyedError',\n        message: `View (cid: \"${view.cid}\") has already been destroyed and cannot be used.`\n      });\n    }\n\n    if (view instanceof Backbone.View) {\n      return view;\n    }\n\n    const viewOptions = this._getViewOptions(view);\n\n    return new View(viewOptions);\n  },\n\n  // This allows for a template or a static string to be\n  // used as a template\n  _getViewOptions(viewOptions) {\n    if (_.isFunction(viewOptions)) {\n      return { template: viewOptions };\n    }\n\n    if (_.isObject(viewOptions)) {\n      return viewOptions;\n    }\n\n    const template = function() { return viewOptions; };\n\n    return { template };\n  },\n\n  // Override this method to change how the region finds the DOM element that it manages. Return\n  // a jQuery selector object scoped to a provided parent el or the document if none exists.\n  getEl(el) {\n    const context = _.result(this, 'parentEl');\n\n    if (context && _.isString(el)) {\n      const $el = this.Dom.findEl(context, el);\n      if ($el.length) { return $el; }\n    }\n\n    return this.Dom.getEl(el);\n  },\n\n  _replaceEl(view) {\n    // always restore the el to ensure the regions el is present before replacing\n    this._restoreEl();\n\n    view.on('before:destroy', this._restoreEl, this);\n\n    this.Dom.replaceEl(view.el, this.el);\n\n    this._isReplaced = true;\n  },\n\n  // Restore the region's element in the DOM.\n  _restoreEl() {\n    // There is nothing to replace\n    if (!this._isReplaced) {\n      return;\n    }\n\n    const view = this.currentView;\n\n    if (!view) {\n      return;\n    }\n\n    this._detachView(view);\n\n    this._isReplaced = false;\n  },\n\n  // Check to see if the region's el was replaced.\n  isReplaced() {\n    return !!this._isReplaced;\n  },\n\n  // Check to see if a view is being swapped by another\n  isSwappingView() {\n    return !!this._isSwappingView;\n  },\n\n  // Override this method to change how the new view is appended to the `$el` that the\n  // region is managing\n  attachHtml(view) {\n    this.Dom.appendContents(this.el, view.el, {_$el: this.$el, _$contents: view.$el});\n  },\n\n  // Destroy the current view, if there is one. If there is no current view, it does\n  // nothing and returns immediately.\n  empty(options = { allowMissingEl: true }) {\n    const view = this.currentView;\n\n    // If there is no view in the region we should only detach current html\n    if (!view) {\n      if (this._ensureElement(options)) {\n        this.detachHtml();\n      }\n      return this;\n    }\n\n    const shouldDestroy = !options.preventDestroy;\n\n    if (!shouldDestroy) {\n      deprecate('The preventDestroy option is deprecated. Use Region#detachView');\n    }\n\n    this._empty(view, shouldDestroy);\n    return this;\n  },\n\n  _empty(view, shouldDestroy) {\n    view.off('destroy', this._empty, this);\n    this.triggerMethod('before:empty', this, view);\n\n    this._restoreEl();\n\n    delete this.currentView;\n\n    if (!view._isDestroyed) {\n      if (shouldDestroy) {\n        this.removeView(view);\n      } else {\n        this._detachView(view);\n      }\n      this._stopChildViewEvents(view);\n    }\n\n    this.triggerMethod('empty', this, view);\n  },\n\n  _stopChildViewEvents(view) {\n    const parentView = this._parentView;\n\n    if (!parentView) { return; }\n\n    this._parentView.stopListening(view);\n  },\n\n  destroyView(view) {\n    if (view._isDestroyed) {\n      return view;\n    }\n\n    view._shouldDisableEvents = this._shouldDisableMonitoring();\n    destroyView(view);\n    return view;\n  },\n\n  removeView(view) {\n    this.destroyView(view);\n  },\n\n  // Empties the Region without destroying the view\n  // Returns the detached view\n  detachView() {\n    const view = this.currentView;\n\n    if (!view) {\n      return;\n    }\n\n    this._empty(view);\n\n    return view;\n  },\n\n  _detachView(view) {\n    const shouldTriggerDetach = view._isAttached && !this._shouldDisableMonitoring();;\n    const shouldRestoreEl = this._isReplaced;\n    if (shouldTriggerDetach) {\n      triggerMethodOn(view, 'before:detach', view);\n    }\n\n    if (shouldRestoreEl) {\n      this.Dom.replaceEl(this.el, view.el);\n    } else {\n      this.detachHtml();\n    }\n\n    if (shouldTriggerDetach) {\n      view._isAttached = false;\n      triggerMethodOn(view, 'detach', view);\n    }\n  },\n\n  // Override this method to change how the region detaches current content\n  detachHtml() {\n    this.Dom.detachContents(this.el, this.$el);\n  },\n\n  // Checks whether a view is currently present within the region. Returns `true` if there is\n  // and `false` if no view is present.\n  hasView() {\n    return !!this.currentView;\n  },\n\n  // Reset the region by destroying any existing view and clearing out the cached `$el`.\n  // The next time a view is shown via this region, the region will re-query the DOM for\n  // the region's `el`.\n  reset(options) {\n    this.empty(options);\n\n    if (this.$el) {\n      this.el = this._initEl;\n    }\n\n    delete this.$el;\n    return this;\n  },\n\n  destroy(options) {\n    if (this._isDestroyed) { return this; }\n\n    this.reset(options);\n\n    if (this._name) {\n      this._parentView._removeReferences(this._name);\n    }\n    delete this._parentView;\n    delete this._name;\n\n    return MarionetteObject.prototype.destroy.apply(this, arguments);\n  }\n}, {\n  setDomApi\n});\n\nexport default Region;\n","import _ from 'underscore';\nimport deprecate from '../utils/deprecate';\nimport MarionetteError from '../error';\nimport Region from '../region';\n\n// return the region instance from the definition\nexport default function(definition, defaults) {\n  if (definition instanceof Region) {\n    return definition;\n  }\n\n  return buildRegionFromDefinition(definition, defaults);\n}\n\nfunction buildRegionFromDefinition(definition, defaults) {\n  const opts = _.extend({}, defaults);\n\n  if (_.isString(definition)) {\n    _.extend(opts, { el: definition });\n\n    return buildRegionFromObject(opts);\n  }\n\n  if (_.isFunction(definition)) {\n    _.extend(opts, { regionClass: definition });\n\n    return buildRegionFromObject(opts);\n  }\n\n  if (_.isObject(definition)) {\n    if (definition.selector) {\n      deprecate('The selector option on a Region definition object is deprecated. Use el to pass a selector string');\n    }\n\n    _.extend(opts, { el: definition.selector }, definition);\n\n    return buildRegionFromObject(opts);\n  }\n\n  throw new MarionetteError({\n    message: 'Improper region configuration type.',\n    url: 'marionette.region.html#region-configuration-types'\n  });\n}\n\nfunction buildRegionFromObject(definition) {\n  const RegionClass = definition.regionClass\n\n  const options = _.omit(definition, 'regionClass');\n\n  return new RegionClass(options);\n}\n","import _ from 'underscore';\nimport _invoke from '../utils/invoke';\nimport buildRegion from '../common/build-region';\nimport Region from '../region';\n\n// MixinOptions\n// - regions\n// - regionClass\n\nexport default {\n  regionClass: Region,\n\n  // Internal method to initialize the regions that have been defined in a\n  // `regions` attribute on this View.\n  _initRegions() {\n\n    // init regions hash\n    this.regions = this.regions || {};\n    this._regions = {};\n\n    this.addRegions(_.result(this, 'regions'));\n  },\n\n  // Internal method to re-initialize all of the regions by updating\n  // the `el` that they point to\n  _reInitRegions() {\n    _invoke(this._regions, 'reset');\n  },\n\n  // Add a single region, by name, to the View\n  addRegion(name, definition) {\n    const regions = {};\n    regions[name] = definition;\n    return this.addRegions(regions)[name];\n  },\n\n  // Add multiple regions as a {name: definition, name2: def2} object literal\n  addRegions(regions) {\n    // If there's nothing to add, stop here.\n    if (_.isEmpty(regions)) {\n      return;\n    }\n\n    // Normalize region selectors hash to allow\n    // a user to use the @ui. syntax.\n    regions = this.normalizeUIValues(regions, ['selector', 'el']);\n\n    // Add the regions definitions to the regions property\n    this.regions = _.extend({}, this.regions, regions);\n\n    return this._addRegions(regions);\n  },\n\n  // internal method to build and add regions\n  _addRegions(regionDefinitions) {\n    const defaults = {\n      regionClass: this.regionClass,\n      parentEl: _.partial(_.result, this, 'el')\n    };\n\n    return _.reduce(regionDefinitions, (regions, definition, name) => {\n      regions[name] = buildRegion(definition, defaults);\n      this._addRegion(regions[name], name);\n      return regions;\n    }, {});\n  },\n\n  _addRegion(region, name) {\n    this.triggerMethod('before:add:region', this, name, region);\n\n    region._parentView = this;\n    region._name = name;\n\n    this._regions[name] = region;\n\n    this.triggerMethod('add:region', this, name, region);\n  },\n\n  // Remove a single region from the View, by name\n  removeRegion(name) {\n    const region = this._regions[name];\n\n    this._removeRegion(region, name);\n\n    return region;\n  },\n\n  // Remove all regions from the View\n  removeRegions() {\n    const regions = this._getRegions();\n\n    _.each(this._regions, _.bind(this._removeRegion, this));\n\n    return regions;\n  },\n\n  _removeRegion(region, name) {\n    this.triggerMethod('before:remove:region', this, name, region);\n\n    region.destroy();\n\n    this.triggerMethod('remove:region', this, name, region);\n  },\n\n  // Called in a region's destroy\n  _removeReferences(name) {\n    delete this.regions[name];\n    delete this._regions[name];\n  },\n\n  // Empty all regions in the region manager, but\n  // leave them attached\n  emptyRegions() {\n    const regions = this.getRegions();\n    _invoke(regions, 'empty');\n    return regions;\n  },\n\n  // Checks to see if view contains region\n  // Accepts the region name\n  // hasRegion('main')\n  hasRegion(name) {\n    return !!this.getRegion(name);\n  },\n\n  // Provides access to regions\n  // Accepts the region name\n  // getRegion('main')\n  getRegion(name) {\n    if (!this._isRendered) {\n      this.render();\n    }\n    return this._regions[name];\n  },\n\n  // Get all regions\n  _getRegions() {\n    return _.clone(this._regions);\n  },\n\n  getRegions() {\n    if (!this._isRendered) {\n      this.render();\n    }\n    return this._getRegions();\n  },\n\n  showChildView(name, view, ...args) {\n    const region = this.getRegion(name);\n    return region.show(view, ...args);\n  },\n\n  detachChildView(name) {\n    return this.getRegion(name).detachView();\n  },\n\n  getChildView(name) {\n    return this.getRegion(name).currentView;\n  }\n\n};\n","// Renderer\n// --------\n\nimport _ from 'underscore';\nimport MarionetteError from '../error';\nimport TemplateCache from '../template-cache';\n\n// Render a template with data by passing in the template\n// selector and the data to render.\nconst Renderer = {\n\n  // Render a template with data. The `template` parameter is\n  // passed to the `TemplateCache` object to retrieve the\n  // template function. Override this method to provide your own\n  // custom rendering and template handling for all of Marionette.\n  render(template, data) {\n    if (!template) {\n      throw new MarionetteError({\n        name: 'TemplateNotFoundError',\n        message: 'Cannot render the template since its false, null or undefined.'\n      });\n    }\n\n    const templateFunc = _.isFunction(template) ? template : TemplateCache.get(template);\n\n    return templateFunc(data);\n  }\n};\n\nexport default Renderer;\n","// View\n// ---------\n\nimport _ from 'underscore';\nimport Backbone from 'backbone';\nimport deprecate from './utils/deprecate';\nimport isNodeAttached from './common/is-node-attached';\nimport monitorViewEvents from './common/monitor-view-events';\nimport ViewMixin from './mixins/view';\nimport RegionsMixin from './mixins/regions';\nimport Renderer from './config/renderer';\nimport { setDomApi } from './config/dom';\n\nconst ClassOptions = [\n  'behaviors',\n  'childViewEventPrefix',\n  'childViewEvents',\n  'childViewTriggers',\n  'collectionEvents',\n  'events',\n  'modelEvents',\n  'regionClass',\n  'regions',\n  'template',\n  'templateContext',\n  'triggers',\n  'ui'\n];\n\n// The standard view. Includes view events, automatic rendering\n// of Underscore templates, nested views, and more.\nconst View = Backbone.View.extend({\n\n  constructor(options) {\n    this.render = _.bind(this.render, this);\n\n    this._setOptions(options);\n\n    this.mergeOptions(options, ClassOptions);\n\n    monitorViewEvents(this);\n\n    this._initBehaviors();\n    this._initRegions();\n\n    const args = Array.prototype.slice.call(arguments);\n    args[0] = this.options;\n    Backbone.View.prototype.constructor.apply(this, args);\n\n    this.delegateEntityEvents();\n\n    this._triggerEventOnBehaviors('initialize', this);\n  },\n\n  // Serialize the view's model *or* collection, if\n  // it exists, for the template\n  serializeData() {\n    if (!this.model && !this.collection) {\n      return {};\n    }\n\n    // If we have a model, we serialize that\n    if (this.model) {\n      return this.serializeModel();\n    }\n\n    // Otherwise, we serialize the collection,\n    // making it available under the `items` property\n    return {\n      items: this.serializeCollection()\n    };\n  },\n\n  // Prepares the special `model` property of a view\n  // for being displayed in the template. By default\n  // we simply clone the attributes. Override this if\n  // you need a custom transformation for your view's model\n  serializeModel() {\n    if (!this.model) { return {}; }\n    return _.clone(this.model.attributes);\n  },\n\n  // Serialize a collection by cloning each of\n  // its model's attributes\n  serializeCollection() {\n    if (!this.collection) { return {}; }\n    return this.collection.map(function(model) { return _.clone(model.attributes); });\n  },\n\n  // Overriding Backbone.View's `setElement` to handle\n  // if an el was previously defined. If so, the view might be\n  // rendered or attached on setElement.\n  setElement() {\n    const hasEl = !!this.el;\n\n    Backbone.View.prototype.setElement.apply(this, arguments);\n\n    if (hasEl) {\n      this._isRendered = this.Dom.hasContents(this.el);\n      this._isAttached = isNodeAttached(this.el);\n    }\n\n    if (this._isRendered) {\n      this.bindUIElements();\n    }\n\n    return this;\n  },\n\n  // Render the view, defaulting to underscore.js templates.\n  // You can override this in your view definition to provide\n  // a very specific rendering for your view. In general, though,\n  // you should override the `Marionette.Renderer` object to\n  // change how Marionette renders views.\n  // Subsequent renders after the first will re-render all nested\n  // views.\n  render() {\n    if (this._isDestroyed) { return this; }\n\n    this.triggerMethod('before:render', this);\n\n    // If this is not the first render call, then we need to\n    // re-initialize the `el` for each region\n    if (this._isRendered) {\n      this._reInitRegions();\n    }\n\n    this._renderTemplate();\n    this.bindUIElements();\n\n    this._isRendered = true;\n    this.triggerMethod('render', this);\n\n    return this;\n  },\n\n  // Internal method to render the template with the serialized data\n  // and template context via the `Marionette.Renderer` object.\n  _renderTemplate() {\n    const template = this.getTemplate();\n\n    // Allow template-less views\n    if (template === false) {\n      deprecate('template:false is deprecated.  Use _.noop.');\n      return;\n    }\n\n    // Add in entity data and template context\n    const data = this.mixinTemplateContext(this.serializeData());\n\n    // Render and add to el\n    const html = this._renderHtml(template, data);\n    this.attachElContent(html);\n  },\n\n  // Renders the data into the template\n  _renderHtml(template, data) {\n    return Renderer.render(template, data, this);\n  },\n\n  // Get the template for this view\n  // instance. You can set a `template` attribute in the view\n  // definition or pass a `template: \"whatever\"` parameter in\n  // to the constructor options.\n  getTemplate() {\n    return this.template;\n  },\n\n  // Mix in template context methods. Looks for a\n  // `templateContext` attribute, which can either be an\n  // object literal, or a function that returns an object\n  // literal. All methods and attributes from this object\n  // are copies to the object passed in.\n  mixinTemplateContext(target = {}) {\n    const templateContext = _.result(this, 'templateContext');\n    return _.extend(target, templateContext);\n  },\n\n  // Attaches the content of a given view.\n  // This method can be overridden to optimize rendering,\n  // or to render in a non standard way.\n  //\n  // For example, using `innerHTML` instead of `$el.html`\n  //\n  // ```js\n  // attachElContent(html) {\n  //   this.el.innerHTML = html;\n  //   return this;\n  // }\n  // ```\n  attachElContent(html) {\n    this.Dom.setContents(this.el, html, this.$el);\n\n    return this;\n  },\n\n  // called by ViewMixin destroy\n  _removeChildren() {\n    this.removeRegions();\n  },\n\n  _getImmediateChildren() {\n    return _.chain(this._getRegions())\n      .map('currentView')\n      .compact()\n      .value();\n  }\n}, {\n  // Sets the renderer for the Marionette.View class\n  setRenderer(renderer) {\n    this.prototype._renderHtml = renderer;\n  },\n\n  setDomApi\n});\n\n_.extend(View.prototype, ViewMixin, RegionsMixin);\n\nexport default View;\n","// Mix in methods from Underscore, for iteration, and other\n// collection related features.\n// Borrowing this code from Backbone.Collection:\n// https://github.com/jashkenas/backbone/blob/1.1.2/backbone.js#L962\n\nimport _ from 'underscore';\n\nconst methods = ['forEach', 'each', 'map', 'find', 'detect', 'filter',\n                'select', 'reject', 'every', 'all', 'some', 'any', 'include',\n                'contains', 'invoke', 'toArray', 'first', 'initial', 'rest',\n                'last', 'without', 'isEmpty', 'pluck', 'reduce', 'partition'];\n\nconst emulateCollection = function(object, listProperty) {\n  _.each(methods, function(method) {\n    object[method] = function() {\n      const list = _.result(this, listProperty);\n      const args = Array.prototype.slice.call(arguments);\n      return _[method].apply(_, [list].concat(args));\n    };\n  });\n};\n\nexport default emulateCollection;\n","import _ from 'underscore';\nimport emulateCollection from './utils/emulate-collection';\n\n// Provide a container to store, retrieve and\n// shut down child views.\nconst Container = function(views) {\n  this._views = {};\n  this._indexByModel = {};\n  this._indexByCustom = {};\n  this._updateLength();\n\n  _.each(views, _.bind(this.add, this));\n};\n\nemulateCollection(Container.prototype, '_getViews');\n\n// Container Methods\n// -----------------\n\n_.extend(Container.prototype, {\n\n  _getViews() {\n    return _.values(this._views);\n  },\n\n  // Add a view to this container. Stores the view\n  // by `cid` and makes it searchable by the model\n  // cid (and model itself). Optionally specify\n  // a custom key to store an retrieve the view.\n  add(view, customIndex) {\n    return this._add(view, customIndex)._updateLength();\n  },\n\n  // To be used when avoiding call _updateLength\n  // When you are done adding all your new views\n  // call _updateLength\n  _add(view, customIndex) {\n    const viewCid = view.cid;\n\n    // store the view\n    this._views[viewCid] = view;\n\n    // index it by model\n    if (view.model) {\n      this._indexByModel[view.model.cid] = viewCid;\n    }\n\n    // index by custom\n    if (customIndex) {\n      this._indexByCustom[customIndex] = viewCid;\n    }\n\n    return this;\n  },\n\n  // Find a view by the model that was attached to\n  // it. Uses the model's `cid` to find it.\n  findByModel(model) {\n    return this.findByModelCid(model.cid);\n  },\n\n  // Find a view by the `cid` of the model that was attached to\n  // it. Uses the model's `cid` to find the view `cid` and\n  // retrieve the view using it.\n  findByModelCid(modelCid) {\n    const viewCid = this._indexByModel[modelCid];\n    return this.findByCid(viewCid);\n  },\n\n  // Find a view by a custom indexer.\n  findByCustom(index) {\n    const viewCid = this._indexByCustom[index];\n    return this.findByCid(viewCid);\n  },\n\n  // Find by index. This is not guaranteed to be a\n  // stable index.\n  findByIndex(index) {\n    return _.values(this._views)[index];\n  },\n\n  // retrieve a view by its `cid` directly\n  findByCid(cid) {\n    return this._views[cid];\n  },\n\n  // Remove a view\n  remove(view) {\n    return this._remove(view)._updateLength();\n  },\n\n  // To be used when avoiding call _updateLength\n  // When you are done adding all your new views\n  // call _updateLength\n  _remove(view) {\n    const viewCid = view.cid;\n\n    // delete model index\n    if (view.model) {\n      delete this._indexByModel[view.model.cid];\n    }\n\n    // delete custom index\n    _.some(this._indexByCustom, _.bind(function(cid, key) {\n      if (cid === viewCid) {\n        delete this._indexByCustom[key];\n        return true;\n      }\n    }, this));\n\n    // remove the view from the container\n    delete this._views[viewCid];\n\n    return this;\n  },\n\n  // Update the `.length` attribute on this container\n  _updateLength() {\n    this.length = _.size(this._views);\n\n    return this;\n  }\n});\n\nexport default Container;\n","// Collection View\n// ---------------\n\nimport _ from 'underscore';\nimport Backbone from 'backbone';\nimport { renderView, destroyView } from './common/view';\nimport isNodeAttached from './common/is-node-attached';\nimport monitorViewEvents from './common/monitor-view-events';\nimport { triggerMethodOn } from './common/trigger-method';\nimport ChildViewContainer from './child-view-container';\nimport MarionetteError from './error';\nimport ViewMixin from './mixins/view';\nimport { setDomApi } from './config/dom';\n\nconst ClassOptions = [\n  'behaviors',\n  'childView',\n  'childViewEventPrefix',\n  'childViewEvents',\n  'childViewOptions',\n  'childViewTriggers',\n  'collectionEvents',\n  'events',\n  'filter',\n  'emptyView',\n  'emptyViewOptions',\n  'modelEvents',\n  'reorderOnSort',\n  'sort',\n  'triggers',\n  'ui',\n  'viewComparator'\n];\n\n// A view that iterates over a Backbone.Collection\n// and renders an individual child view for each model.\nconst CollectionView = Backbone.View.extend({\n\n  // flag for maintaining the sorted order of the collection\n  sort: true,\n\n  // constructor\n  // option to pass `{sort: false}` to prevent the `CollectionView` from\n  // maintaining the sorted order of the collection.\n  // This will fallback onto appending childView's to the end.\n  //\n  // option to pass `{viewComparator: compFunction()}` to allow the `CollectionView`\n  // to use a custom sort order for the collection.\n  constructor(options) {\n    this.render = _.bind(this.render, this);\n\n    this._setOptions(options);\n\n    this.mergeOptions(options, ClassOptions);\n\n    monitorViewEvents(this);\n\n    this._initBehaviors();\n    this.once('render', this._initialEvents);\n    this._initChildViewStorage();\n    this._bufferedChildren = [];\n\n    const args = Array.prototype.slice.call(arguments);\n    args[0] = this.options;\n    Backbone.View.prototype.constructor.apply(this, args);\n\n    this.delegateEntityEvents();\n\n    this._triggerEventOnBehaviors('initialize', this);\n  },\n\n  // Instead of inserting elements one by one into the page, it's much more performant to insert\n  // elements into a document fragment and then insert that document fragment into the page\n  _startBuffering() {\n    this._isBuffering = true;\n  },\n\n  _endBuffering() {\n    const shouldTriggerAttach = this._isAttached && this.monitorViewEvents !== false;\n    const triggerOnChildren = shouldTriggerAttach ? this._getImmediateChildren() : [];\n\n    this._isBuffering = false;\n\n    _.each(triggerOnChildren, child => {\n      triggerMethodOn(child, 'before:attach', child);\n    });\n\n    this.attachBuffer(this, this._createBuffer());\n\n    _.each(triggerOnChildren, child => {\n      child._isAttached = true;\n      triggerMethodOn(child, 'attach', child);\n    });\n\n    this._bufferedChildren = [];\n  },\n\n  _getImmediateChildren() {\n    return _.values(this.children._views);\n  },\n\n  // Configured the initial events that the collection view binds to.\n  _initialEvents() {\n    if (this.collection) {\n      this.listenTo(this.collection, 'add', this._onCollectionAdd);\n      this.listenTo(this.collection, 'update', this._onCollectionUpdate);\n      this.listenTo(this.collection, 'reset', this.render);\n\n      if (this.sort) {\n        this.listenTo(this.collection, 'sort', this._sortViews);\n      }\n    }\n  },\n\n  // Handle a child added to the collection\n  _onCollectionAdd(child, collection, opts) {\n    // `index` is present when adding with `at` since BB 1.2; indexOf fallback for < 1.2\n    let index = opts.at !== undefined && (opts.index || collection.indexOf(child));\n\n    // When filtered or when there is no initial index, calculate index.\n    if (this.filter || index === false) {\n      index = _.indexOf(this._filteredSortedModels(index), child);\n    }\n\n    if (this._shouldAddChild(child, index)) {\n      this._destroyEmptyView();\n      this._addChild(child, index)\n    }\n  },\n\n  // Handle collection update model removals\n  _onCollectionUpdate(collection, options) {\n    const changes = options.changes;\n    this._removeChildModels(changes.removed);\n  },\n\n  // Remove the child views and destroy them.\n  // This function also updates the indices of later views\n  // in the collection in order to keep the children in sync with the collection.\n  // \"models\" is an array of models and the corresponding views\n  // will be removed and destroyed from the CollectionView\n  _removeChildModels(models) {\n    // Used to determine where to update the remaining\n    // sibling view indices after these views are removed.\n    const removedViews = this._getRemovedViews(models);\n\n    if (!removedViews.length) {\n      return;\n    }\n\n    this.children._updateLength();\n\n    // decrement the index of views after this one\n    this._updateIndices(removedViews, false);\n\n    if (this.isEmpty()) {\n      this._showEmptyView();\n    }\n  },\n\n  // Returns the views that will be used for re-indexing\n  // through CollectionView#_updateIndices.\n  _getRemovedViews(models) {\n\n    // Returning a view means something was removed.\n    return _.reduce(models, (removingViews, model) => {\n      const view = model && this.children.findByModel(model);\n\n      if (!view || view._isDestroyed) {\n        return removingViews;\n      }\n\n      this._removeChildView(view);\n\n      removingViews.push(view);\n\n      return removingViews;\n    }, []);\n  },\n\n  _removeChildView(view) {\n    this.triggerMethod('before:remove:child', this, view);\n\n    this.children._remove(view);\n    view._shouldDisableEvents = this.monitorViewEvents === false;\n    destroyView(view);\n\n    this.stopListening(view);\n    this.triggerMethod('remove:child', this, view);\n  },\n\n  // Overriding Backbone.View's `setElement` to handle\n  // if an el was previously defined. If so, the view might be\n  // attached on setElement.\n  setElement() {\n    const hasEl = !!this.el;\n\n    Backbone.View.prototype.setElement.apply(this, arguments);\n\n    if (hasEl) {\n      this._isAttached = isNodeAttached(this.el);\n    }\n\n    return this;\n  },\n\n  // Render children views. Override this method to provide your own implementation of a\n  // render function for the collection view.\n  render() {\n    if (this._isDestroyed) { return this; }\n    this.triggerMethod('before:render', this);\n    this._renderChildren();\n    this._isRendered = true;\n    this.triggerMethod('render', this);\n    return this;\n  },\n\n  // An efficient rendering used for filtering. Instead of modifying the whole DOM for the\n  // collection view, we are only adding or removing the related childrenViews.\n  setFilter(filter, {preventRender} = {}) {\n    const canBeRendered = this._isRendered && !this._isDestroyed;\n    const filterChanged = this.filter !== filter;\n    const shouldRender = canBeRendered && filterChanged && !preventRender;\n\n    if (shouldRender) {\n      const previousModels = this._filteredSortedModels();\n      this.filter = filter;\n      const models = this._filteredSortedModels();\n      this._applyModelDeltas(models, previousModels);\n    } else {\n      this.filter = filter;\n    }\n\n    return this;\n  },\n\n  // `removeFilter` is actually an alias for removing filters.\n  removeFilter(options) {\n    return this.setFilter(null, options);\n  },\n\n  // Calculate and apply difference by cid between `models` and `previousModels`.\n  _applyModelDeltas(models, previousModels) {\n    const currentIds = {};\n    _.each(models, (model, index) => {\n      const addedChildNotExists = !this.children.findByModel(model);\n      if (addedChildNotExists) {\n        this._onCollectionAdd(model, this.collection, {at: index});\n      }\n      currentIds[model.cid] = true;\n    });\n\n    const removeModels = _.filter(previousModels, (prevModel) => {\n      return !currentIds[prevModel.cid] && this.children.findByModel(prevModel);\n    });\n\n    this._removeChildModels(removeModels);\n  },\n\n  // Reorder DOM after sorting. When your element's rendering do not use their index,\n  // you can pass reorderOnSort: true to only reorder the DOM after a sort instead of\n  // rendering all the collectionView.\n  reorder() {\n    const children = this.children;\n    const models = this._filteredSortedModels();\n\n    if (!models.length && this._showingEmptyView) { return this; }\n\n    const anyModelsAdded = _.some(models, function(model) {\n      return !children.findByModel(model);\n    });\n\n    // If there are any new models added due to filtering we need to add child views,\n    // so render as normal.\n    if (anyModelsAdded) {\n      this.render();\n    } else {\n\n      const filteredOutModels = [];\n\n      // Get the DOM nodes in the same order as the models and\n      // find the model that were children before but aren't in this new order.\n      const elsToReorder = _.reduce(this.children._views, function(viewEls, view) {\n        const index = _.indexOf(models, view.model);\n\n        if (index === -1) {\n          filteredOutModels.push(view.model);\n          return viewEls;\n        }\n\n        view._index = index;\n\n        viewEls[index] = view.el;\n\n        return viewEls;\n      }, new Array(models.length));\n\n      this.triggerMethod('before:reorder', this);\n\n      const elBuffer = this.Dom.createBuffer();\n\n      _.each(elsToReorder, (el) => {\n        this.Dom.appendContents(elBuffer, el);\n      });\n\n      // Since append moves elements that are already in the DOM, appending the elements\n      // will effectively reorder them.\n      this._appendReorderedChildren(elBuffer);\n\n      // remove any views that have been filtered out\n      this._removeChildModels(filteredOutModels);\n\n      this.triggerMethod('reorder', this);\n    }\n    return this;\n  },\n\n  // Render view after sorting. Override this method to change how the view renders\n  // after a `sort` on the collection.\n  resortView() {\n    if (this.reorderOnSort) {\n      this.reorder();\n    } else {\n      this._renderChildren();\n    }\n    return this;\n  },\n\n  // Internal method. This checks for any changes in the order of the collection.\n  // If the index of any view doesn't match, it will render.\n  _sortViews() {\n    const models = this._filteredSortedModels();\n\n    // check for any changes in sort order of views\n    const orderChanged = _.find(models, (item, index) => {\n      const view = this.children.findByModel(item);\n      return !view || view._index !== index;\n    });\n\n    if (orderChanged) {\n      this.resortView();\n    }\n  },\n\n  // Internal reference to what index a `emptyView` is.\n  _emptyViewIndex: -1,\n\n  // Internal method. Separated so that CompositeView can append to the childViewContainer\n  // if necessary\n  _appendReorderedChildren(children) {\n    this.Dom.appendContents(this.el, children, {_$el: this.$el});\n  },\n\n  // Internal method. Separated so that CompositeView can have more control over events\n  // being triggered, around the rendering process\n  _renderChildren() {\n    if (this._isRendered) {\n      this._destroyEmptyView();\n      this._destroyChildren();\n    }\n\n    const models = this._filteredSortedModels();\n    if (this.isEmpty({processedModels: models})) {\n      this._showEmptyView();\n    } else {\n      this.triggerMethod('before:render:children', this);\n      this._startBuffering();\n      this._showCollection(models);\n      this._endBuffering();\n      this.triggerMethod('render:children', this);\n    }\n  },\n\n  _createView(model, index) {\n    const ChildView = this._getChildView(model);\n    const childViewOptions = this._getChildViewOptions(model, index);\n    const view = this.buildChildView(model, ChildView, childViewOptions);\n    return view;\n  },\n\n  _setupChildView(view, index) {\n    monitorViewEvents(view);\n\n    // set up the child view event forwarding\n    this._proxyChildViewEvents(view);\n\n    if (this.sort) {\n      view._index = index;\n    }\n  },\n\n  // Internal method to loop through collection and show each child view.\n  _showCollection(models) {\n    _.each(models, _.bind(this._addChild, this));\n    this.children._updateLength();\n  },\n\n  // Allow the collection to be sorted by a custom view comparator\n  _filteredSortedModels(addedAt) {\n    if (!this.collection || !this.collection.length) { return []; }\n\n    const viewComparator = this.getViewComparator();\n    let models = this.collection.models;\n    addedAt = Math.min(Math.max(addedAt, 0), models.length - 1);\n\n    if (viewComparator) {\n      let addedModel;\n      // Preserve `at` location, even for a sorted view\n      if (addedAt) {\n        addedModel = models[addedAt];\n        models = models.slice(0, addedAt).concat(models.slice(addedAt + 1));\n      }\n      models = this._sortModelsBy(models, viewComparator);\n      if (addedModel) {\n        models.splice(addedAt, 0, addedModel);\n      }\n    }\n\n    // Filter after sorting in case the filter uses the index\n    models = this._filterModels(models);\n\n    return models;\n  },\n\n  getViewComparator() {\n    return this.viewComparator;\n  },\n\n  // Filter an array of models, if a filter exists\n  _filterModels(models) {\n    if (this.filter) {\n      models = _.filter(models, (model, index) => {\n        return this._shouldAddChild(model, index);\n      });\n    }\n    return models;\n  },\n\n  _sortModelsBy(models, comparator) {\n    if (typeof comparator === 'string') {\n      return _.sortBy(models, (model) => {\n        return model.get(comparator);\n      });\n    } else if (comparator.length === 1) {\n      return _.sortBy(models, _.bind(comparator, this));\n    } else {\n      return _.clone(models).sort(_.bind(comparator, this));\n    }\n  },\n\n  // Internal method to show an empty view in place of a collection of child views,\n  // when the collection is empty\n  _showEmptyView() {\n    const EmptyView = this._getEmptyView();\n\n    if (EmptyView && !this._showingEmptyView) {\n      this._showingEmptyView = true;\n\n      const model = new Backbone.Model();\n      let emptyViewOptions =\n        this.emptyViewOptions || this.childViewOptions;\n      if (_.isFunction(emptyViewOptions)) {\n        emptyViewOptions = emptyViewOptions.call(this, model, this._emptyViewIndex);\n      }\n\n      const view = this.buildChildView(model, EmptyView, emptyViewOptions);\n\n      this.triggerMethod('before:render:empty', this, view);\n      this.addChildView(view, 0);\n      this.triggerMethod('render:empty', this, view);\n    }\n  },\n\n  // Internal method to destroy an existing emptyView instance if one exists. Called when\n  // a collection view has been rendered empty, and then a child is added to the collection.\n  _destroyEmptyView() {\n    if (this._showingEmptyView) {\n      this.triggerMethod('before:remove:empty', this);\n\n      this._destroyChildren();\n      delete this._showingEmptyView;\n\n      this.triggerMethod('remove:empty', this);\n    }\n  },\n\n  // Retrieve the empty view class\n  _getEmptyView() {\n    const emptyView = this.emptyView;\n\n    if (!emptyView) { return; }\n\n    return this._getView(emptyView);\n  },\n\n  // Retrieve the `childView` class\n  // The `childView` property can be either a view class or a function that\n  // returns a view class. If it is a function, it will receive the model that\n  // will be passed to the view instance (created from the returned view class)\n  _getChildView(child) {\n    let childView = this.childView;\n\n    if (!childView) {\n      throw new MarionetteError({\n        name: 'NoChildViewError',\n        message: 'A \"childView\" must be specified'\n      });\n    }\n\n    childView = this._getView(childView, child);\n\n    if (!childView) {\n      throw new MarionetteError({\n        name: 'InvalidChildViewError',\n        message: '\"childView\" must be a view class or a function that returns a view class'\n      });\n    }\n\n    return childView;\n  },\n\n  // First check if the `view` is a view class (the common case)\n  // Then check if it's a function (which we assume that returns a view class)\n  _getView(view, child) {\n    if (view.prototype instanceof Backbone.View || view === Backbone.View) {\n      return view;\n    } else if (_.isFunction(view)) {\n      return view.call(this, child);\n    }\n  },\n\n  // Internal method for building and adding a child view\n  _addChild(child, index) {\n    const view = this._createView(child, index);\n    this.addChildView(view, index);\n\n    return view;\n  },\n\n  _getChildViewOptions(child, index) {\n    if (_.isFunction(this.childViewOptions)) {\n      return this.childViewOptions(child, index);\n    }\n\n    return this.childViewOptions;\n  },\n\n  // Render the child's view and add it to the HTML for the collection view at a given index.\n  // This will also update the indices of later views in the collection in order to keep the\n  // children in sync with the collection.\n  addChildView(view, index) {\n    this.triggerMethod('before:add:child', this, view);\n    this._setupChildView(view, index);\n\n    // Store the child view itself so we can properly remove and/or destroy it later\n    if (this._isBuffering) {\n      // Add to children, but don't update children's length.\n      this.children._add(view);\n    } else {\n      // increment indices of views after this one\n      this._updateIndices(view, true);\n      this.children.add(view);\n    }\n\n    renderView(view);\n\n    this._attachView(view, index);\n\n    this.triggerMethod('add:child', this, view);\n\n    return view;\n  },\n\n  // Internal method. This decrements or increments the indices of views after the added/removed\n  // view to keep in sync with the collection.\n  _updateIndices(views, increment) {\n    if (!this.sort) {\n      return;\n    }\n\n    if (!increment) {\n      _.each(_.sortBy(this.children._views, '_index'), (view, index) => {\n        view._index = index;\n      });\n\n      return;\n    }\n\n    const view = _.isArray(views) ? _.max(views, '_index') : views;\n\n    if (_.isObject(view)) {\n      // update the indexes of views after this one\n      _.each(this.children._views, (laterView) => {\n        if (laterView._index >= view._index) {\n          laterView._index += 1;\n        }\n      });\n    }\n  },\n\n  _attachView(view, index) {\n    // Only trigger attach if already attached and not buffering,\n    // otherwise _endBuffering() or Region#show() handles this.\n    const shouldTriggerAttach = !view._isAttached && !this._isBuffering && this._isAttached && this.monitorViewEvents !== false;\n\n    if (shouldTriggerAttach) {\n      triggerMethodOn(view, 'before:attach', view);\n    }\n\n    this.attachHtml(this, view, index);\n\n    if (shouldTriggerAttach) {\n      view._isAttached = true;\n      triggerMethodOn(view, 'attach', view);\n    }\n  },\n\n  // Build a `childView` for a model in the collection.\n  buildChildView(child, ChildViewClass, childViewOptions) {\n    const options = _.extend({model: child}, childViewOptions);\n    return new ChildViewClass(options);\n  },\n\n  // Remove the child view and destroy it. This function also updates the indices of later views\n  // in the collection in order to keep the children in sync with the collection.\n  removeChildView(view) {\n    if (!view || view._isDestroyed) {\n      return view;\n    }\n\n    this._removeChildView(view);\n    this.children._updateLength();\n    // decrement the index of views after this one\n    this._updateIndices(view, false);\n    return view;\n  },\n\n  // check if the collection is empty or optionally whether an array of pre-processed models is empty\n  isEmpty(options) {\n    let models;\n    if (_.result(options, 'processedModels')) {\n      models = options.processedModels;\n    } else {\n      models = this.collection ? this.collection.models : [];\n      models = this._filterModels(models);\n    }\n    return models.length === 0;\n  },\n\n  // You might need to override this if you've overridden attachHtml\n  attachBuffer(collectionView, buffer) {\n    this.Dom.appendContents(collectionView.el, buffer, {_$el: collectionView.$el});\n  },\n\n  // Create a fragment buffer from the currently buffered children\n  _createBuffer() {\n    const elBuffer = this.Dom.createBuffer();\n    _.each(this._bufferedChildren, (b) => {\n      this.Dom.appendContents(elBuffer, b.el, {_$contents: b.$el});\n    });\n    return elBuffer;\n  },\n\n  // Append the HTML to the collection's `el`. Override this method to do something other\n  // than `.append`.\n  attachHtml(collectionView, childView, index) {\n    if (collectionView._isBuffering) {\n      // buffering happens on reset events and initial renders\n      // in order to reduce the number of inserts into the\n      // document, which are expensive.\n      collectionView._bufferedChildren.splice(index, 0, childView);\n    } else {\n      // If we've already rendered the main collection, append\n      // the new child into the correct order if we need to. Otherwise\n      // append to the end.\n      if (!collectionView._insertBefore(childView, index)) {\n        collectionView._insertAfter(childView);\n      }\n    }\n  },\n\n  // Internal method. Check whether we need to insert the view into the correct position.\n  _insertBefore(childView, index) {\n    let currentView;\n    const findPosition = this.sort && (index < this.children.length - 1);\n    if (findPosition) {\n      // Find the view after this one\n      currentView = _.find(this.children._views, (view) => {\n        return view._index === index + 1;\n      });\n    }\n\n    if (currentView) {\n      this.beforeEl(currentView.el, childView.el);\n      return true;\n    }\n\n    return false;\n  },\n\n  // Override to handle DOM inserting differently\n  beforeEl(el, siblings) {\n    this.$(el).before(siblings);\n  },\n\n  // Internal method. Append a view to the end of the $el\n  _insertAfter(childView) {\n    this.Dom.appendContents(this.el, childView.el, {_$el: this.$el, _$contents: childView.$el});\n  },\n\n  // Internal method to set up the `children` object for storing all of the child views\n  _initChildViewStorage() {\n    this.children = new ChildViewContainer();\n  },\n\n  // called by ViewMixin destroy\n  _removeChildren() {\n    this._destroyChildren();\n  },\n\n  // Destroy the child views that this collection view is holding on to, if any\n  _destroyChildren(options) {\n    if (!this.children.length) {\n      return;\n    }\n\n    this.triggerMethod('before:destroy:children', this);\n    _.each(this.children._views, _.bind(this._removeChildView, this));\n    this.children._updateLength();\n    this.triggerMethod('destroy:children', this);\n  },\n\n  // Return true if the given child should be shown. Return false otherwise.\n  // The filter will be passed (child, index, collection), where\n  //  'child' is the given model\n  //  'index' is the index of that model in the collection\n  //  'collection' is the collection referenced by this CollectionView\n  _shouldAddChild(child, index) {\n    const filter = this.filter;\n    return !_.isFunction(filter) || filter.call(this, child, index, this.collection);\n  }\n}, {\n  setDomApi\n});\n\n_.extend(CollectionView.prototype, ViewMixin);\n\nexport default CollectionView;\n","import _ from 'underscore';\nimport emulateCollection from './utils/emulate-collection';\n\n// Provide a container to store, retrieve and\n// shut down child views.\nconst Container = function() {\n  this._init();\n};\n\nemulateCollection(Container.prototype, '_views');\n\nfunction stringComparator(comparator, view) {\n  return view.model && view.model.get(comparator);\n}\n\n// Container Methods\n// -----------------\n\n_.extend(Container.prototype, {\n\n  // Initializes an empty container\n  _init() {\n    this._views = [];\n    this._viewsByCid = {};\n    this._indexByModel = {};\n    this._updateLength();\n  },\n\n  // Add a view to this container. Stores the view\n  // by `cid` and makes it searchable by the model\n  // cid (and model itself). Additionally it stores\n  // the view by index in the _views array\n  _add(view, index = this._views.length) {\n    const viewCid = view.cid;\n\n    // store the view\n    this._viewsByCid[viewCid] = view;\n\n    // index it by model\n    if (view.model) {\n      this._indexByModel[view.model.cid] = viewCid;\n    }\n\n    // add to end by default\n    this._views.splice(index, 0, view);\n\n    this._updateLength();\n  },\n\n  // Sort (mutate) and return the array of the child views.\n  _sort(comparator) {\n    if (typeof comparator === 'string') {\n      comparator = _.partial(stringComparator, comparator);\n      return this._sortBy(comparator);\n    }\n\n    if (comparator.length === 1) {\n      return this._sortBy(comparator);\n    }\n\n    return this._views.sort(comparator);\n  },\n\n  // Makes `_.sortBy` mutate the array to match `this._views.sort`\n  _sortBy(comparator) {\n    const sortedViews = _.sortBy(this._views, comparator);\n\n    this._set(sortedViews);\n\n    return sortedViews;\n  },\n\n  // Replace array contents without overwriting the reference.\n  _set(views) {\n    this._views.length = 0;\n\n    this._views.push.apply(this._views, views.slice(0));\n\n    this._updateLength();\n  },\n\n  // Swap views by index\n  _swap(view1, view2) {\n    const view1Index = this.findIndexByView(view1);\n    const view2Index = this.findIndexByView(view2);\n\n    if (view1Index === -1 || view2Index === -1) {\n      return;\n    }\n\n    const swapView = this._views[view1Index];\n    this._views[view1Index] = this._views[view2Index];\n    this._views[view2Index] = swapView;\n  },\n\n  // Find a view by the model that was attached to it.\n  // Uses the model's `cid` to find it.\n  findByModel(model) {\n    return this.findByModelCid(model.cid);\n  },\n\n  // Find a view by the `cid` of the model that was attached to it.\n  // Uses the model's `cid` to find the view `cid` and\n  // retrieve the view using it.\n  findByModelCid(modelCid) {\n    const viewCid = this._indexByModel[modelCid];\n    return this.findByCid(viewCid);\n  },\n\n  // Find a view by index.\n  findByIndex(index) {\n    return this._views[index];\n  },\n\n  // Find the index of a view instance\n  findIndexByView(view) {\n    return this._views.indexOf(view);\n  },\n\n  // Retrieve a view by its `cid` directly\n  findByCid(cid) {\n    return this._viewsByCid[cid];\n  },\n\n  hasView(view) {\n    return !!this.findByCid(view.cid);\n  },\n\n  // Remove a view and clean up index references.\n  _remove(view) {\n    if (!this._viewsByCid[view.cid]) {\n      return;\n    }\n\n    // delete model index\n    if (view.model) {\n      delete this._indexByModel[view.model.cid];\n    }\n\n    // remove the view from the container\n    delete this._viewsByCid[view.cid];\n\n    const index = this.findIndexByView(view);\n    this._views.splice(index, 1);\n\n    this._updateLength();\n  },\n\n  // Update the `.length` attribute on this container\n  _updateLength() {\n    this.length = this._views.length;\n  }\n});\n\nexport default Container;\n","// Next Collection View\n// ---------------\n\nimport _ from 'underscore';\nimport Backbone from 'backbone';\nimport { renderView, destroyView } from './common/view';\nimport isNodeAttached from './common/is-node-attached';\nimport monitorViewEvents from './common/monitor-view-events';\nimport { triggerMethodOn } from './common/trigger-method';\nimport ChildViewContainer from './next-child-view-container';\nimport MarionetteError from './error';\nimport Region from './region';\nimport ViewMixin from './mixins/view';\nimport { setDomApi } from './config/dom';\n\nconst ClassOptions = [\n  'behaviors',\n  'childView',\n  'childViewEventPrefix',\n  'childViewEvents',\n  'childViewOptions',\n  'childViewTriggers',\n  'collectionEvents',\n  'emptyView',\n  'emptyViewOptions',\n  'events',\n  'modelEvents',\n  'sortWithCollection',\n  'triggers',\n  'ui',\n  'viewComparator',\n  'viewFilter'\n];\n\n// A view that iterates over a Backbone.Collection\n// and renders an individual child view for each model.\nconst CollectionView = Backbone.View.extend({\n  // flag for maintaining the sorted order of the collection\n  sortWithCollection: true,\n\n  // constructor\n  constructor(options) {\n    this._setOptions(options);\n\n    this.mergeOptions(options, ClassOptions);\n\n    monitorViewEvents(this);\n\n    this.once('render', this._initialEvents);\n\n    // This children container isn't really used by a render, but it provides\n    // the ability to check `this.children.length` prior to rendering\n    // It also allows for cases where only addChildView is used\n    this._initChildViewStorage();\n    this._initBehaviors();\n\n    const args = Array.prototype.slice.call(arguments);\n    args[0] = this.options;\n    Backbone.View.prototype.constructor.apply(this, args);\n\n    this._initEmptyRegion();\n\n    this.delegateEntityEvents();\n\n    this._triggerEventOnBehaviors('initialize', this);\n  },\n\n  // Internal method to set up the `children` object for storing all of the child views\n  _initChildViewStorage() {\n    this.children = new ChildViewContainer();\n  },\n\n  // Create an region to show the emptyView\n  _initEmptyRegion() {\n    this.emptyRegion = new Region({ el: this.el, replaceElement: false });\n\n    this.emptyRegion._parentView = this;\n  },\n\n  // Configured the initial events that the collection view binds to.\n  _initialEvents() {\n    this.listenTo(this.collection, {\n      'sort': this._onCollectionSort,\n      'reset': this._onCollectionReset,\n      'update': this._onCollectionUpdate\n    });\n  },\n\n  // Internal method. This checks for any changes in the order of the collection.\n  // If the index of any view doesn't match, it will re-sort.\n  _onCollectionSort() {\n    if (!this.sortWithCollection || this.viewComparator === false) {\n      return;\n    }\n\n    // If the data is changing we will handle the sort later\n    if (this.collection.length !== this.children.length) {\n      return;\n    }\n\n    // Additional check if the data is changing\n    const hasAddedModel = this.collection.some(model => {\n      return !this.children.findByModel(model);\n    });\n\n    if (hasAddedModel) {\n      return;\n    }\n\n    // If the only thing happening here is sorting, sort.\n    this.sort();\n  },\n\n  _onCollectionReset() {\n    this.render();\n  },\n\n  // Handle collection update model additions and  removals\n  _onCollectionUpdate(collection, options) {\n    const changes = options.changes;\n\n    // Remove first since it'll be a shorter array lookup.\n    const removedViews = this._removeChildModels(changes.removed);\n\n    this._addedViews = this._addChildModels(changes.added);\n\n    this._detachChildren(removedViews);\n\n    this._showChildren();\n\n    // Destroy removed child views after all of the render is complete\n    this._removeChildViews(removedViews);\n  },\n\n  _removeChildModels(models) {\n    return _.map(models, _.bind(this._removeChildModel, this));\n  },\n\n  _removeChildModel(model) {\n    const view = this.children.findByModel(model);\n\n    this._removeChild(view);\n\n    return view;\n  },\n\n  _removeChild(view) {\n    this.triggerMethod('before:remove:child', this, view);\n\n    this.children._remove(view);\n\n    this.triggerMethod('remove:child', this, view);\n  },\n\n  // Added views are returned for consistency with _removeChildModels\n  _addChildModels(models) {\n    return _.map(models, _.bind(this._addChildModel, this));\n  },\n\n  _addChildModel(model) {\n    const view = this._createChildView(model);\n\n    this._addChild(view);\n\n    return view;\n  },\n\n  _createChildView(model) {\n    const ChildView = this._getChildView(model);\n    const childViewOptions = this._getChildViewOptions(model);\n    const view = this.buildChildView(model, ChildView, childViewOptions);\n\n    return view;\n  },\n\n  _addChild(view, index) {\n    this.triggerMethod('before:add:child', this, view);\n\n    this._setupChildView(view);\n    this.children._add(view, index);\n\n    this.triggerMethod('add:child', this, view);\n  },\n\n  // Retrieve the `childView` class\n  // The `childView` property can be either a view class or a function that\n  // returns a view class. If it is a function, it will receive the model that\n  // will be passed to the view instance (created from the returned view class)\n  _getChildView(child) {\n    let childView = this.childView;\n\n    if (!childView) {\n      throw new MarionetteError({\n        name: 'NoChildViewError',\n        message: 'A \"childView\" must be specified'\n      });\n    }\n\n    childView = this._getView(childView, child);\n\n    if (!childView) {\n      throw new MarionetteError({\n        name: 'InvalidChildViewError',\n        message: '\"childView\" must be a view class or a function that returns a view class'\n      });\n    }\n\n    return childView;\n  },\n\n  // First check if the `view` is a view class (the common case)\n  // Then check if it's a function (which we assume that returns a view class)\n  _getView(view, child) {\n    if (view.prototype instanceof Backbone.View || view === Backbone.View) {\n      return view;\n    } else if (_.isFunction(view)) {\n      return view.call(this, child);\n    }\n  },\n\n  _getChildViewOptions(child) {\n    if (_.isFunction(this.childViewOptions)) {\n      return this.childViewOptions(child);\n    }\n\n    return this.childViewOptions;\n  },\n\n  // Build a `childView` for a model in the collection.\n  // Override to customize the build\n  buildChildView(child, ChildViewClass, childViewOptions) {\n    const options = _.extend({model: child}, childViewOptions);\n    return new ChildViewClass(options);\n  },\n\n  _setupChildView(view) {\n    monitorViewEvents(view);\n\n    // We need to listen for if a view is destroyed in a way other\n    // than through the CollectionView.\n    // If this happens we need to remove the reference to the view\n    // since once a view has been destroyed we can not reuse it.\n    view.on('destroy', this.removeChildView, this);\n\n    // set up the child view event forwarding\n    this._proxyChildViewEvents(view);\n  },\n\n  // used by ViewMixin's `_childViewEventHandler`\n  _getImmediateChildren() {\n    return this.children._views;\n  },\n\n  // Overriding Backbone.View's `setElement` to handle\n  // if an el was previously defined. If so, the view might be\n  // attached on setElement.\n  setElement() {\n    const hasEl = !!this.el;\n\n    Backbone.View.prototype.setElement.apply(this, arguments);\n\n    if (hasEl) {\n      this._isAttached = isNodeAttached(this.el);\n    }\n\n    return this;\n  },\n\n  // Render children views.\n  render() {\n    if (this._isDestroyed) { return this; }\n    this.triggerMethod('before:render', this);\n\n    this._destroyChildren();\n\n    // After all children have been destroyed re-init the container\n    this.children._init();\n\n    if (this.collection) {\n      this._addChildModels(this.collection.models);\n    }\n\n    this._showChildren();\n\n    this._isRendered = true;\n\n    this.triggerMethod('render', this);\n    return this;\n  },\n\n  // Sorts the children then filters and renders the results.\n  sort() {\n    if (this._isDestroyed) { return this; }\n\n    if (!this.children.length) { return this; }\n\n    this._showChildren();\n\n    return this;\n  },\n\n  _showChildren() {\n    if (this.isEmpty()) {\n      this._showEmptyView();\n      return;\n    }\n\n    this._sortChildren();\n\n    this.filter();\n  },\n\n  // Returns true if the collectionView is considered empty.\n  // This is called twice during a render. Once to check the data,\n  // and again when views are filtered. Override this function to\n  // customize what empty means.\n  isEmpty(allViewsFiltered) {\n    return allViewsFiltered || !this.children.length;\n  },\n\n  _showEmptyView() {\n    const EmptyView = this._getEmptyView();\n\n    if (!EmptyView) {\n      return;\n    }\n\n    const options = this._getEmptyViewOptions();\n\n    this.emptyRegion.show(new EmptyView(options));\n  },\n\n  // Retrieve the empty view class\n  _getEmptyView() {\n    const emptyView = this.emptyView;\n\n    if (!emptyView) { return; }\n\n    return this._getView(emptyView);\n  },\n\n  // Remove the emptyView\n  _destroyEmptyView() {\n\n    // Only empty if a view is show so the region\n    // doesn't detach any other unrelated HTML\n    if (this.emptyRegion.hasView()) {\n      this.emptyRegion.empty();\n    }\n  },\n\n  //\n  _getEmptyViewOptions() {\n    const emptyViewOptions = this.emptyViewOptions || this.childViewOptions;\n\n    if (_.isFunction(emptyViewOptions)) {\n      return emptyViewOptions.call(this);\n    }\n\n    return emptyViewOptions;\n  },\n\n  // Sorts views by viewComparator and sets the children to the new order\n  _sortChildren() {\n    if (this.viewComparator === false) { return; }\n\n    this.triggerMethod('before:sort', this);\n\n    let viewComparator = this.getComparator();\n\n    if (_.isFunction(viewComparator)) {\n      // Must use native bind to preserve length\n      viewComparator = viewComparator.bind(this);\n    }\n\n    this.children._sort(viewComparator);\n\n    this.triggerMethod('sort', this);\n  },\n\n  // Sets the view's `viewComparator` and applies the sort if the view is ready.\n  // To prevent the render pass `{ preventRender: true }` as the 2nd argument.\n  setComparator(comparator, {preventRender} = {}) {\n    const comparatorChanged = this.viewComparator !== comparator;\n    const shouldSort = comparatorChanged && !preventRender;\n\n    this.viewComparator = comparator;\n\n    if (shouldSort) {\n      this.sort();\n    }\n\n    return this;\n  },\n\n  // Clears the `viewComparator` and follows the same rules for rendering as `setComparator`.\n  removeComparator(options) {\n    return this.setComparator(null, options);\n  },\n\n  // If viewComparator is overriden it will be returned here.\n  // Additionally override this function to provide custom\n  // viewComparator logic\n  getComparator() {\n    return this.viewComparator || this._viewComparator;\n  },\n\n  // Default internal view comparator that order the views by\n  // the order of the collection\n  _viewComparator(view) {\n    if (!this.collection) { return; }\n    return this.collection.indexOf(view.model);\n  },\n\n  // This method re-filters the children views and re-renders the results\n  filter() {\n    if (this._isDestroyed) { return this; }\n\n    if (!this.children.length) { return this; }\n\n    const filteredViews = this._filterChildren();\n\n    this._renderChildren(filteredViews);\n\n    return this;\n  },\n\n  _isAddedAtEnd(addedView, index, addedViews) {\n    const viewIndex = this.children._views.length - addedViews.length + index;\n    return addedView === this.children._views[viewIndex];\n  },\n\n  _filterChildren() {\n    const viewFilter = this._getFilter();\n    const addedViews = this._addedViews;\n\n    delete this._addedViews;\n\n    if (!viewFilter) {\n      if (addedViews && _.every(addedViews, _.bind(this._isAddedAtEnd, this))) {\n        return addedViews;\n      }\n\n      return this.children._views;\n    }\n\n    this.triggerMethod('before:filter', this);\n\n    const filteredViews = _.partition(this.children._views, _.bind(viewFilter, this));\n\n    this._detachChildren(filteredViews[1]);\n\n    this.triggerMethod('filter', this);\n\n    return filteredViews[0];\n  },\n\n  // This method returns a function for the viewFilter\n  _getFilter() {\n    const viewFilter = this.getFilter();\n\n    if (!viewFilter) { return false; }\n\n    if (_.isFunction(viewFilter)) {\n      return viewFilter;\n    }\n\n    // Support filter predicates `{ fooFlag: true }`\n    if (_.isObject(viewFilter)) {\n      const matcher = _.matches(viewFilter);\n      return function(view) {\n        return matcher(view.model && view.model.attributes);\n      };\n    }\n\n    // Filter by model attribute\n    if (_.isString(viewFilter)) {\n      return function(view) {\n        return view.model && view.model.get(viewFilter);\n      };\n    }\n\n    throw new MarionetteError({\n      name: 'InvalidViewFilterError',\n      message: '\"viewFilter\" must be a function, predicate object literal, a string indicating a model attribute, or falsy'\n    });\n  },\n\n  // Override this function to provide custom\n  // viewFilter logic\n  getFilter() {\n    return this.viewFilter;\n  },\n\n  // Sets the view's `viewFilter` and applies the filter if the view is ready.\n  // To prevent the render pass `{ preventRender: true }` as the 2nd argument.\n  setFilter(filter, {preventRender} = {}) {\n    const filterChanged = this.viewFilter !== filter;\n    const shouldRender = filterChanged && !preventRender;\n\n    this.viewFilter = filter;\n\n    if (shouldRender) {\n      this.filter();\n    }\n\n    return this;\n  },\n\n  // Clears the `viewFilter` and follows the same rules for rendering as `setFilter`.\n  removeFilter(options) {\n    return this.setFilter(null, options);\n  },\n\n  _detachChildren(detachingViews) {\n    _.each(detachingViews, _.bind(this._detachChildView, this));\n  },\n\n  _detachChildView(view) {\n    const shouldTriggerDetach = view._isAttached && this.monitorViewEvents !== false;\n    if (shouldTriggerDetach) {\n      triggerMethodOn(view, 'before:detach', view);\n    }\n\n    this.detachHtml(view);\n\n    if (shouldTriggerDetach) {\n      view._isAttached = false;\n      triggerMethodOn(view, 'detach', view);\n    }\n  },\n\n  // Override this method to change how the collectionView detaches a child view\n  detachHtml(view) {\n    this.Dom.detachEl(view.el, view.$el);\n  },\n\n  _renderChildren(views) {\n    if (this.isEmpty(!views.length)) {\n      this._showEmptyView();\n      return;\n    }\n\n    this._destroyEmptyView();\n\n    this.triggerMethod('before:render:children', this, views);\n\n    const els = this._getBuffer(views);\n\n    this._attachChildren(els, views);\n\n    this.triggerMethod('render:children', this, views);\n  },\n\n  _attachChildren(els, views) {\n    const shouldTriggerAttach = this._isAttached && this.monitorViewEvents !== false;\n\n    views = shouldTriggerAttach ? views : [];\n\n    _.each(views, view => {\n      if (view._isAttached) { return; }\n      triggerMethodOn(view, 'before:attach', view);\n    });\n\n    this.attachHtml(els);\n\n    _.each(views, view => {\n      if (view._isAttached) { return; }\n      view._isAttached = true;\n      triggerMethodOn(view, 'attach', view);\n    });\n  },\n\n  // Renders each view in children and creates a fragment buffer from them\n  _getBuffer(views) {\n    const elBuffer = this.Dom.createBuffer();\n\n    _.each(views, view => {\n      renderView(view);\n      this.Dom.appendContents(elBuffer, view.el, {_$contents: view.$el});\n    });\n\n    return elBuffer;\n  },\n\n  // Override this method to do something other than `.append`.\n  // You can attach any HTML at this point including the els.\n  attachHtml(els) {\n    this.Dom.appendContents(this.el, els, {_$el: this.$el});\n  },\n\n  swapChildViews(view1, view2) {\n    if (!this.children.hasView(view1) || !this.children.hasView(view2)) {\n      throw new MarionetteError({\n        name: 'ChildSwapError',\n        message: 'Both views must be children of the collection view'\n      });\n    }\n\n    this.children._swap(view1, view2);\n    this.Dom.swapEl(view1.el, view2.el);\n\n    // If the views are not filtered the same, refilter\n    if (this.Dom.hasEl(this.el, view1.el) !== this.Dom.hasEl(this.el, view2.el)) {\n      this.filter();\n    }\n\n    return this;\n  },\n\n  // Render the child's view and add it to the HTML for the collection view at a given index, based on the current sort\n  addChildView(view, index) {\n    if (!view || view._isDestroyed) {\n      return view;\n    }\n\n    this._addChild(view, index);\n    this._addedViews = [view];\n    this._showChildren();\n\n    return view;\n  },\n\n  // Detach a view from the children.  Best used when adding a\n  // childView from `addChildView`\n  detachChildView(view) {\n    this.removeChildView(view, { shouldDetach: true });\n\n    return view;\n  },\n\n  // Remove the child view and destroy it.  Best used when adding a\n  // childView from `addChildView`\n  // The options argument is for internal use only\n  removeChildView(view, options) {\n    if (!view) {\n      return view;\n    }\n\n    this._removeChildView(view, options);\n\n    this._removeChild(view);\n\n    if (this.isEmpty()) {\n      this._showEmptyView();\n    }\n\n    return view;\n  },\n\n  _removeChildViews(views) {\n    _.each(views, _.bind(this._removeChildView, this));\n  },\n\n  _removeChildView(view, {shouldDetach} = {}) {\n    view.off('destroy', this.removeChildView, this);\n\n    if (shouldDetach) {\n      this._detachChildView(view);\n    } else {\n      this._destroyChildView(view);\n    }\n\n    this.stopListening(view);\n  },\n\n  _destroyChildView(view) {\n    if (view._isDestroyed) {\n      return;\n    }\n\n    view._shouldDisableEvents = this.monitorViewEvents === false;\n    destroyView(view);\n  },\n\n  // called by ViewMixin destroy\n  _removeChildren() {\n    this._destroyChildren();\n    this.emptyRegion.destroy();\n    delete this._addedViews;\n  },\n\n  // Destroy the child views that this collection view is holding on to, if any\n  _destroyChildren() {\n    if (!this.children || !this.children.length) {\n      return;\n    }\n\n    this.triggerMethod('before:destroy:children', this);\n    if (this.monitorViewEvents === false) {\n      this.Dom.detachContents();\n    }\n    _.each(this.children._views, _.bind(this._removeChildView, this));\n    this.triggerMethod('destroy:children', this);\n  }\n}, {\n  setDomApi\n});\n\n_.extend(CollectionView.prototype, ViewMixin);\n\nexport default CollectionView;\n","// Composite View\n// --------------\n\nimport _ from 'underscore';\nimport deprecate from './utils/deprecate';\nimport MarionetteError from './error';\nimport CollectionView from './collection-view';\nimport View from './view';\n\nconst ClassOptions = [\n  'childViewContainer',\n  'template',\n  'templateContext'\n];\n\n// Used for rendering a branch-leaf, hierarchical structure.\n// Extends directly from CollectionView\n// @deprecated\nconst CompositeView = CollectionView.extend({\n\n  // Setting up the inheritance chain which allows changes to\n  // Marionette.CollectionView.prototype.constructor which allows overriding\n  // option to pass '{sort: false}' to prevent the CompositeView from\n  // maintaining the sorted order of the collection.\n  // This will fallback onto appending childView's to the end.\n  constructor(options) {\n    deprecate('CompositeView is deprecated. Convert to View at your earliest convenience');\n\n    this.mergeOptions(options, ClassOptions);\n\n    CollectionView.prototype.constructor.apply(this, arguments);\n  },\n\n  // Configured the initial events that the composite view\n  // binds to. Override this method to prevent the initial\n  // events, or to add your own initial events.\n  _initialEvents() {\n\n    // Bind only after composite view is rendered to avoid adding child views\n    // to nonexistent childViewContainer\n\n    if (this.collection) {\n      this.listenTo(this.collection, 'add', this._onCollectionAdd);\n      this.listenTo(this.collection, 'update', this._onCollectionUpdate);\n      this.listenTo(this.collection, 'reset', this.renderChildren);\n\n      if (this.sort) {\n        this.listenTo(this.collection, 'sort', this._sortViews);\n      }\n    }\n  },\n\n  // Retrieve the `childView` to be used when rendering each of\n  // the items in the collection. The default is to return\n  // `this.childView` or Marionette.CompositeView if no `childView`\n  // has been defined. As happens in CollectionView, `childView` can\n  // be a function (which should return a view class).\n  _getChildView(child) {\n    let childView = this.childView;\n\n    // for CompositeView, if `childView` is not specified, we'll get the same\n    // composite view class rendered for each child in the collection\n    // then check if the `childView` is a view class (the common case)\n    // finally check if it's a function (which we assume that returns a view class)\n    if (!childView) {\n      return this.constructor;\n    }\n\n    childView = this._getView(childView, child);\n\n    if (!childView) {\n      throw new MarionetteError({\n        name: 'InvalidChildViewError',\n        message: '\"childView\" must be a view class or a function that returns a view class'\n      });\n    }\n\n    return childView;\n  },\n\n  // Return the serialized model\n  serializeData() {\n    return this.serializeModel();\n  },\n\n  // Renders the model and the collection.\n  render() {\n    if (this._isDestroyed) { return this; }\n    this._isRendering = true;\n    this.resetChildViewContainer();\n\n    this.triggerMethod('before:render', this);\n\n    this._renderTemplate();\n    this.bindUIElements();\n    this.renderChildren();\n\n    this._isRendering = false;\n    this._isRendered = true;\n    this.triggerMethod('render', this);\n    return this;\n  },\n\n  renderChildren() {\n    if (this._isRendered || this._isRendering) {\n      CollectionView.prototype._renderChildren.call(this);\n    }\n  },\n\n  // You might need to override this if you've overridden attachHtml\n  attachBuffer(compositeView, buffer) {\n    const $container = this.getChildViewContainer(compositeView);\n    this.Dom.appendContents($container[0], buffer, {_$el: $container});\n  },\n\n  // Internal method. Append a view to the end of the $el.\n  // Overidden from CollectionView to ensure view is appended to\n  // childViewContainer\n  _insertAfter(childView) {\n    const $container = this.getChildViewContainer(this, childView);\n    this.Dom.appendContents($container[0], childView.el, {_$el: $container, _$contents: childView.$el});\n  },\n\n  // Internal method. Append reordered childView'.\n  // Overidden from CollectionView to ensure reordered views\n  // are appended to childViewContainer\n  _appendReorderedChildren(children) {\n    const $container = this.getChildViewContainer(this);\n    this.Dom.appendContents($container[0], children, {_$el: $container});\n  },\n\n  // Internal method to ensure an `$childViewContainer` exists, for the\n  // `attachHtml` method to use.\n  getChildViewContainer(containerView, childView) {\n    if (!!containerView.$childViewContainer) {\n      return containerView.$childViewContainer;\n    }\n\n    let container;\n    const childViewContainer = containerView.childViewContainer;\n    if (childViewContainer) {\n\n      const selector = _.result(containerView, 'childViewContainer');\n\n      if (selector.charAt(0) === '@' && containerView.ui) {\n        container = containerView.ui[selector.substr(4)];\n      } else {\n        container = this.$(selector);\n      }\n\n      if (container.length <= 0) {\n        throw new MarionetteError({\n          name: 'ChildViewContainerMissingError',\n          message: `The specified \"childViewContainer\" was not found: ${containerView.childViewContainer}`\n        });\n      }\n\n    } else {\n      container = containerView.$el;\n    }\n\n    containerView.$childViewContainer = container;\n    return container;\n  },\n\n  // Internal method to reset the `$childViewContainer` on render\n  resetChildViewContainer() {\n    if (this.$childViewContainer) {\n      this.$childViewContainer = undefined;\n    }\n  }\n});\n\n// To prevent duplication but allow the best View organization\n// Certain View methods are mixed directly into the deprecated CompositeView\nconst MixinFromView = _.pick(View.prototype, 'serializeModel', 'getTemplate', '_renderTemplate', '_renderHtml', 'mixinTemplateContext', 'attachElContent');\n_.extend(CompositeView.prototype, MixinFromView);\n\nexport default CompositeView;\n","// Behavior\n// --------\n\n// A Behavior is an isolated set of DOM /\n// user interactions that can be mixed into any View.\n// Behaviors allow you to blackbox View specific interactions\n// into portable logical chunks, keeping your views simple and your code DRY.\n\nimport _ from 'underscore';\nimport deprecate from './utils/deprecate';\nimport getUniqueEventName from './utils/get-unique-event-name';\nimport MarionetteObject from './object';\nimport DelegateEntityEventsMixin from './mixins/delegate-entity-events';\nimport TriggersMixin from './mixins/triggers';\nimport UIMixin from './mixins/ui';\n\nconst ClassOptions = [\n  'collectionEvents',\n  'events',\n  'modelEvents',\n  'triggers',\n  'ui'\n];\n\nconst Behavior = MarionetteObject.extend({\n  cidPrefix: 'mnb',\n\n  constructor(options, view) {\n    // Setup reference to the view.\n    // this comes in handle when a behavior\n    // wants to directly talk up the chain\n    // to the view.\n    this.view = view;\n\n    if (this.defaults) {\n      deprecate('Behavior defaults are deprecated. For similar functionality set options on the Behavior class.');\n    }\n\n    this.defaults = _.clone(_.result(this, 'defaults', {}));\n\n    this._setOptions(this.defaults, options);\n    this.mergeOptions(this.options, ClassOptions);\n\n    // Construct an internal UI hash using\n    // the behaviors UI hash and then the view UI hash.\n    // This allows the user to use UI hash elements\n    // defined in the parent view as well as those\n    // defined in the given behavior.\n    // This order will help the reuse and share of a behavior\n    // between multiple views, while letting a view override a\n    // selector under an UI key.\n    this.ui = _.extend({}, _.result(this, 'ui'), _.result(view, 'ui'));\n\n    MarionetteObject.apply(this, arguments);\n  },\n\n  // proxy behavior $ method to the view\n  // this is useful for doing jquery DOM lookups\n  // scoped to behaviors view.\n  $() {\n    return this.view.$.apply(this.view, arguments);\n  },\n\n  // Stops the behavior from listening to events.\n  // Overrides Object#destroy to prevent additional events from being triggered.\n  destroy() {\n    this.stopListening();\n\n    this.view._removeBehavior(this);\n\n    return this;\n  },\n\n  proxyViewProperties() {\n    this.$el = this.view.$el;\n    this.el = this.view.el;\n\n    return this;\n  },\n\n  bindUIElements() {\n    this._bindUIElements();\n\n    return this;\n  },\n\n  unbindUIElements() {\n    this._unbindUIElements();\n\n    return this;\n  },\n\n  getUI(name) {\n    return this._getUI(name);\n  },\n\n  // Handle `modelEvents`, and `collectionEvents` configuration\n  delegateEntityEvents() {\n    this._delegateEntityEvents(this.view.model, this.view.collection);\n\n    return this;\n  },\n\n  undelegateEntityEvents() {\n    this._undelegateEntityEvents(this.view.model, this.view.collection);\n\n    return this;\n  },\n\n  getEvents() {\n    // Normalize behavior events hash to allow\n    // a user to use the @ui. syntax.\n    const behaviorEvents = this.normalizeUIKeys(_.result(this, 'events'));\n\n    // binds the handler to the behavior and builds a unique eventName\n    return _.reduce(behaviorEvents, (events, behaviorHandler, key) => {\n      if (!_.isFunction(behaviorHandler)) {\n        behaviorHandler = this[behaviorHandler];\n      }\n      if (!behaviorHandler) { return; }\n      key = getUniqueEventName(key);\n      events[key] = _.bind(behaviorHandler, this);\n      return events;\n    }, {});\n  },\n\n  // Internal method to build all trigger handlers for a given behavior\n  getTriggers() {\n    if (!this.triggers) { return; }\n\n    // Normalize behavior triggers hash to allow\n    // a user to use the @ui. syntax.\n    const behaviorTriggers = this.normalizeUIKeys(_.result(this, 'triggers'));\n\n    return this._getViewTriggers(this.view, behaviorTriggers);\n  }\n\n});\n\n_.extend(Behavior.prototype, DelegateEntityEventsMixin, TriggersMixin, UIMixin);\n\nexport default Behavior;\n","// Application\n// -----------\nimport buildRegion from './common/build-region';\nimport MarionetteObject from './object';\nimport Region from './region';\n\nconst ClassOptions = [\n  'region',\n  'regionClass'\n];\n\n// A container for a Marionette application.\nconst Application = MarionetteObject.extend({\n  cidPrefix: 'mna',\n\n  constructor(options) {\n    this._setOptions(options);\n\n    this.mergeOptions(options, ClassOptions);\n\n    this._initRegion();\n\n    MarionetteObject.prototype.constructor.apply(this, arguments);\n  },\n\n  regionClass: Region,\n\n  _initRegion() {\n    const region = this.region;\n\n    if (!region) { return; }\n\n    const defaults = {\n      regionClass: this.regionClass\n    };\n\n    this._region = buildRegion(region, defaults);\n  },\n\n  getRegion() {\n    return this._region;\n  },\n\n  showView(view, ...args) {\n    const region = this.getRegion();\n    return region.show(view, ...args);\n  },\n\n  getView() {\n    return this.getRegion().currentView;\n  },\n\n  // kick off all of the application's processes.\n  start(options) {\n    this.triggerMethod('before:start', this, options);\n    this.triggerMethod('start', this, options);\n    return this;\n  }\n\n});\n\nexport default Application;\n","// App Router\n// ----------\n\n// Reduce the boilerplate code of handling route events\n// and then calling a single method on another object,\n// called a controller.\n// Have your routers configured to call the method on\n// your controller, directly.\n//\n// Configure an AppRouter with `appRoutes`.\n//\n// App routers can only take one `controller` object.\n// It is recommended that you divide your controller\n// objects in to smaller pieces of related functionality\n// and have multiple routers / controllers, instead of\n// just one giant router and controller.\n//\n// You can also add standard routes to an AppRouter.\n\nimport Backbone from 'backbone';\nimport _ from 'underscore';\nimport { triggerMethod } from './common/trigger-method';\nimport MarionetteError from './error';\nimport CommonMixin from './mixins/common';\n\nconst ClassOptions = [\n  'appRoutes',\n  'controller'\n];\n\nconst AppRouter = Backbone.Router.extend({\n\n  constructor(options) {\n    this._setOptions(options);\n\n    this.mergeOptions(options, ClassOptions);\n\n    Backbone.Router.apply(this, arguments);\n\n    const appRoutes = this.appRoutes;\n    const controller = this._getController();\n    this.processAppRoutes(controller, appRoutes);\n    this.on('route', this._processOnRoute, this);\n  },\n\n  // Similar to route method on a Backbone Router but\n  // method is called on the controller\n  appRoute(route, methodName) {\n    const controller = this._getController();\n    this._addAppRoute(controller, route, methodName);\n    return this;\n  },\n\n  // process the route event and trigger the onRoute\n  // method call, if it exists\n  _processOnRoute(routeName, routeArgs) {\n    // make sure an onRoute before trying to call it\n    if (_.isFunction(this.onRoute)) {\n      // find the path that matches the current route\n      const routePath = _.invert(this.appRoutes)[routeName];\n      this.onRoute(routeName, routePath, routeArgs);\n    }\n  },\n\n  // Internal method to process the `appRoutes` for the\n  // router, and turn them in to routes that trigger the\n  // specified method on the specified `controller`.\n  processAppRoutes(controller, appRoutes) {\n    if (!appRoutes) { return this; }\n\n    const routeNames = _.keys(appRoutes).reverse(); // Backbone requires reverted order of routes\n\n    _.each(routeNames, route => {\n      this._addAppRoute(controller, route, appRoutes[route]);\n    });\n\n    return this;\n  },\n\n  _getController() {\n    return this.controller;\n  },\n\n  _addAppRoute(controller, route, methodName) {\n    const method = controller[methodName];\n\n    if (!method) {\n      throw new MarionetteError(`Method \"${methodName}\" was not found on the controller`);\n    }\n\n    this.route(route, methodName, _.bind(method, controller));\n  },\n\n  triggerMethod: triggerMethod\n});\n\n_.extend(AppRouter.prototype, CommonMixin);\n\nexport default AppRouter;\n","import MarionetteError from '../error';\n\n// Placeholder method to be extended by the user.\n// The method should define the object that stores the behaviors.\n// i.e.\n//\n// ```js\n// Marionette.Behaviors.behaviorsLookup: function() {\n//   return App.Behaviors\n// }\n// ```\nexport default function behaviorsLookup() {\n  throw new MarionetteError({\n    message: 'You must define where your behaviors are stored.',\n    url: 'marionette.behaviors.md#behaviorslookup'\n  });\n}\n","import Backbone from 'backbone';\nimport {version} from '../package.json';\n\nimport proxy from './utils/proxy';\nimport extend from './utils/extend';\nimport deprecate from './utils/deprecate';\n\nimport isNodeAttached from './common/is-node-attached';\nimport mergeOptions from './common/merge-options';\nimport getOption from './common/get-option';\nimport normalizeMethods from './common/normalize-methods';\nimport monitorViewEvents from './common/monitor-view-events';\n\nimport {\n  bindEvents,\n  unbindEvents\n} from './common/bind-events';\n\nimport {\n  bindRequests,\n  unbindRequests\n} from './common/bind-requests';\n\nimport {\n  triggerMethod,\n  triggerMethodOn\n} from './common/trigger-method';\n\n\nimport MarionetteObject from './object';\nimport TemplateCache from './template-cache';\nimport View from './view';\nimport CollectionView from './collection-view';\nimport NextCollectionView from './next-collection-view';\nimport CompositeView from './composite-view';\nimport Behavior from './behavior';\nimport Region from './region';\nimport Application from './application';\nimport AppRouter from './app-router';\nimport MarionetteError from './error';\n\nimport behaviorsLookup from './config/behaviors-lookup';\nimport DomApi from './config/dom';\nimport Renderer from './config/renderer';\n\nimport {\n  FEATURES,\n  isEnabled,\n  setEnabled\n} from './config/features';\n\nconst previousMarionette = Backbone.Marionette;\nconst Marionette = Backbone.Marionette = {};\n\n// This allows you to run multiple instances of Marionette on the same\n// webapp. After loading the new version, call `noConflict()` to\n// get a reference to it. At the same time the old version will be\n// returned to Backbone.Marionette.\nMarionette.noConflict = function() {\n  Backbone.Marionette = previousMarionette;\n  return this;\n};\n\n// Utilities\nMarionette.bindEvents = proxy(bindEvents);\nMarionette.unbindEvents = proxy(unbindEvents);\nMarionette.bindRequests = proxy(bindRequests);\nMarionette.unbindRequests = proxy(unbindRequests);\nMarionette.mergeOptions = proxy(mergeOptions);\nMarionette.getOption = proxy(getOption);\nMarionette.normalizeMethods = proxy(normalizeMethods);\nMarionette.extend = extend;\nMarionette.isNodeAttached = isNodeAttached;\nMarionette.deprecate = deprecate;\nMarionette.triggerMethod = proxy(triggerMethod);\nMarionette.triggerMethodOn = triggerMethodOn;\nMarionette.isEnabled = isEnabled;\nMarionette.setEnabled = setEnabled;\nMarionette.monitorViewEvents = monitorViewEvents;\n\nMarionette.Behaviors = {};\nMarionette.Behaviors.behaviorsLookup = behaviorsLookup;\n\n// Classes\nMarionette.Application = Application;\nMarionette.AppRouter = AppRouter;\nMarionette.Renderer = Renderer;\nMarionette.TemplateCache = TemplateCache;\nMarionette.View = View;\nMarionette.CollectionView = CollectionView;\nMarionette.NextCollectionView = NextCollectionView;\nMarionette.CompositeView = CompositeView;\nMarionette.Behavior = Behavior;\nMarionette.Region = Region;\nMarionette.Error = MarionetteError;\nMarionette.Object = MarionetteObject;\n\n// Configuration\nMarionette.DEV_MODE = false;\nMarionette.FEATURES = FEATURES;\nMarionette.VERSION = version;\nMarionette.DomApi = DomApi;\nMarionette.setDomApi = function(mixin) {\n  CollectionView.setDomApi(mixin);\n  CompositeView.setDomApi(mixin);\n  NextCollectionView.setDomApi(mixin);\n  Region.setDomApi(mixin);\n  View.setDomApi(mixin);\n};\n\nexport default Marionette;\n"],"names":["proxy","method","context","args","apply","extend","Backbone","Model","deprecate","message","test","_","isObject","prev","next","url","Marionette","DEV_MODE","undefined","_cache","_warn","_console","console","warn","log","noop","arguments","isNodeAttached","el","document","documentElement","contains","parentNode","mergeOptions","options","keys","each","key","option","getOption","optionName","normalizeMethods","hash","reduce","normalizedHash","name","isFunction","splitter","getEventName","match","prefix","eventName","toUpperCase","getOnMethodName","memoize","event","replace","triggerMethod","methodName","call","result","trigger","triggerMethodOn","triggerMethodChildren","view","shouldTrigger","_getImmediateChildren","child","shouldTriggerAttach","_isAttached","shouldAttach","shouldTriggerDetach","shouldDetach","triggerDOMRefresh","_isRendered","triggerDOMRemove","handleBeforeAttach","handleAttach","handleBeforeDetach","handleDetach","handleBeforeRender","handleRender","monitorViewEvents","_areViewEventsMonitored","on","errorProps","MarionetteError","Error","version","error","pick","captureStackTrace","urlRoot","bindFromStrings","target","entity","evt","methods","actionName","methodNames","split","iterateEvents","bindings","isString","bindEvents","unbindEvents","iterateReplies","channel","normalizedRadioRequests","bindRequests","unbindRequests","setOptions","channelName","Radio","_channel","radioEvents","radioRequests","_destroyRadio","stopReplying","ClassOptions","MarionetteObject","hasOwnProperty","_setOptions","_setCid","_initRadio","initialize","prototype","Events","CommonMixin","RadioMixin","_isDestroyed","cid","uniqueId","cidPrefix","stopListening","TemplateCache","templateId","cachedTemplate","templateCaches","load","i","length","compiledTemplate","template","loadTemplate","compileTemplate","$template","$","html","rawTemplate","invokeMap","invoke","getBehaviorClass","behaviorClass","Behaviors","behaviorsLookup","parseBehaviors","behaviors","chain","map","BehaviorClass","_options","behavior","nestedBehaviors","concat","flatten","value","_behaviors","_getBehaviors","triggers","_invoke","memo","_triggers","events","_events","without","model","collection","_undelegateEntityEvents","modelEvents","collectionEvents","delegateEventSplitter","uniqueName","selector","getUniqueEventName","FEATURES","isEnabled","setEnabled","state","buildViewTrigger","triggerDef","shouldPreventDefault","preventDefault","shouldStopPropagation","stopPropagation","normalizeUIKeys","ui","val","normalizedKey","normalizeUIString","uiString","r","slice","normalizeUIValues","properties","isArray","property","propertyVal","uiBindings","_getUIBindings","_uiBindings","_ui","$el","getEl","setDomApi","mixin","Dom","createDocumentFragment","_$el","find","childEl","detach","newEl","oldEl","parent","replaceChild","el1","el2","parent1","parent2","next1","nextSibling","next2","insertBefore","contents","_$contents","append","hasChildNodes","ViewMixin","DomApi","eventsArg","_proxyBehaviorViewProperties","_buildEventProxies","viewEvents","_getEvents","combinedEvents","_getBehaviorEvents","_getBehaviorTriggers","getTriggers","View","delegateEvents","_getViewTriggers","_delegateEntityEvents","_delegateBehaviorEntityEvents","_undelegateBehaviorEntityEvents","_shouldDisableEvents","unbindUIElements","_removeElement","_removeChildren","_destroyBehaviors","off","removeData","detachEl","_bindUIElements","_bindBehaviorUIElements","_unbindUIElements","_unbindBehaviorUIElements","_getUI","ret","_triggerEventOnBehaviors","_childViewEvents","_childViewTriggers","listenTo","_childViewEventHandler","childViewEvents","childViewTriggers","childEventName","BehaviorsMixin","DelegateEntityEventsMixin","TriggersMixin","UIMixin","renderView","supportsRenderLifecycle","render","destroyView","destroy","supportsDestroyLifecycle","remove","Region","_initEl","_ensureElement","_getView","currentView","_isSwappingView","empty","_setupChildView","_attachView","_proxyChildViewEvents","_empty","parentView","_parentView","_shouldDisableMonitoring","shouldReplaceEl","replaceElement","_replaceEl","attachHtml","allowMissingEl","viewOptions","_getViewOptions","findEl","_restoreEl","replaceEl","_isReplaced","_detachView","appendContents","detachHtml","shouldDestroy","preventDestroy","removeView","_stopChildViewEvents","shouldRestoreEl","detachContents","reset","_name","_removeReferences","definition","defaults","buildRegionFromDefinition","opts","buildRegionFromObject","regionClass","RegionClass","omit","regions","_regions","addRegions","isEmpty","_addRegions","regionDefinitions","partial","buildRegion","_addRegion","region","_removeRegion","_getRegions","bind","getRegions","getRegion","clone","show","detachView","Renderer","data","templateFunc","get","_initBehaviors","_initRegions","Array","constructor","delegateEntityEvents","serializeModel","serializeCollection","attributes","hasEl","setElement","hasContents","bindUIElements","_reInitRegions","_renderTemplate","getTemplate","mixinTemplateContext","serializeData","_renderHtml","attachElContent","templateContext","setContents","removeRegions","compact","renderer","RegionsMixin","emulateCollection","object","listProperty","list","Container","views","_views","_indexByModel","_indexByCustom","_updateLength","add","values","customIndex","_add","viewCid","findByModelCid","modelCid","findByCid","index","_remove","some","size","CollectionView","once","_initialEvents","_initChildViewStorage","_bufferedChildren","_isBuffering","triggerOnChildren","attachBuffer","_createBuffer","children","_onCollectionAdd","_onCollectionUpdate","sort","_sortViews","at","indexOf","filter","_filteredSortedModels","_shouldAddChild","_destroyEmptyView","_addChild","changes","_removeChildModels","removed","models","removedViews","_getRemovedViews","_updateIndices","_showEmptyView","removingViews","findByModel","_removeChildView","push","_renderChildren","preventRender","canBeRendered","filterChanged","shouldRender","previousModels","_applyModelDeltas","setFilter","currentIds","addedChildNotExists","removeModels","prevModel","_showingEmptyView","anyModelsAdded","filteredOutModels","elsToReorder","viewEls","_index","elBuffer","createBuffer","_appendReorderedChildren","reorderOnSort","reorder","orderChanged","item","resortView","_destroyChildren","processedModels","_startBuffering","_showCollection","_endBuffering","ChildView","_getChildView","childViewOptions","_getChildViewOptions","buildChildView","addedAt","viewComparator","getViewComparator","Math","min","max","addedModel","_sortModelsBy","splice","_filterModels","comparator","sortBy","EmptyView","_getEmptyView","emptyViewOptions","_emptyViewIndex","addChildView","emptyView","childView","_createView","increment","laterView","ChildViewClass","collectionView","buffer","b","_insertBefore","_insertAfter","findPosition","beforeEl","siblings","before","ChildViewContainer","_init","stringComparator","_viewsByCid","_sortBy","sortedViews","_set","view1","view2","view1Index","findIndexByView","view2Index","swapView","_initEmptyRegion","emptyRegion","_onCollectionSort","_onCollectionReset","sortWithCollection","hasAddedModel","_addedViews","_addChildModels","added","_detachChildren","_showChildren","_removeChildViews","_removeChildModel","_removeChild","_addChildModel","_createChildView","removeChildView","_sortChildren","allViewsFiltered","_getEmptyViewOptions","hasView","getComparator","_sort","comparatorChanged","shouldSort","setComparator","_viewComparator","filteredViews","_filterChildren","addedView","addedViews","viewIndex","viewFilter","_getFilter","every","_isAddedAtEnd","partition","getFilter","matcher","matches","detachingViews","_detachChildView","els","_getBuffer","_attachChildren","_swap","swapEl","_destroyChildView","CompositeView","renderChildren","_isRendering","resetChildViewContainer","compositeView","$container","getChildViewContainer","containerView","$childViewContainer","container","childViewContainer","charAt","substr","MixinFromView","Behavior","_removeBehavior","behaviorEvents","behaviorHandler","behaviorTriggers","Application","_initRegion","_region","AppRouter","Router","appRoutes","controller","_getController","processAppRoutes","_processOnRoute","route","_addAppRoute","routeName","routeArgs","onRoute","routePath","invert","routeNames","reverse","previousMarionette","noConflict","NextCollectionView","Object","VERSION"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA,IAAMA,QAAQ,SAARA,KAAQ,CAASC,MAAT,EAAiB;SACtB,UAASC,OAAT,EAA2B;sCAANC,IAAM;UAAA;;;WACzBF,OAAOG,KAAP,CAAaF,OAAb,EAAsBC,IAAtB,CAAP;GADF;CADF;;ACDA;;;AAGA,AAEA;AACA,IAAME,SAASC,SAASC,KAAT,CAAeF,MAA9B;;ACNA;;AAEA,AAIA,IAAMG,YAAY,SAAZA,SAAY,CAASC,OAAT,EAAkBC,IAAlB,EAAwB;MACpCC,EAAEC,QAAF,CAAWH,OAAX,CAAJ,EAAyB;cAErBA,QAAQI,IAAR,GAAe,yCAAf,GACA,aADA,GACgBJ,QAAQK,IADxB,GAC+B,WAD/B,IAECL,QAAQM,GAAR,GAAc,WAAWN,QAAQM,GAAjC,GAAuC,EAFxC,CADF;;;MAOE,CAACC,WAAWC,QAAhB,EAA0B;;;;MAItB,CAACP,SAASQ,SAAT,IAAsB,CAACR,IAAxB,KAAiC,CAACF,UAAUW,MAAV,CAAiBV,OAAjB,CAAtC,EAAiE;cACrDW,KAAV,CAAgB,0BAA0BX,OAA1C;cACUU,MAAV,CAAiBV,OAAjB,IAA4B,IAA5B;;CAfJ;;;AAoBAD,UAAUa,QAAV,GAAqB,OAAOC,OAAP,KAAmB,WAAnB,GAAiCA,OAAjC,GAA2C,EAAhE;AACAd,UAAUY,KAAV,GAAkB,YAAW;MACrBG,OAAOf,UAAUa,QAAV,CAAmBE,IAAnB,IAA2Bf,UAAUa,QAAV,CAAmBG,GAA9C,IAAqDb,EAAEc,IAApE;SACOF,KAAKnB,KAAL,CAAWI,UAAUa,QAArB,EAA+BK,SAA/B,CAAP;CAFF;AAIAlB,UAAUW,MAAV,GAAmB,EAAnB;;AC/BA;;;;AAIA,IAAMQ,iBAAiB,SAAjBA,cAAiB,CAASC,EAAT,EAAa;SAC3BC,SAASC,eAAT,CAAyBC,QAAzB,CAAkCH,MAAMA,GAAGI,UAA3C,CAAP;CADF;;ACFA;AACA,IAAMC,eAAe,SAAfA,YAAe,CAASC,OAAT,EAAkBC,IAAlB,EAAwB;;;MACvC,CAACD,OAAL,EAAc;;;;IAEZE,IAAF,CAAOD,IAAP,EAAa,UAACE,GAAD,EAAS;QACdC,SAASJ,QAAQG,GAAR,CAAf;QACIC,WAAWpB,SAAf,EAA0B;YACnBmB,GAAL,IAAYC,MAAZ;;GAHJ;CAHF;;ACHA;;;;;AAKA,IAAMC,YAAY,SAAZA,SAAY,CAASC,UAAT,EAAqB;MACjC,CAACA,UAAL,EAAiB;;;MACb,KAAKN,OAAL,IAAiB,KAAKA,OAAL,CAAaM,UAAb,MAA6BtB,SAAlD,EAA8D;WACrD,KAAKgB,OAAL,CAAaM,UAAb,CAAP;GADF,MAEO;WACE,KAAKA,UAAL,CAAP;;CALJ;;ACHA;;;;;AAKA,IAAMC,mBAAmB,SAAnBA,gBAAmB,CAASC,IAAT,EAAe;;;SAC/B/B,EAAEgC,MAAF,CAASD,IAAT,EAAe,UAACE,cAAD,EAAiB3C,MAAjB,EAAyB4C,IAAzB,EAAkC;QAClD,CAAClC,EAAEmC,UAAF,CAAa7C,MAAb,CAAL,EAA2B;eAChB,MAAKA,MAAL,CAAT;;QAEEA,MAAJ,EAAY;qBACK4C,IAAf,IAAuB5C,MAAvB;;WAEK2C,cAAP;GAPK,EAQJ,EARI,CAAP;CADF;;ACPA;;;AAGA,AAGA;AACA,IAAMG,WAAW,aAAjB;;;;AAIA,SAASC,YAAT,CAAsBC,KAAtB,EAA6BC,MAA7B,EAAqCC,SAArC,EAAgD;SACvCA,UAAUC,WAAV,EAAP;;;AAGF,IAAMC,kBAAkB1C,EAAE2C,OAAF,CAAU,UAASC,KAAT,EAAgB;SACzC,OAAOA,MAAMC,OAAN,CAAcT,QAAd,EAAwBC,YAAxB,CAAd;CADsB,CAAxB;;;;;;;;;AAWA,AAAO,SAASS,aAAT,CAAuBF,KAAvB,EAAuC;oCAANpD,IAAM;QAAA;;;;MAEtCuD,aAAaL,gBAAgBE,KAAhB,CAAnB;MACMtD,SAASsC,UAAUoB,IAAV,CAAe,IAAf,EAAqBD,UAArB,CAAf;MACIE,eAAJ;;;MAGIjD,EAAEmC,UAAF,CAAa7C,MAAb,CAAJ,EAA0B;;aAEfA,OAAOG,KAAP,CAAa,IAAb,EAAmBD,IAAnB,CAAT;;;;OAIG0D,OAAL,CAAazD,KAAb,CAAmB,IAAnB,EAAyBsB,SAAzB;;SAEOkC,MAAP;;;;;;;AAOF,AAAO,SAASE,eAAT,CAAyB5D,OAAzB,EAA2C;qCAANC,IAAM;QAAA;;;MAC5CQ,EAAEmC,UAAF,CAAa5C,QAAQuD,aAArB,CAAJ,EAAyC;WAChCvD,QAAQuD,aAAR,CAAsBrD,KAAtB,CAA4BF,OAA5B,EAAqCC,IAArC,CAAP;;;SAGKsD,cAAcrD,KAAd,CAAoBF,OAApB,EAA6BC,IAA7B,CAAP;;;ACrDF;;;AAGA,AAGA;AACA,SAAS4D,qBAAT,CAA+BC,IAA/B,EAAqCT,KAArC,EAA4CU,aAA5C,EAA2D;MACrD,CAACD,KAAKE,qBAAV,EAAiC;;;IAC/B9B,IAAF,CAAO4B,KAAKE,qBAAL,EAAP,EAAqC,iBAAS;QACxC,CAACD,cAAcE,KAAd,CAAL,EAA2B;;;oBACXA,KAAhB,EAAuBZ,KAAvB,EAA8BY,KAA9B;GAFF;;;AAMF,SAASC,mBAAT,CAA6BJ,IAA7B,EAAmC;SAC1B,CAACA,KAAKK,WAAb;;;AAGF,SAASC,YAAT,CAAsBN,IAAtB,EAA4B;MACtB,CAACI,oBAAoBJ,IAApB,CAAL,EAAgC;WAAS,KAAP;;OAC7BK,WAAL,GAAmB,IAAnB;SACO,IAAP;;;AAGF,SAASE,mBAAT,CAA6BP,IAA7B,EAAmC;SAC1BA,KAAKK,WAAZ;;;AAGF,SAASG,YAAT,CAAsBR,IAAtB,EAA4B;MACtB,CAACO,oBAAoBP,IAApB,CAAL,EAAgC;WAAS,KAAP;;OAC7BK,WAAL,GAAmB,KAAnB;SACO,IAAP;;;AAGF,SAASI,iBAAT,CAA2BT,IAA3B,EAAiC;MAC3BA,KAAKK,WAAL,IAAoBL,KAAKU,WAA7B,EAA0C;oBACxBV,IAAhB,EAAsB,aAAtB,EAAqCA,IAArC;;;;AAIJ,SAASW,gBAAT,CAA0BX,IAA1B,EAAgC;MAC1BA,KAAKK,WAAL,IAAoBL,KAAKU,WAA7B,EAA0C;oBACxBV,IAAhB,EAAsB,YAAtB,EAAoCA,IAApC;;;;AAIJ,SAASY,kBAAT,GAA8B;wBACN,IAAtB,EAA4B,eAA5B,EAA6CR,mBAA7C;;;AAGF,SAASS,YAAT,GAAwB;wBACA,IAAtB,EAA4B,QAA5B,EAAsCP,YAAtC;oBACkB,IAAlB;;;AAGF,SAASQ,kBAAT,GAA8B;wBACN,IAAtB,EAA4B,eAA5B,EAA6CP,mBAA7C;mBACiB,IAAjB;;;AAGF,SAASQ,YAAT,GAAwB;wBACA,IAAtB,EAA4B,QAA5B,EAAsCP,YAAtC;;;AAGF,SAASQ,kBAAT,GAA8B;mBACX,IAAjB;;;AAGF,SAASC,YAAT,GAAwB;oBACJ,IAAlB;;;;;AAKF,SAASC,iBAAT,CAA2BlB,IAA3B,EAAiC;MAC3BA,KAAKmB,uBAAL,IAAgCnB,KAAKkB,iBAAL,KAA2B,KAA/D,EAAsE;;;;OAEjEC,uBAAL,GAA+B,IAA/B;;OAEKC,EAAL,CAAQ;qBACWR,kBADX;cAEIC,YAFJ;qBAGWC,kBAHX;cAIIC,YAJJ;qBAKWC,kBALX;cAMIC;GANZ;;;AChFF;;;AAGA,AAIA,IAAMI,aAAa,CAAC,aAAD,EAAgB,UAAhB,EAA4B,YAA5B,EAA0C,MAA1C,EAAkD,SAAlD,EAA6D,QAA7D,CAAnB;;AAEA,IAAMC,kBAAkBjF,OAAOsD,IAAP,CAAY4B,KAAZ,EAAmB;8CACCC,OAA1C,MADyC;;aAAA,uBAG7B/E,OAH6B,EAGpByB,OAHoB,EAGX;QACxBvB,EAAEC,QAAF,CAAWH,OAAX,CAAJ,EAAyB;gBACbA,OAAV;gBACUyB,QAAQzB,OAAlB;KAFF,MAGO,IAAI,CAACyB,OAAL,EAAc;gBACT,EAAV;;;QAGIuD,QAAQF,MAAM5B,IAAN,CAAW,IAAX,EAAiBlD,OAAjB,CAAd;MACEJ,MAAF,CAAS,IAAT,EAAeM,EAAE+E,IAAF,CAAOD,KAAP,EAAcJ,UAAd,CAAf,EAA0C1E,EAAE+E,IAAF,CAAOxD,OAAP,EAAgBmD,UAAhB,CAA1C;;SAEKM,iBAAL;;QAEIzD,QAAQnB,GAAZ,EAAiB;WACVA,GAAL,GAAW,KAAK6E,OAAL,GAAe1D,QAAQnB,GAAlC;;GAjBqC;mBAAA,+BAqBrB;QACdwE,MAAMI,iBAAV,EAA6B;YACrBA,iBAAN,CAAwB,IAAxB,EAA8BL,eAA9B;;GAvBqC;UAAA,sBA2B9B;WACF,KAAKzC,IAAL,GAAY,IAAZ,GAAmB,KAAKpC,OAAxB,IAAmC,KAAKM,GAAL,GAAW,WAAW,KAAKA,GAA3B,GAAiC,EAApE,CAAP;;CA5BoB,CAAxB;;AAgCAuE,gBAAgBjF,MAAhB,GAAyBA,MAAzB;;ACzCA;;;;;;;;;;;;;;;AAeA,AAGA;;AAEA,SAASwF,eAAT,CAAyBC,MAAzB,EAAiCC,MAAjC,EAAyCC,GAAzC,EAA8CC,OAA9C,EAAuDC,UAAvD,EAAmE;MAC3DC,cAAcF,QAAQG,KAAR,CAAc,KAAd,CAApB;;IAEEhE,IAAF,CAAO+D,WAAP,EAAoB,UAASzC,UAAT,EAAqB;QACjCzD,SAAS6F,OAAOpC,UAAP,CAAf;QACI,CAACzD,MAAL,EAAa;YACL,IAAIqF,eAAJ,cAA+B5B,UAA/B,+DAAN;;;WAGKwC,UAAP,EAAmBH,MAAnB,EAA2BC,GAA3B,EAAgC/F,MAAhC;GANF;;;;AAWF,SAASoG,aAAT,CAAuBP,MAAvB,EAA+BC,MAA/B,EAAuCO,QAAvC,EAAiDJ,UAAjD,EAA6D;MACvD,CAACH,MAAD,IAAW,CAACO,QAAhB,EAA0B;;;;;MAGtB,CAAC3F,EAAEC,QAAF,CAAW0F,QAAX,CAAL,EAA2B;UACnB,IAAIhB,eAAJ,CAAoB;eACf,6BADe;WAEnB;KAFD,CAAN;;;;IAOAlD,IAAF,CAAOkE,QAAP,EAAiB,UAASrG,MAAT,EAAiB+F,GAAjB,EAAsB;;;QAGjCrF,EAAE4F,QAAF,CAAWtG,MAAX,CAAJ,EAAwB;sBACN6F,MAAhB,EAAwBC,MAAxB,EAAgCC,GAAhC,EAAqC/F,MAArC,EAA6CiG,UAA7C;;;;WAIKA,UAAP,EAAmBH,MAAnB,EAA2BC,GAA3B,EAAgC/F,MAAhC;GARF;;;AAYF,SAASuG,UAAT,CAAoBT,MAApB,EAA4BO,QAA5B,EAAsC;gBACtB,IAAd,EAAoBP,MAApB,EAA4BO,QAA5B,EAAsC,UAAtC;SACO,IAAP;;;AAGF,SAASG,YAAT,CAAsBV,MAAtB,EAA8BO,QAA9B,EAAwC;gBACxB,IAAd,EAAoBP,MAApB,EAA4BO,QAA5B,EAAsC,eAAtC;SACO,IAAP;;;ACjEF;;;;;;;;;;;;;AAaA,AAIA,SAASI,cAAT,CAAwBZ,MAAxB,EAAgCa,OAAhC,EAAyCL,QAAzC,EAAmDJ,UAAnD,EAA+D;MACzD,CAACS,OAAD,IAAY,CAACL,QAAjB,EAA2B;;;;;MAGvB,CAAC3F,EAAEC,QAAF,CAAW0F,QAAX,CAAL,EAA2B;UACnB,IAAIhB,eAAJ,CAAoB;eACf,6BADe;WAEnB;KAFD,CAAN;;;MAMIsB,0BAA0BnE,iBAAiBkB,IAAjB,CAAsBmC,MAAtB,EAA8BQ,QAA9B,CAAhC;;UAEQJ,UAAR,EAAoBU,uBAApB,EAA6Cd,MAA7C;;;AAGF,SAASe,YAAT,CAAsBF,OAAtB,EAA+BL,QAA/B,EAAyC;iBACxB,IAAf,EAAqBK,OAArB,EAA8BL,QAA9B,EAAwC,OAAxC;SACO,IAAP;;;AAGF,SAASQ,cAAT,CAAwBH,OAAxB,EAAiCL,QAAjC,EAA2C;iBAC1B,IAAf,EAAqBK,OAArB,EAA8BL,QAA9B,EAAwC,cAAxC;SACO,IAAP;;;ACtCF;AACA,IAAMS,aAAa,SAAbA,UAAa,CAAS7E,OAAT,EAAkB;OAC9BA,OAAL,GAAevB,EAAEN,MAAF,CAAS,EAAT,EAAaM,EAAEiD,MAAF,CAAS,IAAT,EAAe,SAAf,CAAb,EAAwC1B,OAAxC,CAAf;CADF;;ACMA,kBAAe;;;;oCAAA;;yBAAA;;;4BAAA;;;sBAAA;;;wBAAA;;;;CAAf;;ACMA;;;;;AAKA,iBAAe;YAAA,wBAEA;QACL8E,cAAcrG,EAAEiD,MAAF,CAAS,IAAT,EAAe,aAAf,CAApB;;QAEI,CAACoD,WAAL,EAAkB;;;;;QAKd,CAACC,KAAL,EAAY;YACJ,IAAI3B,eAAJ,CAAoB;cAClB,sBADkB;iBAEf;OAFL,CAAN;;;QAMIqB,UAAU,KAAKO,QAAL,GAAgBD,MAAMN,OAAN,CAAcK,WAAd,CAAhC;;QAEMG,cAAcxG,EAAEiD,MAAF,CAAS,IAAT,EAAe,aAAf,CAApB;SACK4C,UAAL,CAAgBG,OAAhB,EAAyBQ,WAAzB;;QAEMC,gBAAgBzG,EAAEiD,MAAF,CAAS,IAAT,EAAe,eAAf,CAAtB;SACKiD,YAAL,CAAkBF,OAAlB,EAA2BS,aAA3B;;SAEKhC,EAAL,CAAQ,SAAR,EAAmB,KAAKiC,aAAxB;GAzBW;eAAA,2BA4BG;SACTH,QAAL,CAAcI,YAAd,CAA2B,IAA3B,EAAiC,IAAjC,EAAuC,IAAvC;GA7BW;YAAA,wBAgCA;WACJ,KAAKJ,QAAZ;GAjCW;;;;cAqCDV,UArCC;;;gBAwCCC,YAxCD;;;gBA2CCI,YA3CD;;;kBA8CGC;;CA9ClB;;ACpBA;;;AAGA,AAOA,IAAMS,eAAe,CACnB,aADmB,EAEnB,aAFmB,EAGnB,eAHmB,CAArB;;;;AAQA,IAAMC,mBAAmB,SAAnBA,gBAAmB,CAAStF,OAAT,EAAkB;MACrC,CAAC,KAAKuF,cAAL,CAAoB,SAApB,CAAL,EAAqC;SAC9BC,WAAL,CAAiBxF,OAAjB;;OAEGD,YAAL,CAAkBC,OAAlB,EAA2BqF,YAA3B;OACKI,OAAL;OACKC,UAAL;OACKC,UAAL,CAAgBzH,KAAhB,CAAsB,IAAtB,EAA4BsB,SAA5B;CAPF;;AAUA8F,iBAAiBnH,MAAjB,GAA0BA,MAA1B;;;;;;AAMAM,EAAEN,MAAF,CAASmH,iBAAiBM,SAA1B,EAAqCxH,SAASyH,MAA9C,EAAsDC,WAAtD,EAAmEC,UAAnE,EAA+E;aAClE,KADkE;;;gBAI/D,KAJ+D;;aAAA,yBAM/D;WACL,KAAKC,YAAZ;GAP2E;;;;YAAA,wBAWhE,EAXgE;SAAA,qBAanE;QACJ,KAAKC,GAAT,EAAc;;;SACTA,GAAL,GAAWxH,EAAEyH,QAAF,CAAW,KAAKC,SAAhB,CAAX;GAf2E;SAAA,qBAkB5D;QACX,KAAKH,YAAT,EAAuB;aAAS,IAAP;;;sCADhB/H,IAAM;UAAA;;;SAGVsD,aAAL,cAAmB,gBAAnB,EAAqC,IAArC,SAA8CtD,IAA9C;;SAEK+H,YAAL,GAAoB,IAApB;SACKzE,aAAL,cAAmB,SAAnB,EAA8B,IAA9B,SAAuCtD,IAAvC;SACKmI,aAAL;;WAEO,IAAP;GA3B2E;;;;CAA/E;;AClCA;;;AAGA,AAIA;;AAEA,IAAMC,gBAAgB,SAAhBA,aAAgB,CAASC,UAAT,EAAqB;OACpCA,UAAL,GAAkBA,UAAlB;CADF;;;;;AAOA7H,EAAEN,MAAF,CAASkI,aAAT,EAAwB;;kBAEN,EAFM;;;;;KAAA,eAOlBC,UAPkB,EAONtG,OAPM,EAOG;QACnBuG,iBAAiB,KAAKC,cAAL,CAAoBF,UAApB,CAArB;;QAEI,CAACC,cAAL,EAAqB;uBACF,IAAIF,aAAJ,CAAkBC,UAAlB,CAAjB;WACKE,cAAL,CAAoBF,UAApB,IAAkCC,cAAlC;;;WAGKA,eAAeE,IAAf,CAAoBzG,OAApB,CAAP;GAfoB;;;;;;;;;;OAAA,mBAyBP;QACT0G,UAAJ;;sCADOzI,IAAM;UAAA;;;QAEP0I,SAAS1I,KAAK0I,MAApB;;QAEIA,SAAS,CAAb,EAAgB;WACTD,IAAI,CAAT,EAAYA,IAAIC,MAAhB,EAAwBD,GAAxB,EAA6B;eACpB,KAAKF,cAAL,CAAoBvI,KAAKyI,CAAL,CAApB,CAAP;;KAFJ,MAIO;WACAF,cAAL,GAAsB,EAAtB;;;CAlCN;;;;;AA0CA/H,EAAEN,MAAF,CAASkI,cAAcT,SAAvB,EAAkC;;;MAAA,gBAG3B5F,OAH2B,EAGlB;;QAER,KAAK4G,gBAAT,EAA2B;aAClB,KAAKA,gBAAZ;;;;QAIIC,WAAW,KAAKC,YAAL,CAAkB,KAAKR,UAAvB,EAAmCtG,OAAnC,CAAjB;SACK4G,gBAAL,GAAwB,KAAKG,eAAL,CAAqBF,QAArB,EAA+B7G,OAA/B,CAAxB;;WAEO,KAAK4G,gBAAZ;GAb8B;;;;;;;;cAAA,wBAqBnBN,UArBmB,EAqBPtG,OArBO,EAqBE;QAC1BgH,YAAY5I,SAAS6I,CAAT,CAAWX,UAAX,CAAlB;;QAEI,CAACU,UAAUL,MAAf,EAAuB;YACf,IAAIvD,eAAJ,CAAoB;cAClB,iBADkB;gDAEckD,UAAtC;OAFI,CAAN;;WAKKU,UAAUE,IAAV,EAAP;GA9B8B;;;;;;;iBAAA,2BAqChBC,WArCgB,EAqCHnH,OArCG,EAqCM;WAC7BvB,EAAEoI,QAAF,CAAWM,WAAX,EAAwBnH,OAAxB,CAAP;;CAtCJ;;AC1DA;;AAEA,AAEA,cAAevB,EAAE2I,SAAF,IAAe3I,EAAE4I,MAAhC;;ACCA;;;;;;;;;AASA,SAASC,gBAAT,CAA0BtH,OAA1B,EAAmCG,GAAnC,EAAwC;MAClCH,QAAQuH,aAAZ,EAA2B;WAClBvH,QAAQuH,aAAf;;GADF,MAGO,IAAI9I,EAAEmC,UAAF,CAAaZ,OAAb,CAAJ,EAA2B;WACzBA,OAAP;;;;MAIEvB,EAAEmC,UAAF,CAAa9B,WAAW0I,SAAX,CAAqBC,eAAlC,CAAJ,EAAwD;WAC/C3I,WAAW0I,SAAX,CAAqBC,eAArB,CAAqCzH,OAArC,EAA8CG,GAA9C,EAAmDA,GAAnD,CAAP;;;SAGKrB,WAAW0I,SAAX,CAAqBC,eAArB,CAAqCtH,GAArC,CAAP;;;;;;AAMF,SAASuH,cAAT,CAAwB5F,IAAxB,EAA8B6F,SAA9B,EAAyC;SAChClJ,EAAEmJ,KAAF,CAAQD,SAAR,EAAmBE,GAAnB,CAAuB,UAAS7H,OAAT,EAAkBG,GAAlB,EAAuB;QAC7C2H,gBAAgBR,iBAAiBtH,OAAjB,EAA0BG,GAA1B,CAAtB;;QAEM4H,WAAW/H,YAAY8H,aAAZ,GAA4B,EAA5B,GAAiC9H,OAAlD;QACMgI,WAAW,IAAIF,aAAJ,CAAkBC,QAAlB,EAA4BjG,IAA5B,CAAjB;QACMmG,kBAAkBP,eAAe5F,IAAf,EAAqBrD,EAAEiD,MAAF,CAASsG,QAAT,EAAmB,WAAnB,CAArB,CAAxB;;WAEO,CAACA,QAAD,EAAWE,MAAX,CAAkBD,eAAlB,CAAP;GAPK,EAQJE,OARI,GAQMC,KARN,EAAP;;;AAWF,qBAAe;gBAAA,4BACI;SACVC,UAAL,GAAkB,KAAKC,aAAL,EAAlB;GAFW;eAAA,2BAKG;QACRX,YAAYlJ,EAAEiD,MAAF,CAAS,IAAT,EAAe,WAAf,CAAlB;;;;WAIOjD,EAAEC,QAAF,CAAWiJ,SAAX,IAAwBD,eAAe,IAAf,EAAqBC,SAArB,CAAxB,GAA0D,EAAjE;GAVW;sBAAA,kCAaU;QACfY,WAAWC,QAAQ,KAAKH,UAAb,EAAyB,aAAzB,CAAjB;WACO5J,EAAEgC,MAAF,CAAS8H,QAAT,EAAmB,UAASE,IAAT,EAAeC,SAAf,EAA0B;aAC3CjK,EAAEN,MAAF,CAASsK,IAAT,EAAeC,SAAf,CAAP;KADK,EAEJ,EAFI,CAAP;GAfW;oBAAA,gCAoBQ;QACbC,SAASH,QAAQ,KAAKH,UAAb,EAAyB,WAAzB,CAAf;WACO5J,EAAEgC,MAAF,CAASkI,MAAT,EAAiB,UAASF,IAAT,EAAeG,OAAf,EAAwB;aACvCnK,EAAEN,MAAF,CAASsK,IAAT,EAAeG,OAAf,CAAP;KADK,EAEJ,EAFI,CAAP;GAtBW;;;;8BAAA,0CA4BkB;YACrB,KAAKP,UAAb,EAAyB,qBAAzB;GA7BW;;;;+BAAA,2CAiCmB;YACtB,KAAKA,UAAb,EAAyB,sBAAzB;GAlCW;;;;iCAAA,6CAsCqB;YACxB,KAAKA,UAAb,EAAyB,wBAAzB;GAvCW;mBAAA,+BA0Cc;sCAANpK,IAAM;UAAA;;;;;;;8BAKjB,KAAKoK,UAAb,EAAyB,SAAzB,SAAuCpK,IAAvC;GA/CW;;;;iBAAA,2BAmDG+J,QAnDH,EAmDa;;QAEpB,KAAKhC,YAAT,EAAuB;;;SAClBqC,UAAL,GAAkB5J,EAAEoK,OAAF,CAAU,KAAKR,UAAf,EAA2BL,QAA3B,CAAlB;GAtDW;yBAAA,qCAyDa;YAChB,KAAKK,UAAb,EAAyB,gBAAzB;GA1DW;2BAAA,uCA6De;YAClB,KAAKA,UAAb,EAAyB,kBAAzB;GA9DW;0BAAA,sCAiEc;QACnBV,YAAY,KAAKU,UAAvB;;SAEK,IAAI3B,IAAI,CAAR,EAAWC,SAASgB,aAAaA,UAAUhB,MAAhD,EAAwDD,IAAIC,MAA5D,EAAoED,GAApE,EAAyE;oBACzDxI,KAAd,CAAoByJ,UAAUjB,CAAV,CAApB,EAAkClH,SAAlC;;;CArEN;;ACtCA;;;;AAIA,gCAAe;;uBAAA,iCAESsJ,KAFT,EAEgBC,UAFhB,EAE4B;SAClCC,uBAAL,CAA6BF,KAA7B,EAAoCC,UAApC;;QAEME,cAAcxK,EAAEiD,MAAF,CAAS,IAAT,EAAe,aAAf,CAApB;eACWD,IAAX,CAAgB,IAAhB,EAAsBqH,KAAtB,EAA6BG,WAA7B;;QAEMC,mBAAmBzK,EAAEiD,MAAF,CAAS,IAAT,EAAe,kBAAf,CAAzB;eACWD,IAAX,CAAgB,IAAhB,EAAsBsH,UAAtB,EAAkCG,gBAAlC;GATW;yBAAA,mCAYWJ,KAZX,EAYkBC,UAZlB,EAY8B;QACnCE,cAAcxK,EAAEiD,MAAF,CAAS,IAAT,EAAe,aAAf,CAApB;iBACaD,IAAb,CAAkB,IAAlB,EAAwBqH,KAAxB,EAA+BG,WAA/B;;QAEMC,mBAAmBzK,EAAEiD,MAAF,CAAS,IAAT,EAAe,kBAAf,CAAzB;iBACaD,IAAb,CAAkB,IAAlB,EAAwBsH,UAAxB,EAAoCG,gBAApC;;CAjBJ;;ACTA;AACA,IAAMC,wBAAwB,gBAA9B;;AAEA,SAASC,UAAT,CAAoBnI,SAApB,EAA+BoI,QAA/B,EAAyC;cAC5BpI,SAAX,GAAyBxC,EAAEyH,QAAF,CAAW,MAAX,CAAzB,SAAiDmD,QAAjD;;;;;;AAMF,IAAMC,qBAAqB,SAArBA,kBAAqB,CAASrI,SAAT,EAAoB;MACvCF,QAAQE,UAAUF,KAAV,CAAgBoI,qBAAhB,CAAd;SACOC,WAAWrI,MAAM,CAAN,CAAX,EAAqBA,MAAM,CAAN,CAArB,CAAP;CAFF;;ACZA;;AAEA,IAAMwI,WAAW;wBACO,IADP;2BAEU,IAFV;0BAGS;CAH1B;;AAMA,SAASC,SAAT,CAAmB7I,IAAnB,EAAyB;SAChB,CAAC,CAAC4I,SAAS5I,IAAT,CAAT;;;AAGF,SAAS8I,UAAT,CAAoB9I,IAApB,EAA0B+I,KAA1B,EAAiC;SACxBH,SAAS5I,IAAT,IAAiB+I,KAAxB;;;ACTF;;AAEA,SAASC,gBAAT,CAA0B7H,IAA1B,EAAgC8H,UAAhC,EAA4C;MACtCnL,EAAE4F,QAAF,CAAWuF,UAAX,CAAJ,EAA4B;iBACb,EAACvI,OAAOuI,UAAR,EAAb;;;MAGI3I,YAAY2I,WAAWvI,KAA7B;;MAEIwI,uBAAuB,CAAC,CAACD,WAAWE,cAAxC;;MAEIN,UAAU,wBAAV,CAAJ,EAAyC;2BAChBI,WAAWE,cAAX,KAA8B,KAArD;;;MAGEC,wBAAwB,CAAC,CAACH,WAAWI,eAAzC;;MAEIR,UAAU,yBAAV,CAAJ,EAA0C;4BAChBI,WAAWI,eAAX,KAA+B,KAAvD;;;SAGK,UAAS3I,KAAT,EAAgB;QACjBwI,oBAAJ,EAA0B;YAClBC,cAAN;;;QAGEC,qBAAJ,EAA2B;YACnBC,eAAN;;;SAGGzI,aAAL,CAAmBN,SAAnB,EAA8Ba,IAA9B,EAAoCT,KAApC;GATF;;;AAaF,oBAAe;;;;kBAAA,4BAIIS,IAJJ,EAIUyG,QAJV,EAIoB;;;WAGxB9J,EAAEgC,MAAF,CAAS8H,QAAT,EAAmB,UAACI,MAAD,EAASP,KAAT,EAAgBjI,GAAhB,EAAwB;YAC1CmJ,mBAAmBnJ,GAAnB,CAAN;aACOA,GAAP,IAAcwJ,iBAAiB7H,IAAjB,EAAuBsG,KAAvB,CAAd;aACOO,MAAP;KAHK,EAIJ,EAJI,CAAP;;CAPJ;;ACrCA;;;;AAIA,IAAMsB,mBAAkB,SAAlBA,gBAAkB,CAASzJ,IAAT,EAAe0J,EAAf,EAAmB;SAClCzL,EAAEgC,MAAF,CAASD,IAAT,EAAe,UAACiI,IAAD,EAAO0B,GAAP,EAAYhK,GAAZ,EAAoB;QAClCiK,gBAAgBC,mBAAkBlK,GAAlB,EAAuB+J,EAAvB,CAAtB;SACKE,aAAL,IAAsBD,GAAtB;WACO1B,IAAP;GAHK,EAIJ,EAJI,CAAP;CADF;;;;AAUA,IAAM4B,qBAAoB,SAApBA,kBAAoB,CAASC,QAAT,EAAmBJ,EAAnB,EAAuB;SACxCI,SAAShJ,OAAT,CAAiB,uBAAjB,EAA0C,UAACiJ,CAAD,EAAO;WAC/CL,GAAGK,EAAEC,KAAF,CAAQ,CAAR,CAAH,CAAP;GADK,CAAP;CADF;;;;;AASA,IAAMC,qBAAoB,SAApBA,kBAAoB,CAASjK,IAAT,EAAe0J,EAAf,EAAmBQ,UAAnB,EAA+B;IACrDxK,IAAF,CAAOM,IAAP,EAAa,UAAC2J,GAAD,EAAMhK,GAAN,EAAc;QACrB1B,EAAE4F,QAAF,CAAW8F,GAAX,CAAJ,EAAqB;WACdhK,GAAL,IAAYkK,mBAAkBF,GAAlB,EAAuBD,EAAvB,CAAZ;KADF,MAEO,IAAIzL,EAAEC,QAAF,CAAWyL,GAAX,KAAmB1L,EAAEkM,OAAF,CAAUD,UAAV,CAAvB,EAA8C;QACjDvM,MAAF,CAASgM,GAAT,EAAcM,mBAAkBhM,EAAE+E,IAAF,CAAO2G,GAAP,EAAYO,UAAZ,CAAlB,EAA2CR,EAA3C,CAAd;;QAEEhK,IAAF,CAAOwK,UAAP,EAAmB,UAACE,QAAD,EAAc;YACzBC,cAAcV,IAAIS,QAAJ,CAApB;YACInM,EAAE4F,QAAF,CAAWwG,WAAX,CAAJ,EAA6B;cACvBD,QAAJ,IAAgBP,mBAAkBQ,WAAlB,EAA+BX,EAA/B,CAAhB;;OAHJ;;GANJ;SAcO1J,IAAP;CAfF;;AAkBA,cAAe;;;;iBAAA,2BAIGA,IAJH,EAIS;QACdsK,aAAa,KAAKC,cAAL,EAAnB;WACOd,iBAAgBzJ,IAAhB,EAAsBsK,UAAtB,CAAP;GANW;;;;;mBAAA,6BAWKR,QAXL,EAWe;QACpBQ,aAAa,KAAKC,cAAL,EAAnB;WACOV,mBAAkBC,QAAlB,EAA4BQ,UAA5B,CAAP;GAbW;;;;;mBAAA,6BAkBKtK,IAlBL,EAkBWkK,UAlBX,EAkBuB;QAC5BI,aAAa,KAAKC,cAAL,EAAnB;WACON,mBAAkBjK,IAAlB,EAAwBsK,UAAxB,EAAoCJ,UAApC,CAAP;GApBW;gBAAA,4BAuBI;QACTI,aAAarM,EAAEiD,MAAF,CAAS,IAAT,EAAe,aAAf,CAAnB;QACMwI,KAAKzL,EAAEiD,MAAF,CAAS,IAAT,EAAe,IAAf,CAAX;WACOoJ,cAAcZ,EAArB;GA1BW;;;;;iBAAA,6BA+BK;;;QACZ,CAAC,KAAKA,EAAV,EAAc;;;;;;QAIV,CAAC,KAAKc,WAAV,EAAuB;WAChBA,WAAL,GAAmB,KAAKd,EAAxB;;;;QAII9F,WAAW3F,EAAEiD,MAAF,CAAS,IAAT,EAAe,aAAf,CAAjB;;;SAGKuJ,GAAL,GAAW,EAAX;;;MAGE/K,IAAF,CAAOkE,QAAP,EAAiB,UAACiF,QAAD,EAAWlJ,GAAX,EAAmB;YAC7B8K,GAAL,CAAS9K,GAAT,IAAgB,MAAK8G,CAAL,CAAOoC,QAAP,CAAhB;KADF;;SAIKa,EAAL,GAAU,KAAKe,GAAf;GAnDW;mBAAA,+BAsDO;;;QACd,CAAC,KAAKf,EAAN,IAAY,CAAC,KAAKc,WAAtB,EAAmC;;;;;MAGjC9K,IAAF,CAAO,KAAKgK,EAAZ,EAAgB,UAACgB,GAAD,EAAMvK,IAAN,EAAe;aACtB,OAAKuJ,EAAL,CAAQvJ,IAAR,CAAP;KADF;;;SAKKuJ,EAAL,GAAU,KAAKc,WAAf;WACO,KAAKA,WAAZ;WACO,KAAKC,GAAZ;GAjEW;QAAA,kBAoENtK,IApEM,EAoEA;WACJ,KAAKsK,GAAL,CAAStK,IAAT,CAAP;;CArEJ;;AC1CA;;AAEA,AAGA;AACA,SAASwK,MAAT,CAAezL,EAAf,EAAmB;SACVA,cAActB,SAAS6I,CAAvB,GAA2BvH,EAA3B,GAAgCtB,SAAS6I,CAAT,CAAWvH,EAAX,CAAvC;;;;AAIF,AAAO,SAAS0L,SAAT,CAAmBC,KAAnB,EAA0B;OAC1BzF,SAAL,CAAe0F,GAAf,GAAqB7M,EAAEN,MAAF,CAAS,EAAT,EAAa,KAAKyH,SAAL,CAAe0F,GAA5B,EAAiCD,KAAjC,CAArB;;;AAGF,aAAe;;;cAAA,0BAGE;WACN1L,SAAS4L,sBAAT,EAAP;GAJW;;;;;;OAAA,iBAUPlC,QAVO,EAUG;WACP8B,OAAM9B,QAAN,CAAP;GAXW;;;;;QAAA,kBAgBN3J,EAhBM,EAgBF2J,QAhBE,EAgB0B;QAAlBmC,IAAkB,uEAAXL,OAAMzL,EAAN,CAAW;;WAC9B8L,KAAKC,IAAL,CAAUpC,QAAV,CAAP;GAjBW;;;;OAAA,iBAqBP3J,EArBO,EAqBHgM,OArBG,EAqBM;WACVhM,GAAGG,QAAH,CAAY6L,WAAWA,QAAQ5L,UAA/B,CAAP;GAtBW;;;;UAAA,oBA0BJJ,EA1BI,EA0BkB;QAAlB8L,IAAkB,uEAAXL,OAAMzL,EAAN,CAAW;;SACxBiM,MAAL;GA3BW;;;;WAAA,qBA+BHC,KA/BG,EA+BIC,KA/BJ,EA+BW;QAClBD,UAAUC,KAAd,EAAqB;;;;QAIfC,SAASD,MAAM/L,UAArB;;QAEI,CAACgM,MAAL,EAAa;;;;WAINC,YAAP,CAAoBH,KAApB,EAA2BC,KAA3B;GA1CW;;;;QAAA,kBA8CNG,GA9CM,EA8CDC,GA9CC,EA8CI;QACXD,QAAQC,GAAZ,EAAiB;;;;QAIXC,UAAUF,IAAIlM,UAApB;QACMqM,UAAUF,IAAInM,UAApB;;QAEI,CAACoM,OAAD,IAAY,CAACC,OAAjB,EAA0B;;;;QAIpBC,QAAQJ,IAAIK,WAAlB;QACMC,QAAQL,IAAII,WAAlB;;YAEQE,YAAR,CAAqBN,GAArB,EAA0BG,KAA1B;YACQG,YAAR,CAAqBP,GAArB,EAA0BM,KAA1B;GA9DW;;;;aAAA,uBAkED5M,EAlEC,EAkEGwH,IAlEH,EAkE2B;QAAlBsE,IAAkB,uEAAXL,OAAMzL,EAAN,CAAW;;SACjCwH,IAAL,CAAUA,IAAV;GAnEW;;;;;gBAAA,0BAwEExH,EAxEF,EAwEM8M,QAxEN,EAwEuE;mFAAJ,EAAI;yBAAtDhB,IAAsD;QAAtDA,IAAsD,6BAA/CL,OAAMzL,EAAN,CAA+C;+BAApC+M,UAAoC;QAApCA,UAAoC,mCAAvBtB,OAAMqB,QAAN,CAAuB;;SAC7EE,MAAL,CAAYD,UAAZ;GAzEW;;;;aAAA,uBA6ED/M,EA7EC,EA6EG;WACPA,GAAGiN,aAAH,EAAP;GA9EW;;;;;gBAAA,0BAmFEjN,EAnFF,EAmFwB;QAAlB8L,IAAkB,uEAAXL,OAAMzL,EAAN,CAAW;;SAC9B8M,QAAL,GAAgBb,MAAhB;;CApFJ;;ACfA;;;AAGA,AAWA;;;;;;;;;;;AAWA,IAAMiB,YAAY;OACXC,MADW;;2BAGS,IAHT;4BAIU,IAJV;;gBAMF,KANE;;aAAA,yBAQF;WACL,CAAC,CAAC,KAAK7G,YAAd;GATc;;;eAYH,KAZG;;YAAA,wBAcH;WACJ,CAAC,CAAC,KAAKxD,WAAd;GAfc;;;eAkBH,KAlBG;;YAAA,wBAoBH;WACJ,CAAC,CAAC,KAAKL,WAAd;GArBc;;;;;gBAAA,0BA0BD2K,SA1BC,EA0BU;;SAEnBC,4BAAL;SACKC,kBAAL;;QAEMC,aAAa,KAAKC,UAAL,CAAgBJ,SAAhB,CAAnB;;QAEI,OAAOA,SAAP,KAAqB,WAAzB,EAAsC;WAC/BnE,MAAL,GAAcsE,UAAd;;;QAGIE,iBAAiB1O,EAAEN,MAAF,CAAS,EAAT,EACrB,KAAKiP,kBAAL,EADqB,EAErBH,UAFqB,EAGrB,KAAKI,oBAAL,EAHqB,EAIrB,KAAKC,WAAL,EAJqB,CAAvB;;aAOSC,IAAT,CAAc3H,SAAd,CAAwB4H,cAAxB,CAAuC/L,IAAvC,CAA4C,IAA5C,EAAkD0L,cAAlD;;WAEO,IAAP;GA9Cc;YAAA,sBAiDLL,SAjDK,EAiDM;QACdnE,SAASmE,aAAa,KAAKnE,MAAjC;;QAEIlK,EAAEmC,UAAF,CAAa+H,MAAb,CAAJ,EAA0B;aACjB,KAAKsB,eAAL,CAAqBtB,OAAOlH,IAAP,CAAY,IAAZ,CAArB,CAAP;;;WAGK,KAAKwI,eAAL,CAAqBtB,MAArB,CAAP;GAxDc;;;;;aAAA,yBA6DF;QACR,CAAC,KAAKJ,QAAV,EAAoB;;;;;QAGdA,WAAW,KAAK0B,eAAL,CAAqBxL,EAAEiD,MAAF,CAAS,IAAT,EAAe,UAAf,CAArB,CAAjB;;;;WAIO,KAAK+L,gBAAL,CAAsB,IAAtB,EAA4BlF,QAA5B,CAAP;GArEc;;;;sBAAA,kCAyEO;SAChBmF,qBAAL,CAA2B,KAAK5E,KAAhC,EAAuC,KAAKC,UAA5C;;;SAGK4E,6BAAL;;WAEO,IAAP;GA/Ec;;;;wBAAA,oCAmFS;SAClB3E,uBAAL,CAA6B,KAAKF,KAAlC,EAAyC,KAAKC,UAA9C;;;SAGK6E,+BAAL;;WAEO,IAAP;GAzFc;;;;SAAA,qBA6FC;QACX,KAAK5H,YAAT,EAAuB;aAAS,IAAP;;QACnB3D,sBAAsB,KAAKF,WAAL,IAAoB,CAAC,KAAK0L,oBAAtD;;sCAFS5P,IAAM;UAAA;;;SAIVsD,aAAL,cAAmB,gBAAnB,EAAqC,IAArC,SAA8CtD,IAA9C;QACIoE,mBAAJ,EAAyB;WAClBd,aAAL,CAAmB,eAAnB,EAAoC,IAApC;;;;SAIGuM,gBAAL;;;SAGKC,cAAL;;QAEI1L,mBAAJ,EAAyB;WAClBF,WAAL,GAAmB,KAAnB;WACKZ,aAAL,CAAmB,QAAnB,EAA6B,IAA7B;;;;SAIGyM,eAAL;;SAEKhI,YAAL,GAAoB,IAApB;SACKxD,WAAL,GAAmB,KAAnB;;;SAGKyL,iBAAL,aAA0BhQ,IAA1B;;SAEKsD,aAAL,cAAmB,SAAnB,EAA8B,IAA9B,SAAuCtD,IAAvC;;SAEKmI,aAAL;;WAEO,IAAP;GA9Hc;;;;gBAAA,4BAkIC;SACV8E,GAAL,CAASgD,GAAT,GAAeC,UAAf;SACK7C,GAAL,CAAS8C,QAAT,CAAkB,KAAK1O,EAAvB,EAA2B,KAAKwL,GAAhC;GApIc;gBAAA,4BAuIC;SACVmD,eAAL;SACKC,uBAAL;;WAEO,IAAP;GA3Ic;;;;kBAAA,8BA+IG;SACZC,iBAAL;SACKC,yBAAL;;WAEO,IAAP;GAnJc;OAAA,iBAsJV7N,IAtJU,EAsJJ;WACH,KAAK8N,MAAL,CAAY9N,IAAZ,CAAP;GAvJc;;;;;sBAAA,kCA4JO;WACd6I,UAAU,sBAAV,IAAoC,WAApC,GAAkD,KAAzD;GA7Jc;;;;;eAAA,8BAkKA;QACRkF,MAAMnN,cAAcrD,KAAd,CAAoB,IAApB,EAA0BsB,SAA1B,CAAZ;;SAEKmP,wBAAL,CAA8BzQ,KAA9B,CAAoC,IAApC,EAA0CsB,SAA1C;;WAEOkP,GAAP;GAvKc;;;;oBAAA,gCA2KK;SACdE,gBAAL,GAAwBnQ,EAAEiD,MAAF,CAAS,IAAT,EAAe,iBAAf,CAAxB;SACKmN,kBAAL,GAA0BpQ,EAAEiD,MAAF,CAAS,IAAT,EAAe,mBAAf,CAA1B;GA7Kc;uBAAA,iCAgLMI,IAhLN,EAgLY;SACrBgN,QAAL,CAAchN,IAAd,EAAoB,KAApB,EAA2B,KAAKiN,sBAAhC;GAjLc;wBAAA,kCAoLO9N,SApLP,EAoL2B;QACnC+N,kBAAkB,KAAKzO,gBAAL,CAAsB,KAAKqO,gBAA3B,CAAxB;;;;uCADmC3Q,IAAM;UAAA;;;QAIrC,OAAO+Q,eAAP,KAA2B,WAA3B,IAA0CvQ,EAAEmC,UAAF,CAAaoO,gBAAgB/N,SAAhB,CAAb,CAA9C,EAAwF;sBACtEA,SAAhB,EAA2B/C,KAA3B,CAAiC,IAAjC,EAAuCD,IAAvC;;;;QAIIgR,oBAAoB,KAAKJ,kBAA/B;;;QAGII,qBAAqBxQ,EAAE4F,QAAF,CAAW4K,kBAAkBhO,SAAlB,CAAX,CAAzB,EAAmE;WAC5DM,aAAL,cAAmB0N,kBAAkBhO,SAAlB,CAAnB,SAAoDhD,IAApD;;;QAGI+C,SAASvC,EAAEiD,MAAF,CAAS,IAAT,EAAe,sBAAf,CAAf;;QAEIV,WAAW,KAAf,EAAsB;UACdkO,iBAAiBlO,SAAS,GAAT,GAAeC,SAAtC;;WAEKM,aAAL,cAAmB2N,cAAnB,SAAsCjR,IAAtC;;;CAzMN;;AA8MAQ,EAAEN,MAAF,CAASyO,SAAT,EAAoBuC,cAApB,EAAoCrJ,WAApC,EAAiDsJ,yBAAjD,EAA4EC,aAA5E,EAA2FC,OAA3F;;ACrOO,SAASC,UAAT,CAAoBzN,IAApB,EAA0B;MAC3BA,KAAKU,WAAT,EAAsB;;;;MAIlB,CAACV,KAAK0N,uBAAV,EAAmC;oBACjB1N,IAAhB,EAAsB,eAAtB,EAAuCA,IAAvC;;;OAGG2N,MAAL;;MAEI,CAAC3N,KAAK0N,uBAAV,EAAmC;SAC5BhN,WAAL,GAAmB,IAAnB;oBACgBV,IAAhB,EAAsB,QAAtB,EAAgCA,IAAhC;;;;AAIJ,AAAO,SAAS4N,WAAT,CAAqB5N,IAArB,EAA2B;MAC5BA,KAAK6N,OAAT,EAAkB;SACXA,OAAL;;;;MAIE,CAAC7N,KAAK8N,wBAAV,EAAoC;oBAClB9N,IAAhB,EAAsB,gBAAtB,EAAwCA,IAAxC;;;MAGIO,sBAAsBP,KAAKK,WAAL,IAAoB,CAACL,KAAK+L,oBAAtD;;MAEIxL,mBAAJ,EAAyB;oBACPP,IAAhB,EAAsB,eAAtB,EAAuCA,IAAvC;;;OAGG+N,MAAL;;MAEIxN,mBAAJ,EAAyB;SAClBF,WAAL,GAAmB,KAAnB;oBACgBL,IAAhB,EAAsB,QAAtB,EAAgCA,IAAhC;;;OAGGkE,YAAL,GAAoB,IAApB;;MAEI,CAAClE,KAAK8N,wBAAV,EAAoC;oBAClB9N,IAAhB,EAAsB,SAAtB,EAAiCA,IAAjC;;;;AC7CJ;;;AAGA,AAYA,IAAMuD,iBAAe,CACnB,gBADmB,EAEnB,UAFmB,EAGnB,gBAHmB,CAArB;;AAMA,IAAMyK,SAASxK,iBAAiBnH,MAAjB,CAAwB;OAChC0O,MADgC;;aAG1B,KAH0B;kBAIrB,KAJqB;eAKxB,KALwB;mBAMpB,KANoB;;aAAA,uBAQzB7M,OARyB,EAQhB;SACdwF,WAAL,CAAiBxF,OAAjB;;SAEKD,YAAL,CAAkBC,OAAlB,EAA2BqF,cAA3B;;;SAGK0K,OAAL,GAAe,KAAKrQ,EAAL,GAAU,KAAKW,SAAL,CAAe,IAAf,CAAzB;;;SAGKX,EAAL,GAAU,KAAKA,EAAL,YAAmBtB,SAAS6I,CAA5B,GAAgC,KAAKvH,EAAL,CAAQ,CAAR,CAAhC,GAA6C,KAAKA,EAA5D;;QAEI,CAAC,KAAKA,EAAV,EAAc;YACN,IAAI0D,eAAJ,CAAoB;cAClB,WADkB;iBAEf;OAFL,CAAN;;;SAMG8H,GAAL,GAAW,KAAKC,KAAL,CAAW,KAAKzL,EAAhB,CAAX;qBACiB+B,IAAjB,CAAsB,IAAtB,EAA4BzB,OAA5B;GA3BmC;;;;;;MAAA,gBAiChC8B,IAjCgC,EAiC1B9B,OAjC0B,EAiCjB;QACd,CAAC,KAAKgQ,cAAL,CAAoBhQ,OAApB,CAAL,EAAmC;;;;WAI5B,KAAKiQ,QAAL,CAAcnO,IAAd,EAAoB9B,OAApB,CAAP;;QAEI8B,SAAS,KAAKoO,WAAlB,EAA+B;aAAS,IAAP;;;SAE5BC,eAAL,GAAuB,CAAC,CAAC,KAAKD,WAA9B;;SAEK3O,aAAL,CAAmB,aAAnB,EAAkC,IAAlC,EAAwCO,IAAxC,EAA8C9B,OAA9C;;;QAGI,CAAC8B,KAAKK,WAAV,EAAuB;WAChBiO,KAAL,CAAWpQ,OAAX;;;SAGGqQ,eAAL,CAAqBvO,IAArB;;SAEKoO,WAAL,GAAmBpO,IAAnB;;eAEWA,IAAX;;SAEKwO,WAAL,CAAiBxO,IAAjB,EAAuB9B,OAAvB;;SAEKuB,aAAL,CAAmB,MAAnB,EAA2B,IAA3B,EAAiCO,IAAjC,EAAuC9B,OAAvC;;SAEKmQ,eAAL,GAAuB,KAAvB;;WAEO,IAAP;GA/DmC;iBAAA,2BAkErBrO,IAlEqB,EAkEf;sBACFA,IAAlB;;SAEKyO,qBAAL,CAA2BzO,IAA3B;;;;;SAKKoB,EAAL,CAAQ,SAAR,EAAmB,KAAKsN,MAAxB,EAAgC,IAAhC;GA1EmC;uBAAA,iCA6Ef1O,IA7Ee,EA6ET;QACpB2O,aAAa,KAAKC,WAAxB;;QAEI,CAACD,UAAL,EAAiB;;;;eAENF,qBAAX,CAAiCzO,IAAjC;GAlFmC;;;;0BAAA,sCAsFV;WAClB,KAAK4O,WAAL,IAAoB,KAAKA,WAAL,CAAiB1N,iBAAjB,KAAuC,KAAlE;GAvFmC;aAAA,uBA0FzBlB,IA1FyB,EA0FL;QAAd9B,OAAc,uEAAJ,EAAI;;QACxBkC,sBAAsB,CAACJ,KAAKK,WAAN,IAAqB1C,eAAe,KAAKC,EAApB,CAArB,IAAgD,CAAC,KAAKiR,wBAAL,EAA7E;QACMC,kBAAkB,OAAO5Q,QAAQ6Q,cAAf,KAAkC,WAAlC,GAAgD,CAAC,CAACpS,EAAEiD,MAAF,CAAS,IAAT,EAAe,gBAAf,CAAlD,GAAqF,CAAC,CAAC1B,QAAQ6Q,cAAvH;;QAEI3O,mBAAJ,EAAyB;sBACPJ,IAAhB,EAAsB,eAAtB,EAAuCA,IAAvC;;;QAGE8O,eAAJ,EAAqB;WACdE,UAAL,CAAgBhP,IAAhB;KADF,MAEO;WACAiP,UAAL,CAAgBjP,IAAhB;;;QAGEI,mBAAJ,EAAyB;WAClBC,WAAL,GAAmB,IAAnB;sBACgBL,IAAhB,EAAsB,QAAtB,EAAgCA,IAAhC;;GA1GiC;gBAAA,4BA8GR;QAAd9B,OAAc,uEAAJ,EAAI;;QACvB,CAACvB,EAAEC,QAAF,CAAW,KAAKgB,EAAhB,CAAL,EAA0B;WACnBwL,GAAL,GAAW,KAAKC,KAAL,CAAW,KAAKzL,EAAhB,CAAX;WACKA,EAAL,GAAU,KAAKwL,GAAL,CAAS,CAAT,CAAV;;;QAGE,CAAC,KAAKA,GAAN,IAAa,KAAKA,GAAL,CAASvE,MAAT,KAAoB,CAArC,EAAwC;UAChCqK,iBAAiB,OAAOhR,QAAQgR,cAAf,KAAkC,WAAlC,GAAgD,CAAC,CAACvS,EAAEiD,MAAF,CAAS,IAAT,EAAe,gBAAf,CAAlD,GAAqF,CAAC,CAAC1B,QAAQgR,cAAtH;;UAEIA,cAAJ,EAAoB;eACX,KAAP;OADF,MAEO;cACC,IAAI5N,eAAJ,gDAAiE,KAAK6C,GAAtE,CAAN;;;WAGG,IAAP;GA7HmC;UAAA,oBAgI5BnE,IAhI4B,EAgItB;QACT,CAACA,IAAL,EAAW;YACH,IAAIsB,eAAJ,CAAoB;cAClB,cADkB;iBAEf;OAFL,CAAN;;;QAMEtB,KAAKkE,YAAT,EAAuB;YACf,IAAI5C,eAAJ,CAAoB;cAClB,oBADkB;kCAEAtB,KAAKmE,GAA7B;OAFI,CAAN;;;QAMEnE,gBAAgB1D,SAASmP,IAA7B,EAAmC;aAC1BzL,IAAP;;;QAGImP,cAAc,KAAKC,eAAL,CAAqBpP,IAArB,CAApB;;WAEO,IAAIyL,IAAJ,CAAS0D,WAAT,CAAP;GArJmC;;;;;iBAAA,2BA0JrBA,WA1JqB,EA0JR;QACvBxS,EAAEmC,UAAF,CAAaqQ,WAAb,CAAJ,EAA+B;aACtB,EAAEpK,UAAUoK,WAAZ,EAAP;;;QAGExS,EAAEC,QAAF,CAAWuS,WAAX,CAAJ,EAA6B;aACpBA,WAAP;;;QAGIpK,WAAW,SAAXA,QAAW,GAAW;aAASoK,WAAP;KAA9B;;WAEO,EAAEpK,kBAAF,EAAP;GArKmC;;;;;OAAA,iBA0K/BnH,EA1K+B,EA0K3B;QACF1B,UAAUS,EAAEiD,MAAF,CAAS,IAAT,EAAe,UAAf,CAAhB;;QAEI1D,WAAWS,EAAE4F,QAAF,CAAW3E,EAAX,CAAf,EAA+B;UACvBwL,MAAM,KAAKI,GAAL,CAAS6F,MAAT,CAAgBnT,OAAhB,EAAyB0B,EAAzB,CAAZ;UACIwL,IAAIvE,MAAR,EAAgB;eAASuE,GAAP;;;;WAGb,KAAKI,GAAL,CAASH,KAAT,CAAezL,EAAf,CAAP;GAlLmC;YAAA,sBAqL1BoC,IArL0B,EAqLpB;;SAEVsP,UAAL;;SAEKlO,EAAL,CAAQ,gBAAR,EAA0B,KAAKkO,UAA/B,EAA2C,IAA3C;;SAEK9F,GAAL,CAAS+F,SAAT,CAAmBvP,KAAKpC,EAAxB,EAA4B,KAAKA,EAAjC;;SAEK4R,WAAL,GAAmB,IAAnB;GA7LmC;;;;YAAA,wBAiMxB;;QAEP,CAAC,KAAKA,WAAV,EAAuB;;;;QAIjBxP,OAAO,KAAKoO,WAAlB;;QAEI,CAACpO,IAAL,EAAW;;;;SAINyP,WAAL,CAAiBzP,IAAjB;;SAEKwP,WAAL,GAAmB,KAAnB;GA/MmC;;;;YAAA,wBAmNxB;WACJ,CAAC,CAAC,KAAKA,WAAd;GApNmC;;;;gBAAA,4BAwNpB;WACR,CAAC,CAAC,KAAKnB,eAAd;GAzNmC;;;;;YAAA,sBA8N1BrO,IA9N0B,EA8NpB;SACVwJ,GAAL,CAASkG,cAAT,CAAwB,KAAK9R,EAA7B,EAAiCoC,KAAKpC,EAAtC,EAA0C,EAAC8L,MAAM,KAAKN,GAAZ,EAAiBuB,YAAY3K,KAAKoJ,GAAlC,EAA1C;GA/NmC;;;;;OAAA,mBAoOK;QAApClL,OAAoC,uEAA1B,EAAEgR,gBAAgB,IAAlB,EAA0B;;QAClClP,OAAO,KAAKoO,WAAlB;;;QAGI,CAACpO,IAAL,EAAW;UACL,KAAKkO,cAAL,CAAoBhQ,OAApB,CAAJ,EAAkC;aAC3ByR,UAAL;;aAEK,IAAP;;;QAGIC,gBAAgB,CAAC1R,QAAQ2R,cAA/B;;QAEI,CAACD,aAAL,EAAoB;gBACR,gEAAV;;;SAGGlB,MAAL,CAAY1O,IAAZ,EAAkB4P,aAAlB;WACO,IAAP;GAtPmC;QAAA,kBAyP9B5P,IAzP8B,EAyPxB4P,aAzPwB,EAyPT;SACrBxD,GAAL,CAAS,SAAT,EAAoB,KAAKsC,MAAzB,EAAiC,IAAjC;SACKjP,aAAL,CAAmB,cAAnB,EAAmC,IAAnC,EAAyCO,IAAzC;;SAEKsP,UAAL;;WAEO,KAAKlB,WAAZ;;QAEI,CAACpO,KAAKkE,YAAV,EAAwB;UAClB0L,aAAJ,EAAmB;aACZE,UAAL,CAAgB9P,IAAhB;OADF,MAEO;aACAyP,WAAL,CAAiBzP,IAAjB;;WAEG+P,oBAAL,CAA0B/P,IAA1B;;;SAGGP,aAAL,CAAmB,OAAnB,EAA4B,IAA5B,EAAkCO,IAAlC;GA1QmC;sBAAA,gCA6QhBA,IA7QgB,EA6QV;QACnB2O,aAAa,KAAKC,WAAxB;;QAEI,CAACD,UAAL,EAAiB;;;;SAEZC,WAAL,CAAiBtK,aAAjB,CAA+BtE,IAA/B;GAlRmC;aAAA,0BAqRzBA,IArRyB,EAqRnB;QACZA,KAAKkE,YAAT,EAAuB;aACdlE,IAAP;;;SAGG+L,oBAAL,GAA4B,KAAK8C,wBAAL,EAA5B;gBACY7O,IAAZ;WACOA,IAAP;GA5RmC;YAAA,sBA+R1BA,IA/R0B,EA+RpB;SACV4N,WAAL,CAAiB5N,IAAjB;GAhSmC;;;;;YAAA,wBAqSxB;QACLA,OAAO,KAAKoO,WAAlB;;QAEI,CAACpO,IAAL,EAAW;;;;SAIN0O,MAAL,CAAY1O,IAAZ;;WAEOA,IAAP;GA9SmC;aAAA,uBAiTzBA,IAjTyB,EAiTnB;QACVO,sBAAsBP,KAAKK,WAAL,IAAoB,CAAC,KAAKwO,wBAAL,EAAjD;QACMmB,kBAAkB,KAAKR,WAA7B;QACIjP,mBAAJ,EAAyB;sBACPP,IAAhB,EAAsB,eAAtB,EAAuCA,IAAvC;;;QAGEgQ,eAAJ,EAAqB;WACdxG,GAAL,CAAS+F,SAAT,CAAmB,KAAK3R,EAAxB,EAA4BoC,KAAKpC,EAAjC;KADF,MAEO;WACA+R,UAAL;;;QAGEpP,mBAAJ,EAAyB;WAClBF,WAAL,GAAmB,KAAnB;sBACgBL,IAAhB,EAAsB,QAAtB,EAAgCA,IAAhC;;GAhUiC;;;;YAAA,wBAqUxB;SACNwJ,GAAL,CAASyG,cAAT,CAAwB,KAAKrS,EAA7B,EAAiC,KAAKwL,GAAtC;GAtUmC;;;;;SAAA,qBA2U3B;WACD,CAAC,CAAC,KAAKgF,WAAd;GA5UmC;;;;;;OAAA,iBAkV/BlQ,OAlV+B,EAkVtB;SACRoQ,KAAL,CAAWpQ,OAAX;;QAEI,KAAKkL,GAAT,EAAc;WACPxL,EAAL,GAAU,KAAKqQ,OAAf;;;WAGK,KAAK7E,GAAZ;WACO,IAAP;GA1VmC;SAAA,mBA6V7BlL,OA7V6B,EA6VpB;QACX,KAAKgG,YAAT,EAAuB;aAAS,IAAP;;;SAEpBgM,KAAL,CAAWhS,OAAX;;QAEI,KAAKiS,KAAT,EAAgB;WACTvB,WAAL,CAAiBwB,iBAAjB,CAAmC,KAAKD,KAAxC;;WAEK,KAAKvB,WAAZ;WACO,KAAKuB,KAAZ;;WAEO3M,iBAAiBM,SAAjB,CAA2B+J,OAA3B,CAAmCzR,KAAnC,CAAyC,IAAzC,EAA+CsB,SAA/C,CAAP;;CAxWW,EA0WZ;;CA1WY,CAAf;;AChBA;AACA,kBAAe,UAAS2S,UAAT,EAAqBC,QAArB,EAA+B;MACxCD,sBAAsBrC,MAA1B,EAAkC;WACzBqC,UAAP;;;SAGKE,0BAA0BF,UAA1B,EAAsCC,QAAtC,CAAP;;;AAGF,SAASC,yBAAT,CAAmCF,UAAnC,EAA+CC,QAA/C,EAAyD;MACjDE,OAAO7T,EAAEN,MAAF,CAAS,EAAT,EAAaiU,QAAb,CAAb;;MAEI3T,EAAE4F,QAAF,CAAW8N,UAAX,CAAJ,EAA4B;MACxBhU,MAAF,CAASmU,IAAT,EAAe,EAAE5S,IAAIyS,UAAN,EAAf;;WAEOI,sBAAsBD,IAAtB,CAAP;;;MAGE7T,EAAEmC,UAAF,CAAauR,UAAb,CAAJ,EAA8B;MAC1BhU,MAAF,CAASmU,IAAT,EAAe,EAAEE,aAAaL,UAAf,EAAf;;WAEOI,sBAAsBD,IAAtB,CAAP;;;MAGE7T,EAAEC,QAAF,CAAWyT,UAAX,CAAJ,EAA4B;QACtBA,WAAW9I,QAAf,EAAyB;gBACb,mGAAV;;;MAGAlL,MAAF,CAASmU,IAAT,EAAe,EAAE5S,IAAIyS,WAAW9I,QAAjB,EAAf,EAA4C8I,UAA5C;;WAEOI,sBAAsBD,IAAtB,CAAP;;;QAGI,IAAIlP,eAAJ,CAAoB;aACf,qCADe;SAEnB;GAFD,CAAN;;;AAMF,SAASmP,qBAAT,CAA+BJ,UAA/B,EAA2C;MACnCM,cAAcN,WAAWK,WAA/B;;MAEMxS,UAAUvB,EAAEiU,IAAF,CAAOP,UAAP,EAAmB,aAAnB,CAAhB;;SAEO,IAAIM,WAAJ,CAAgBzS,OAAhB,CAAP;;;AC7CF;;;;AAIA,mBAAe;eACA8P,MADA;;;;cAAA,0BAKE;;;SAGR6C,OAAL,GAAe,KAAKA,OAAL,IAAgB,EAA/B;SACKC,QAAL,GAAgB,EAAhB;;SAEKC,UAAL,CAAgBpU,EAAEiD,MAAF,CAAS,IAAT,EAAe,SAAf,CAAhB;GAXW;;;;;gBAAA,4BAgBI;YACP,KAAKkR,QAAb,EAAuB,OAAvB;GAjBW;;;;WAAA,qBAqBHjS,IArBG,EAqBGwR,UArBH,EAqBe;QACpBQ,UAAU,EAAhB;YACQhS,IAAR,IAAgBwR,UAAhB;WACO,KAAKU,UAAL,CAAgBF,OAAhB,EAAyBhS,IAAzB,CAAP;GAxBW;;;;YAAA,sBA4BFgS,OA5BE,EA4BO;;QAEdlU,EAAEqU,OAAF,CAAUH,OAAV,CAAJ,EAAwB;;;;;;cAMd,KAAKlI,iBAAL,CAAuBkI,OAAvB,EAAgC,CAAC,UAAD,EAAa,IAAb,CAAhC,CAAV;;;SAGKA,OAAL,GAAelU,EAAEN,MAAF,CAAS,EAAT,EAAa,KAAKwU,OAAlB,EAA2BA,OAA3B,CAAf;;WAEO,KAAKI,WAAL,CAAiBJ,OAAjB,CAAP;GAzCW;;;;aAAA,uBA6CDK,iBA7CC,EA6CkB;;;QACvBZ,WAAW;mBACF,KAAKI,WADH;gBAEL/T,EAAEwU,OAAF,CAAUxU,EAAEiD,MAAZ,EAAoB,IAApB,EAA0B,IAA1B;KAFZ;;WAKOjD,EAAEgC,MAAF,CAASuS,iBAAT,EAA4B,UAACL,OAAD,EAAUR,UAAV,EAAsBxR,IAAtB,EAA+B;cACxDA,IAAR,IAAgBuS,YAAYf,UAAZ,EAAwBC,QAAxB,CAAhB;YACKe,UAAL,CAAgBR,QAAQhS,IAAR,CAAhB,EAA+BA,IAA/B;aACOgS,OAAP;KAHK,EAIJ,EAJI,CAAP;GAnDW;YAAA,sBA0DFS,MA1DE,EA0DMzS,IA1DN,EA0DY;SAClBY,aAAL,CAAmB,mBAAnB,EAAwC,IAAxC,EAA8CZ,IAA9C,EAAoDyS,MAApD;;WAEO1C,WAAP,GAAqB,IAArB;WACOuB,KAAP,GAAetR,IAAf;;SAEKiS,QAAL,CAAcjS,IAAd,IAAsByS,MAAtB;;SAEK7R,aAAL,CAAmB,YAAnB,EAAiC,IAAjC,EAAuCZ,IAAvC,EAA6CyS,MAA7C;GAlEW;;;;cAAA,wBAsEAzS,IAtEA,EAsEM;QACXyS,SAAS,KAAKR,QAAL,CAAcjS,IAAd,CAAf;;SAEK0S,aAAL,CAAmBD,MAAnB,EAA2BzS,IAA3B;;WAEOyS,MAAP;GA3EW;;;;eAAA,2BA+EG;QACRT,UAAU,KAAKW,WAAL,EAAhB;;MAEEpT,IAAF,CAAO,KAAK0S,QAAZ,EAAsBnU,EAAE8U,IAAF,CAAO,KAAKF,aAAZ,EAA2B,IAA3B,CAAtB;;WAEOV,OAAP;GApFW;eAAA,yBAuFCS,MAvFD,EAuFSzS,IAvFT,EAuFe;SACrBY,aAAL,CAAmB,sBAAnB,EAA2C,IAA3C,EAAiDZ,IAAjD,EAAuDyS,MAAvD;;WAEOzD,OAAP;;SAEKpO,aAAL,CAAmB,eAAnB,EAAoC,IAApC,EAA0CZ,IAA1C,EAAgDyS,MAAhD;GA5FW;;;;mBAAA,6BAgGKzS,IAhGL,EAgGW;WACf,KAAKgS,OAAL,CAAahS,IAAb,CAAP;WACO,KAAKiS,QAAL,CAAcjS,IAAd,CAAP;GAlGW;;;;;cAAA,0BAuGE;QACPgS,UAAU,KAAKa,UAAL,EAAhB;YACQb,OAAR,EAAiB,OAAjB;WACOA,OAAP;GA1GW;;;;;;WAAA,qBAgHHhS,IAhHG,EAgHG;WACP,CAAC,CAAC,KAAK8S,SAAL,CAAe9S,IAAf,CAAT;GAjHW;;;;;;WAAA,qBAuHHA,IAvHG,EAuHG;QACV,CAAC,KAAK6B,WAAV,EAAuB;WAChBiN,MAAL;;WAEK,KAAKmD,QAAL,CAAcjS,IAAd,CAAP;GA3HW;;;;aAAA,yBA+HC;WACLlC,EAAEiV,KAAF,CAAQ,KAAKd,QAAb,CAAP;GAhIW;YAAA,wBAmIA;QACP,CAAC,KAAKpQ,WAAV,EAAuB;WAChBiN,MAAL;;WAEK,KAAK6D,WAAL,EAAP;GAvIW;eAAA,yBA0IC3S,IA1ID,EA0IOmB,IA1IP,EA0IsB;QAC3BsR,SAAS,KAAKK,SAAL,CAAe9S,IAAf,CAAf;;sCAD2B1C,IAAM;UAAA;;;WAE1BmV,OAAOO,IAAP,gBAAY7R,IAAZ,SAAqB7D,IAArB,EAAP;GA5IW;iBAAA,2BA+IG0C,IA/IH,EA+IS;WACb,KAAK8S,SAAL,CAAe9S,IAAf,EAAqBiT,UAArB,EAAP;GAhJW;cAAA,wBAmJAjT,IAnJA,EAmJM;WACV,KAAK8S,SAAL,CAAe9S,IAAf,EAAqBuP,WAA5B;;CApJJ;;ACTA;;;AAGA,AAIA;;AAEA,IAAM2D,WAAW;;;;;;QAAA,kBAMRhN,QANQ,EAMEiN,IANF,EAMQ;QACjB,CAACjN,QAAL,EAAe;YACP,IAAIzD,eAAJ,CAAoB;cAClB,uBADkB;iBAEf;OAFL,CAAN;;;QAMI2Q,eAAetV,EAAEmC,UAAF,CAAaiG,QAAb,IAAyBA,QAAzB,GAAoCR,cAAc2N,GAAd,CAAkBnN,QAAlB,CAAzD;;WAEOkN,aAAaD,IAAb,CAAP;;CAhBJ;;ACTA;;;AAGA,AAUA,IAAMzO,iBAAe,CACnB,WADmB,EAEnB,sBAFmB,EAGnB,iBAHmB,EAInB,mBAJmB,EAKnB,kBALmB,EAMnB,QANmB,EAOnB,aAPmB,EAQnB,aARmB,EASnB,SATmB,EAUnB,UAVmB,EAWnB,iBAXmB,EAYnB,UAZmB,EAanB,IAbmB,CAArB;;;;AAkBA,IAAMkI,OAAOnP,SAASmP,IAAT,CAAcpP,MAAd,CAAqB;aAAA,uBAEpB6B,OAFoB,EAEX;SACdyP,MAAL,GAAchR,EAAE8U,IAAF,CAAO,KAAK9D,MAAZ,EAAoB,IAApB,CAAd;;SAEKjK,WAAL,CAAiBxF,OAAjB;;SAEKD,YAAL,CAAkBC,OAAlB,EAA2BqF,cAA3B;;sBAEkB,IAAlB;;SAEK4O,cAAL;SACKC,YAAL;;QAEMjW,OAAOkW,MAAMvO,SAAN,CAAgB4E,KAAhB,CAAsB/I,IAAtB,CAA2BjC,SAA3B,CAAb;SACK,CAAL,IAAU,KAAKQ,OAAf;aACSuN,IAAT,CAAc3H,SAAd,CAAwBwO,WAAxB,CAAoClW,KAApC,CAA0C,IAA1C,EAAgDD,IAAhD;;SAEKoW,oBAAL;;SAEK1F,wBAAL,CAA8B,YAA9B,EAA4C,IAA5C;GApB8B;;;;;eAAA,2BAyBhB;QACV,CAAC,KAAK7F,KAAN,IAAe,CAAC,KAAKC,UAAzB,EAAqC;aAC5B,EAAP;;;;QAIE,KAAKD,KAAT,EAAgB;aACP,KAAKwL,cAAL,EAAP;;;;;WAKK;aACE,KAAKC,mBAAL;KADT;GArC8B;;;;;;;gBAAA,4BA8Cf;QACX,CAAC,KAAKzL,KAAV,EAAiB;aAAS,EAAP;;WACZrK,EAAEiV,KAAF,CAAQ,KAAK5K,KAAL,CAAW0L,UAAnB,CAAP;GAhD8B;;;;;qBAAA,iCAqDV;QAChB,CAAC,KAAKzL,UAAV,EAAsB;aAAS,EAAP;;WACjB,KAAKA,UAAL,CAAgBlB,GAAhB,CAAoB,UAASiB,KAAT,EAAgB;aAASrK,EAAEiV,KAAF,CAAQ5K,MAAM0L,UAAd,CAAP;KAAtC,CAAP;GAvD8B;;;;;;YAAA,wBA6DnB;QACLC,QAAQ,CAAC,CAAC,KAAK/U,EAArB;;aAES6N,IAAT,CAAc3H,SAAd,CAAwB8O,UAAxB,CAAmCxW,KAAnC,CAAyC,IAAzC,EAA+CsB,SAA/C;;QAEIiV,KAAJ,EAAW;WACJjS,WAAL,GAAmB,KAAK8I,GAAL,CAASqJ,WAAT,CAAqB,KAAKjV,EAA1B,CAAnB;WACKyC,WAAL,GAAmB1C,eAAe,KAAKC,EAApB,CAAnB;;;QAGE,KAAK8C,WAAT,EAAsB;WACfoS,cAAL;;;WAGK,IAAP;GA3E8B;;;;;;;;;;QAAA,oBAqFvB;QACH,KAAK5O,YAAT,EAAuB;aAAS,IAAP;;;SAEpBzE,aAAL,CAAmB,eAAnB,EAAoC,IAApC;;;;QAII,KAAKiB,WAAT,EAAsB;WACfqS,cAAL;;;SAGGC,eAAL;SACKF,cAAL;;SAEKpS,WAAL,GAAmB,IAAnB;SACKjB,aAAL,CAAmB,QAAnB,EAA6B,IAA7B;;WAEO,IAAP;GAtG8B;;;;;iBAAA,6BA2Gd;QACVsF,WAAW,KAAKkO,WAAL,EAAjB;;;QAGIlO,aAAa,KAAjB,EAAwB;gBACZ,4CAAV;;;;;QAKIiN,OAAO,KAAKkB,oBAAL,CAA0B,KAAKC,aAAL,EAA1B,CAAb;;;QAGM/N,OAAO,KAAKgO,WAAL,CAAiBrO,QAAjB,EAA2BiN,IAA3B,CAAb;SACKqB,eAAL,CAAqBjO,IAArB;GAzH8B;;;;aAAA,uBA6HpBL,QA7HoB,EA6HViN,IA7HU,EA6HJ;WACnBD,SAASpE,MAAT,CAAgB5I,QAAhB,EAA0BiN,IAA1B,EAAgC,IAAhC,CAAP;GA9H8B;;;;;;;aAAA,yBAqIlB;WACL,KAAKjN,QAAZ;GAtI8B;;;;;;;;sBAAA,kCA8IE;QAAbjD,MAAa,uEAAJ,EAAI;;QAC1BwR,kBAAkB3W,EAAEiD,MAAF,CAAS,IAAT,EAAe,iBAAf,CAAxB;WACOjD,EAAEN,MAAF,CAASyF,MAAT,EAAiBwR,eAAjB,CAAP;GAhJ8B;;;;;;;;;;;;;;;iBAAA,2BA+JhBlO,IA/JgB,EA+JV;SACfoE,GAAL,CAAS+J,WAAT,CAAqB,KAAK3V,EAA1B,EAA8BwH,IAA9B,EAAoC,KAAKgE,GAAzC;;WAEO,IAAP;GAlK8B;;;;iBAAA,6BAsKd;SACXoK,aAAL;GAvK8B;uBAAA,mCA0KR;WACf7W,EAAEmJ,KAAF,CAAQ,KAAK0L,WAAL,EAAR,EACJzL,GADI,CACA,aADA,EAEJ0N,OAFI,GAGJnN,KAHI,EAAP;;CA3KS,EAgLV;;aAAA,uBAEWoN,QAFX,EAEqB;SACf5P,SAAL,CAAesP,WAAf,GAA6BM,QAA7B;GAHD;;;;CAhLU,CAAb;;AAyLA/W,EAAEN,MAAF,CAASoP,KAAK3H,SAAd,EAAyBgH,SAAzB,EAAoC6I,YAApC;;ACxNA;;;;;AAKA,AAEA,IAAM1R,UAAU,CAAC,SAAD,EAAY,MAAZ,EAAoB,KAApB,EAA2B,MAA3B,EAAmC,QAAnC,EAA6C,QAA7C,EACA,QADA,EACU,QADV,EACoB,OADpB,EAC6B,KAD7B,EACoC,MADpC,EAC4C,KAD5C,EACmD,SADnD,EAEA,UAFA,EAEY,QAFZ,EAEsB,SAFtB,EAEiC,OAFjC,EAE0C,SAF1C,EAEqD,MAFrD,EAGA,MAHA,EAGQ,SAHR,EAGmB,SAHnB,EAG8B,OAH9B,EAGuC,QAHvC,EAGiD,WAHjD,CAAhB;;AAKA,IAAM2R,oBAAoB,SAApBA,iBAAoB,CAASC,MAAT,EAAiBC,YAAjB,EAA+B;IACrD1V,IAAF,CAAO6D,OAAP,EAAgB,UAAShG,MAAT,EAAiB;WACxBA,MAAP,IAAiB,YAAW;UACpB8X,OAAOpX,EAAEiD,MAAF,CAAS,IAAT,EAAekU,YAAf,CAAb;UACM3X,OAAOkW,MAAMvO,SAAN,CAAgB4E,KAAhB,CAAsB/I,IAAtB,CAA2BjC,SAA3B,CAAb;aACOf,EAAEV,MAAF,EAAUG,KAAV,CAAgBO,CAAhB,EAAmB,CAACoX,IAAD,EAAO3N,MAAP,CAAcjK,IAAd,CAAnB,CAAP;KAHF;GADF;CADF;;ACTA;;AAEA,IAAM6X,YAAY,SAAZA,SAAY,CAASC,KAAT,EAAgB;OAC3BC,MAAL,GAAc,EAAd;OACKC,aAAL,GAAqB,EAArB;OACKC,cAAL,GAAsB,EAAtB;OACKC,aAAL;;IAEEjW,IAAF,CAAO6V,KAAP,EAActX,EAAE8U,IAAF,CAAO,KAAK6C,GAAZ,EAAiB,IAAjB,CAAd;CANF;;AASAV,kBAAkBI,UAAUlQ,SAA5B,EAAuC,WAAvC;;;;;AAKAnH,EAAEN,MAAF,CAAS2X,UAAUlQ,SAAnB,EAA8B;WAAA,uBAEhB;WACHnH,EAAE4X,MAAF,CAAS,KAAKL,MAAd,CAAP;GAH0B;;;;;;;KAAA,eAUxBlU,IAVwB,EAUlBwU,WAVkB,EAUL;WACd,KAAKC,IAAL,CAAUzU,IAAV,EAAgBwU,WAAhB,EAA6BH,aAA7B,EAAP;GAX0B;;;;;;MAAA,gBAiBvBrU,IAjBuB,EAiBjBwU,WAjBiB,EAiBJ;QAChBE,UAAU1U,KAAKmE,GAArB;;;SAGK+P,MAAL,CAAYQ,OAAZ,IAAuB1U,IAAvB;;;QAGIA,KAAKgH,KAAT,EAAgB;WACTmN,aAAL,CAAmBnU,KAAKgH,KAAL,CAAW7C,GAA9B,IAAqCuQ,OAArC;;;;QAIEF,WAAJ,EAAiB;WACVJ,cAAL,CAAoBI,WAApB,IAAmCE,OAAnC;;;WAGK,IAAP;GAjC0B;;;;;aAAA,uBAsChB1N,KAtCgB,EAsCT;WACV,KAAK2N,cAAL,CAAoB3N,MAAM7C,GAA1B,CAAP;GAvC0B;;;;;;gBAAA,0BA6CbyQ,QA7Ca,EA6CH;QACjBF,UAAU,KAAKP,aAAL,CAAmBS,QAAnB,CAAhB;WACO,KAAKC,SAAL,CAAeH,OAAf,CAAP;GA/C0B;;;;cAAA,wBAmDfI,KAnDe,EAmDR;QACZJ,UAAU,KAAKN,cAAL,CAAoBU,KAApB,CAAhB;WACO,KAAKD,SAAL,CAAeH,OAAf,CAAP;GArD0B;;;;;aAAA,uBA0DhBI,KA1DgB,EA0DT;WACVnY,EAAE4X,MAAF,CAAS,KAAKL,MAAd,EAAsBY,KAAtB,CAAP;GA3D0B;;;;WAAA,qBA+DlB3Q,GA/DkB,EA+Db;WACN,KAAK+P,MAAL,CAAY/P,GAAZ,CAAP;GAhE0B;;;;QAAA,kBAoErBnE,IApEqB,EAoEf;WACJ,KAAK+U,OAAL,CAAa/U,IAAb,EAAmBqU,aAAnB,EAAP;GArE0B;;;;;;SAAA,mBA2EpBrU,IA3EoB,EA2Ed;QACN0U,UAAU1U,KAAKmE,GAArB;;;QAGInE,KAAKgH,KAAT,EAAgB;aACP,KAAKmN,aAAL,CAAmBnU,KAAKgH,KAAL,CAAW7C,GAA9B,CAAP;;;;MAIA6Q,IAAF,CAAO,KAAKZ,cAAZ,EAA4BzX,EAAE8U,IAAF,CAAO,UAAStN,GAAT,EAAc9F,GAAd,EAAmB;UAChD8F,QAAQuQ,OAAZ,EAAqB;eACZ,KAAKN,cAAL,CAAoB/V,GAApB,CAAP;eACO,IAAP;;KAHwB,EAKzB,IALyB,CAA5B;;;WAQO,KAAK6V,MAAL,CAAYQ,OAAZ,CAAP;;WAEO,IAAP;GA9F0B;;;;eAAA,2BAkGZ;SACT7P,MAAL,GAAclI,EAAEsY,IAAF,CAAO,KAAKf,MAAZ,CAAd;;WAEO,IAAP;;CArGJ;;ACnBA;;;AAGA,AAWA,IAAM3Q,iBAAe,CACnB,WADmB,EAEnB,WAFmB,EAGnB,sBAHmB,EAInB,iBAJmB,EAKnB,kBALmB,EAMnB,mBANmB,EAOnB,kBAPmB,EAQnB,QARmB,EASnB,QATmB,EAUnB,WAVmB,EAWnB,kBAXmB,EAYnB,aAZmB,EAanB,eAbmB,EAcnB,MAdmB,EAenB,UAfmB,EAgBnB,IAhBmB,EAiBnB,gBAjBmB,CAArB;;;;AAsBA,IAAM2R,iBAAiB5Y,SAASmP,IAAT,CAAcpP,MAAd,CAAqB;;;QAGpC,IAHoC;;;;;;;;;aAAA,uBAY9B6B,OAZ8B,EAYrB;SACdyP,MAAL,GAAchR,EAAE8U,IAAF,CAAO,KAAK9D,MAAZ,EAAoB,IAApB,CAAd;;SAEKjK,WAAL,CAAiBxF,OAAjB;;SAEKD,YAAL,CAAkBC,OAAlB,EAA2BqF,cAA3B;;sBAEkB,IAAlB;;SAEK4O,cAAL;SACKgD,IAAL,CAAU,QAAV,EAAoB,KAAKC,cAAzB;SACKC,qBAAL;SACKC,iBAAL,GAAyB,EAAzB;;QAEMnZ,OAAOkW,MAAMvO,SAAN,CAAgB4E,KAAhB,CAAsB/I,IAAtB,CAA2BjC,SAA3B,CAAb;SACK,CAAL,IAAU,KAAKQ,OAAf;aACSuN,IAAT,CAAc3H,SAAd,CAAwBwO,WAAxB,CAAoClW,KAApC,CAA0C,IAA1C,EAAgDD,IAAhD;;SAEKoW,oBAAL;;SAEK1F,wBAAL,CAA8B,YAA9B,EAA4C,IAA5C;GAhCwC;;;;;iBAAA,6BAqCxB;SACX0I,YAAL,GAAoB,IAApB;GAtCwC;eAAA,2BAyC1B;QACRnV,sBAAsB,KAAKC,WAAL,IAAoB,KAAKa,iBAAL,KAA2B,KAA3E;QACMsU,oBAAoBpV,sBAAsB,KAAKF,qBAAL,EAAtB,GAAqD,EAA/E;;SAEKqV,YAAL,GAAoB,KAApB;;MAEEnX,IAAF,CAAOoX,iBAAP,EAA0B,iBAAS;sBACjBrV,KAAhB,EAAuB,eAAvB,EAAwCA,KAAxC;KADF;;SAIKsV,YAAL,CAAkB,IAAlB,EAAwB,KAAKC,aAAL,EAAxB;;MAEEtX,IAAF,CAAOoX,iBAAP,EAA0B,iBAAS;YAC3BnV,WAAN,GAAoB,IAApB;sBACgBF,KAAhB,EAAuB,QAAvB,EAAiCA,KAAjC;KAFF;;SAKKmV,iBAAL,GAAyB,EAAzB;GA1DwC;uBAAA,mCA6DlB;WACf3Y,EAAE4X,MAAF,CAAS,KAAKoB,QAAL,CAAczB,MAAvB,CAAP;GA9DwC;;;;gBAAA,4BAkEzB;QACX,KAAKjN,UAAT,EAAqB;WACd+F,QAAL,CAAc,KAAK/F,UAAnB,EAA+B,KAA/B,EAAsC,KAAK2O,gBAA3C;WACK5I,QAAL,CAAc,KAAK/F,UAAnB,EAA+B,QAA/B,EAAyC,KAAK4O,mBAA9C;WACK7I,QAAL,CAAc,KAAK/F,UAAnB,EAA+B,OAA/B,EAAwC,KAAK0G,MAA7C;;UAEI,KAAKmI,IAAT,EAAe;aACR9I,QAAL,CAAc,KAAK/F,UAAnB,EAA+B,MAA/B,EAAuC,KAAK8O,UAA5C;;;GAzEoC;;;;kBAAA,4BA+EzB5V,KA/EyB,EA+ElB8G,UA/EkB,EA+ENuJ,IA/EM,EA+EA;;QAEpCsE,QAAQtE,KAAKwF,EAAL,KAAY9Y,SAAZ,KAA0BsT,KAAKsE,KAAL,IAAc7N,WAAWgP,OAAX,CAAmB9V,KAAnB,CAAxC,CAAZ;;;QAGI,KAAK+V,MAAL,IAAepB,UAAU,KAA7B,EAAoC;cAC1BnY,EAAEsZ,OAAF,CAAU,KAAKE,qBAAL,CAA2BrB,KAA3B,CAAV,EAA6C3U,KAA7C,CAAR;;;QAGE,KAAKiW,eAAL,CAAqBjW,KAArB,EAA4B2U,KAA5B,CAAJ,EAAwC;WACjCuB,iBAAL;WACKC,SAAL,CAAenW,KAAf,EAAsB2U,KAAtB;;GA1FsC;;;;qBAAA,+BA+FtB7N,UA/FsB,EA+FV/I,OA/FU,EA+FD;QACjCqY,UAAUrY,QAAQqY,OAAxB;SACKC,kBAAL,CAAwBD,QAAQE,OAAhC;GAjGwC;;;;;;;;oBAAA,8BAyGvBC,MAzGuB,EAyGf;;;QAGnBC,eAAe,KAAKC,gBAAL,CAAsBF,MAAtB,CAArB;;QAEI,CAACC,aAAa9R,MAAlB,EAA0B;;;;SAIrB8Q,QAAL,CAActB,aAAd;;;SAGKwC,cAAL,CAAoBF,YAApB,EAAkC,KAAlC;;QAEI,KAAK3F,OAAL,EAAJ,EAAoB;WACb8F,cAAL;;GAxHsC;;;;;kBAAA,4BA8HzBJ,MA9HyB,EA8HjB;;;;WAGhB/Z,EAAEgC,MAAF,CAAS+X,MAAT,EAAiB,UAACK,aAAD,EAAgB/P,KAAhB,EAA0B;UAC1ChH,OAAOgH,SAAS,MAAK2O,QAAL,CAAcqB,WAAd,CAA0BhQ,KAA1B,CAAtB;;UAEI,CAAChH,IAAD,IAASA,KAAKkE,YAAlB,EAAgC;eACvB6S,aAAP;;;YAGGE,gBAAL,CAAsBjX,IAAtB;;oBAEckX,IAAd,CAAmBlX,IAAnB;;aAEO+W,aAAP;KAXK,EAYJ,EAZI,CAAP;GAjIwC;kBAAA,4BAgJzB/W,IAhJyB,EAgJnB;SAChBP,aAAL,CAAmB,qBAAnB,EAA0C,IAA1C,EAAgDO,IAAhD;;SAEK2V,QAAL,CAAcZ,OAAd,CAAsB/U,IAAtB;SACK+L,oBAAL,GAA4B,KAAK7K,iBAAL,KAA2B,KAAvD;gBACYlB,IAAZ;;SAEKsE,aAAL,CAAmBtE,IAAnB;SACKP,aAAL,CAAmB,cAAnB,EAAmC,IAAnC,EAAyCO,IAAzC;GAxJwC;;;;;;YAAA,wBA8J7B;QACL2S,QAAQ,CAAC,CAAC,KAAK/U,EAArB;;aAES6N,IAAT,CAAc3H,SAAd,CAAwB8O,UAAxB,CAAmCxW,KAAnC,CAAyC,IAAzC,EAA+CsB,SAA/C;;QAEIiV,KAAJ,EAAW;WACJtS,WAAL,GAAmB1C,eAAe,KAAKC,EAApB,CAAnB;;;WAGK,IAAP;GAvKwC;;;;;QAAA,oBA4KjC;QACH,KAAKsG,YAAT,EAAuB;aAAS,IAAP;;SACpBzE,aAAL,CAAmB,eAAnB,EAAoC,IAApC;SACK0X,eAAL;SACKzW,WAAL,GAAmB,IAAnB;SACKjB,aAAL,CAAmB,QAAnB,EAA6B,IAA7B;WACO,IAAP;GAlLwC;;;;;WAAA,qBAuLhCyW,MAvLgC,EAuLF;mFAAJ,EAAI;QAArBkB,aAAqB,QAArBA,aAAqB;;QAChCC,gBAAgB,KAAK3W,WAAL,IAAoB,CAAC,KAAKwD,YAAhD;QACMoT,gBAAgB,KAAKpB,MAAL,KAAgBA,MAAtC;QACMqB,eAAeF,iBAAiBC,aAAjB,IAAkC,CAACF,aAAxD;;QAEIG,YAAJ,EAAkB;UACVC,iBAAiB,KAAKrB,qBAAL,EAAvB;WACKD,MAAL,GAAcA,MAAd;UACMQ,SAAS,KAAKP,qBAAL,EAAf;WACKsB,iBAAL,CAAuBf,MAAvB,EAA+Bc,cAA/B;KAJF,MAKO;WACAtB,MAAL,GAAcA,MAAd;;;WAGK,IAAP;GArMwC;;;;cAAA,wBAyM7BhY,OAzM6B,EAyMpB;WACb,KAAKwZ,SAAL,CAAe,IAAf,EAAqBxZ,OAArB,CAAP;GA1MwC;;;;mBAAA,6BA8MxBwY,MA9MwB,EA8MhBc,cA9MgB,EA8MA;;;QAClCG,aAAa,EAAnB;MACEvZ,IAAF,CAAOsY,MAAP,EAAe,UAAC1P,KAAD,EAAQ8N,KAAR,EAAkB;UACzB8C,sBAAsB,CAAC,OAAKjC,QAAL,CAAcqB,WAAd,CAA0BhQ,KAA1B,CAA7B;UACI4Q,mBAAJ,EAAyB;eAClBhC,gBAAL,CAAsB5O,KAAtB,EAA6B,OAAKC,UAAlC,EAA8C,EAAC+O,IAAIlB,KAAL,EAA9C;;iBAES9N,MAAM7C,GAAjB,IAAwB,IAAxB;KALF;;QAQM0T,eAAelb,EAAEuZ,MAAF,CAASsB,cAAT,EAAyB,UAACM,SAAD,EAAe;aACpD,CAACH,WAAWG,UAAU3T,GAArB,CAAD,IAA8B,OAAKwR,QAAL,CAAcqB,WAAd,CAA0Bc,SAA1B,CAArC;KADmB,CAArB;;SAIKtB,kBAAL,CAAwBqB,YAAxB;GA5NwC;;;;;;SAAA,qBAkOhC;;;QACFlC,WAAW,KAAKA,QAAtB;QACMe,SAAS,KAAKP,qBAAL,EAAf;;QAEI,CAACO,OAAO7R,MAAR,IAAkB,KAAKkT,iBAA3B,EAA8C;aAAS,IAAP;;;QAE1CC,iBAAiBrb,EAAEqY,IAAF,CAAO0B,MAAP,EAAe,UAAS1P,KAAT,EAAgB;aAC7C,CAAC2O,SAASqB,WAAT,CAAqBhQ,KAArB,CAAR;KADqB,CAAvB;;;;QAMIgR,cAAJ,EAAoB;WACbrK,MAAL;KADF,MAEO;;UAECsK,oBAAoB,EAA1B;;;;UAIMC,eAAevb,EAAEgC,MAAF,CAAS,KAAKgX,QAAL,CAAczB,MAAvB,EAA+B,UAASiE,OAAT,EAAkBnY,IAAlB,EAAwB;YACpE8U,QAAQnY,EAAEsZ,OAAF,CAAUS,MAAV,EAAkB1W,KAAKgH,KAAvB,CAAd;;YAEI8N,UAAU,CAAC,CAAf,EAAkB;4BACEoC,IAAlB,CAAuBlX,KAAKgH,KAA5B;iBACOmR,OAAP;;;aAGGC,MAAL,GAActD,KAAd;;gBAEQA,KAAR,IAAiB9U,KAAKpC,EAAtB;;eAEOua,OAAP;OAZmB,EAalB,IAAI9F,KAAJ,CAAUqE,OAAO7R,MAAjB,CAbkB,CAArB;;WAeKpF,aAAL,CAAmB,gBAAnB,EAAqC,IAArC;;UAEM4Y,WAAW,KAAK7O,GAAL,CAAS8O,YAAT,EAAjB;;QAEEla,IAAF,CAAO8Z,YAAP,EAAqB,UAACta,EAAD,EAAQ;eACtB4L,GAAL,CAASkG,cAAT,CAAwB2I,QAAxB,EAAkCza,EAAlC;OADF;;;;WAMK2a,wBAAL,CAA8BF,QAA9B;;;WAGK7B,kBAAL,CAAwByB,iBAAxB;;WAEKxY,aAAL,CAAmB,SAAnB,EAA8B,IAA9B;;WAEK,IAAP;GAtRwC;;;;;YAAA,wBA2R7B;QACP,KAAK+Y,aAAT,EAAwB;WACjBC,OAAL;KADF,MAEO;WACAtB,eAAL;;WAEK,IAAP;GAjSwC;;;;;YAAA,wBAsS7B;;;QACLT,SAAS,KAAKP,qBAAL,EAAf;;;QAGMuC,eAAe/b,EAAEgN,IAAF,CAAO+M,MAAP,EAAe,UAACiC,IAAD,EAAO7D,KAAP,EAAiB;UAC7C9U,OAAO,OAAK2V,QAAL,CAAcqB,WAAd,CAA0B2B,IAA1B,CAAb;aACO,CAAC3Y,IAAD,IAASA,KAAKoY,MAAL,KAAgBtD,KAAhC;KAFmB,CAArB;;QAKI4D,YAAJ,EAAkB;WACXE,UAAL;;GAhTsC;;;;mBAqTzB,CAAC,CArTwB;;;;0BAAA,oCAyTjBjD,QAzTiB,EAyTP;SAC5BnM,GAAL,CAASkG,cAAT,CAAwB,KAAK9R,EAA7B,EAAiC+X,QAAjC,EAA2C,EAACjM,MAAM,KAAKN,GAAZ,EAA3C;GA1TwC;;;;;iBAAA,6BA+TxB;QACZ,KAAK1I,WAAT,EAAsB;WACf2V,iBAAL;WACKwC,gBAAL;;;QAGInC,SAAS,KAAKP,qBAAL,EAAf;QACI,KAAKnF,OAAL,CAAa,EAAC8H,iBAAiBpC,MAAlB,EAAb,CAAJ,EAA6C;WACtCI,cAAL;KADF,MAEO;WACArX,aAAL,CAAmB,wBAAnB,EAA6C,IAA7C;WACKsZ,eAAL;WACKC,eAAL,CAAqBtC,MAArB;WACKuC,aAAL;WACKxZ,aAAL,CAAmB,iBAAnB,EAAsC,IAAtC;;GA7UsC;aAAA,uBAiV9BuH,KAjV8B,EAiVvB8N,KAjVuB,EAiVhB;QAClBoE,YAAY,KAAKC,aAAL,CAAmBnS,KAAnB,CAAlB;QACMoS,mBAAmB,KAAKC,oBAAL,CAA0BrS,KAA1B,EAAiC8N,KAAjC,CAAzB;QACM9U,OAAO,KAAKsZ,cAAL,CAAoBtS,KAApB,EAA2BkS,SAA3B,EAAsCE,gBAAtC,CAAb;WACOpZ,IAAP;GArVwC;iBAAA,2BAwV1BA,IAxV0B,EAwVpB8U,KAxVoB,EAwVb;sBACT9U,IAAlB;;;SAGKyO,qBAAL,CAA2BzO,IAA3B;;QAEI,KAAK8V,IAAT,EAAe;WACRsC,MAAL,GAActD,KAAd;;GA/VsC;;;;iBAAA,2BAoW1B4B,MApW0B,EAoWlB;MACpBtY,IAAF,CAAOsY,MAAP,EAAe/Z,EAAE8U,IAAF,CAAO,KAAK6E,SAAZ,EAAuB,IAAvB,CAAf;SACKX,QAAL,CAActB,aAAd;GAtWwC;;;;uBAAA,iCA0WpBkF,OA1WoB,EA0WX;QACzB,CAAC,KAAKtS,UAAN,IAAoB,CAAC,KAAKA,UAAL,CAAgBpC,MAAzC,EAAiD;aAAS,EAAP;;;QAE7C2U,iBAAiB,KAAKC,iBAAL,EAAvB;QACI/C,SAAS,KAAKzP,UAAL,CAAgByP,MAA7B;cACUgD,KAAKC,GAAL,CAASD,KAAKE,GAAL,CAASL,OAAT,EAAkB,CAAlB,CAAT,EAA+B7C,OAAO7R,MAAP,GAAgB,CAA/C,CAAV;;QAEI2U,cAAJ,EAAoB;UACdK,mBAAJ;;UAEIN,OAAJ,EAAa;qBACE7C,OAAO6C,OAAP,CAAb;iBACS7C,OAAOhO,KAAP,CAAa,CAAb,EAAgB6Q,OAAhB,EAAyBnT,MAAzB,CAAgCsQ,OAAOhO,KAAP,CAAa6Q,UAAU,CAAvB,CAAhC,CAAT;;eAEO,KAAKO,aAAL,CAAmBpD,MAAnB,EAA2B8C,cAA3B,CAAT;UACIK,UAAJ,EAAgB;eACPE,MAAP,CAAcR,OAAd,EAAuB,CAAvB,EAA0BM,UAA1B;;;;;aAKK,KAAKG,aAAL,CAAmBtD,MAAnB,CAAT;;WAEOA,MAAP;GAjYwC;mBAAA,+BAoYtB;WACX,KAAK8C,cAAZ;GArYwC;;;;eAAA,yBAyY5B9C,MAzY4B,EAyYpB;;;QAChB,KAAKR,MAAT,EAAiB;eACNvZ,EAAEuZ,MAAF,CAASQ,MAAT,EAAiB,UAAC1P,KAAD,EAAQ8N,KAAR,EAAkB;eACnC,OAAKsB,eAAL,CAAqBpP,KAArB,EAA4B8N,KAA5B,CAAP;OADO,CAAT;;WAIK4B,MAAP;GA/YwC;eAAA,yBAkZ5BA,MAlZ4B,EAkZpBuD,UAlZoB,EAkZR;QAC5B,OAAOA,UAAP,KAAsB,QAA1B,EAAoC;aAC3Btd,EAAEud,MAAF,CAASxD,MAAT,EAAiB,UAAC1P,KAAD,EAAW;eAC1BA,MAAMkL,GAAN,CAAU+H,UAAV,CAAP;OADK,CAAP;KADF,MAIO,IAAIA,WAAWpV,MAAX,KAAsB,CAA1B,EAA6B;aAC3BlI,EAAEud,MAAF,CAASxD,MAAT,EAAiB/Z,EAAE8U,IAAF,CAAOwI,UAAP,EAAmB,IAAnB,CAAjB,CAAP;KADK,MAEA;aACEtd,EAAEiV,KAAF,CAAQ8E,MAAR,EAAgBZ,IAAhB,CAAqBnZ,EAAE8U,IAAF,CAAOwI,UAAP,EAAmB,IAAnB,CAArB,CAAP;;GA1ZsC;;;;;gBAAA,4BAgazB;QACTE,YAAY,KAAKC,aAAL,EAAlB;;QAEID,aAAa,CAAC,KAAKpC,iBAAvB,EAA0C;WACnCA,iBAAL,GAAyB,IAAzB;;UAEM/Q,QAAQ,IAAI1K,SAASC,KAAb,EAAd;UACI8d,mBACF,KAAKA,gBAAL,IAAyB,KAAKjB,gBADhC;UAEIzc,EAAEmC,UAAF,CAAaub,gBAAb,CAAJ,EAAoC;2BACfA,iBAAiB1a,IAAjB,CAAsB,IAAtB,EAA4BqH,KAA5B,EAAmC,KAAKsT,eAAxC,CAAnB;;;UAGIta,OAAO,KAAKsZ,cAAL,CAAoBtS,KAApB,EAA2BmT,SAA3B,EAAsCE,gBAAtC,CAAb;;WAEK5a,aAAL,CAAmB,qBAAnB,EAA0C,IAA1C,EAAgDO,IAAhD;WACKua,YAAL,CAAkBva,IAAlB,EAAwB,CAAxB;WACKP,aAAL,CAAmB,cAAnB,EAAmC,IAAnC,EAAyCO,IAAzC;;GAjbsC;;;;;mBAAA,+BAubtB;QACd,KAAK+X,iBAAT,EAA4B;WACrBtY,aAAL,CAAmB,qBAAnB,EAA0C,IAA1C;;WAEKoZ,gBAAL;aACO,KAAKd,iBAAZ;;WAEKtY,aAAL,CAAmB,cAAnB,EAAmC,IAAnC;;GA9bsC;;;;eAAA,2BAmc1B;QACR+a,YAAY,KAAKA,SAAvB;;QAEI,CAACA,SAAL,EAAgB;;;;WAET,KAAKrM,QAAL,CAAcqM,SAAd,CAAP;GAxcwC;;;;;;;eAAA,yBA+c5Bra,KA/c4B,EA+crB;QACfsa,YAAY,KAAKA,SAArB;;QAEI,CAACA,SAAL,EAAgB;YACR,IAAInZ,eAAJ,CAAoB;cAClB,kBADkB;iBAEf;OAFL,CAAN;;;gBAMU,KAAK6M,QAAL,CAAcsM,SAAd,EAAyBta,KAAzB,CAAZ;;QAEI,CAACsa,SAAL,EAAgB;YACR,IAAInZ,eAAJ,CAAoB;cAClB,uBADkB;iBAEf;OAFL,CAAN;;;WAMKmZ,SAAP;GAlewC;;;;;UAAA,oBAuejCza,IAveiC,EAue3BG,KAve2B,EAuepB;QAChBH,KAAK8D,SAAL,YAA0BxH,SAASmP,IAAnC,IAA2CzL,SAAS1D,SAASmP,IAAjE,EAAuE;aAC9DzL,IAAP;KADF,MAEO,IAAIrD,EAAEmC,UAAF,CAAakB,IAAb,CAAJ,EAAwB;aACtBA,KAAKL,IAAL,CAAU,IAAV,EAAgBQ,KAAhB,CAAP;;GA3esC;;;;WAAA,qBAgfhCA,KAhfgC,EAgfzB2U,KAhfyB,EAgflB;QAChB9U,OAAO,KAAK0a,WAAL,CAAiBva,KAAjB,EAAwB2U,KAAxB,CAAb;SACKyF,YAAL,CAAkBva,IAAlB,EAAwB8U,KAAxB;;WAEO9U,IAAP;GApfwC;sBAAA,gCAufrBG,KAvfqB,EAufd2U,KAvfc,EAufP;QAC7BnY,EAAEmC,UAAF,CAAa,KAAKsa,gBAAlB,CAAJ,EAAyC;aAChC,KAAKA,gBAAL,CAAsBjZ,KAAtB,EAA6B2U,KAA7B,CAAP;;;WAGK,KAAKsE,gBAAZ;GA5fwC;;;;;;cAAA,wBAkgB7BpZ,IAlgB6B,EAkgBvB8U,KAlgBuB,EAkgBhB;SACnBrV,aAAL,CAAmB,kBAAnB,EAAuC,IAAvC,EAA6CO,IAA7C;SACKuO,eAAL,CAAqBvO,IAArB,EAA2B8U,KAA3B;;;QAGI,KAAKS,YAAT,EAAuB;;WAEhBI,QAAL,CAAclB,IAAd,CAAmBzU,IAAnB;KAFF,MAGO;;WAEA6W,cAAL,CAAoB7W,IAApB,EAA0B,IAA1B;WACK2V,QAAL,CAAcrB,GAAd,CAAkBtU,IAAlB;;;eAGSA,IAAX;;SAEKwO,WAAL,CAAiBxO,IAAjB,EAAuB8U,KAAvB;;SAEKrV,aAAL,CAAmB,WAAnB,EAAgC,IAAhC,EAAsCO,IAAtC;;WAEOA,IAAP;GAthBwC;;;;;gBAAA,0BA2hB3BiU,KA3hB2B,EA2hBpB0G,SA3hBoB,EA2hBT;QAC3B,CAAC,KAAK7E,IAAV,EAAgB;;;;QAIZ,CAAC6E,SAAL,EAAgB;QACZvc,IAAF,CAAOzB,EAAEud,MAAF,CAAS,KAAKvE,QAAL,CAAczB,MAAvB,EAA+B,QAA/B,CAAP,EAAiD,UAAClU,IAAD,EAAO8U,KAAP,EAAiB;aAC3DsD,MAAL,GAActD,KAAd;OADF;;;;;QAOI9U,OAAOrD,EAAEkM,OAAF,CAAUoL,KAAV,IAAmBtX,EAAEid,GAAF,CAAM3F,KAAN,EAAa,QAAb,CAAnB,GAA4CA,KAAzD;;QAEItX,EAAEC,QAAF,CAAWoD,IAAX,CAAJ,EAAsB;;QAElB5B,IAAF,CAAO,KAAKuX,QAAL,CAAczB,MAArB,EAA6B,UAAC0G,SAAD,EAAe;YACtCA,UAAUxC,MAAV,IAAoBpY,KAAKoY,MAA7B,EAAqC;oBACzBA,MAAV,IAAoB,CAApB;;OAFJ;;GA5iBsC;aAAA,uBAojB9BpY,IApjB8B,EAojBxB8U,KApjBwB,EAojBjB;;;QAGjB1U,sBAAsB,CAACJ,KAAKK,WAAN,IAAqB,CAAC,KAAKkV,YAA3B,IAA2C,KAAKlV,WAAhD,IAA+D,KAAKa,iBAAL,KAA2B,KAAtH;;QAEId,mBAAJ,EAAyB;sBACPJ,IAAhB,EAAsB,eAAtB,EAAuCA,IAAvC;;;SAGGiP,UAAL,CAAgB,IAAhB,EAAsBjP,IAAtB,EAA4B8U,KAA5B;;QAEI1U,mBAAJ,EAAyB;WAClBC,WAAL,GAAmB,IAAnB;sBACgBL,IAAhB,EAAsB,QAAtB,EAAgCA,IAAhC;;GAjkBsC;;;;gBAAA,0BAskB3BG,KAtkB2B,EAskBpB0a,cAtkBoB,EAskBJzB,gBAtkBI,EAskBc;QAChDlb,UAAUvB,EAAEN,MAAF,CAAS,EAAC2K,OAAO7G,KAAR,EAAT,EAAyBiZ,gBAAzB,CAAhB;WACO,IAAIyB,cAAJ,CAAmB3c,OAAnB,CAAP;GAxkBwC;;;;;iBAAA,2BA6kB1B8B,IA7kB0B,EA6kBpB;QAChB,CAACA,IAAD,IAASA,KAAKkE,YAAlB,EAAgC;aACvBlE,IAAP;;;SAGGiX,gBAAL,CAAsBjX,IAAtB;SACK2V,QAAL,CAActB,aAAd;;SAEKwC,cAAL,CAAoB7W,IAApB,EAA0B,KAA1B;WACOA,IAAP;GAtlBwC;;;;SAAA,mBA0lBlC9B,OA1lBkC,EA0lBzB;QACXwY,eAAJ;QACI/Z,EAAEiD,MAAF,CAAS1B,OAAT,EAAkB,iBAAlB,CAAJ,EAA0C;eAC/BA,QAAQ4a,eAAjB;KADF,MAEO;eACI,KAAK7R,UAAL,GAAkB,KAAKA,UAAL,CAAgByP,MAAlC,GAA2C,EAApD;eACS,KAAKsD,aAAL,CAAmBtD,MAAnB,CAAT;;WAEKA,OAAO7R,MAAP,KAAkB,CAAzB;GAlmBwC;;;;cAAA,wBAsmB7BiW,cAtmB6B,EAsmBbC,MAtmBa,EAsmBL;SAC9BvR,GAAL,CAASkG,cAAT,CAAwBoL,eAAeld,EAAvC,EAA2Cmd,MAA3C,EAAmD,EAACrR,MAAMoR,eAAe1R,GAAtB,EAAnD;GAvmBwC;;;;eAAA,2BA2mB1B;;;QACRiP,WAAW,KAAK7O,GAAL,CAAS8O,YAAT,EAAjB;MACEla,IAAF,CAAO,KAAKkX,iBAAZ,EAA+B,UAAC0F,CAAD,EAAO;aAC/BxR,GAAL,CAASkG,cAAT,CAAwB2I,QAAxB,EAAkC2C,EAAEpd,EAApC,EAAwC,EAAC+M,YAAYqQ,EAAE5R,GAAf,EAAxC;KADF;WAGOiP,QAAP;GAhnBwC;;;;;YAAA,sBAqnB/ByC,cArnB+B,EAqnBfL,SArnBe,EAqnBJ3F,KArnBI,EAqnBG;QACvCgG,eAAevF,YAAnB,EAAiC;;;;qBAIhBD,iBAAf,CAAiCyE,MAAjC,CAAwCjF,KAAxC,EAA+C,CAA/C,EAAkD2F,SAAlD;KAJF,MAKO;;;;UAID,CAACK,eAAeG,aAAf,CAA6BR,SAA7B,EAAwC3F,KAAxC,CAAL,EAAqD;uBACpCoG,YAAf,CAA4BT,SAA5B;;;GAhoBoC;;;;eAAA,yBAsoB5BA,SAtoB4B,EAsoBjB3F,KAtoBiB,EAsoBV;QAC1B1G,oBAAJ;QACM+M,eAAe,KAAKrF,IAAL,IAAchB,QAAQ,KAAKa,QAAL,CAAc9Q,MAAd,GAAuB,CAAlE;QACIsW,YAAJ,EAAkB;;oBAEFxe,EAAEgN,IAAF,CAAO,KAAKgM,QAAL,CAAczB,MAArB,EAA6B,UAAClU,IAAD,EAAU;eAC5CA,KAAKoY,MAAL,KAAgBtD,QAAQ,CAA/B;OADY,CAAd;;;QAKE1G,WAAJ,EAAiB;WACVgN,QAAL,CAAchN,YAAYxQ,EAA1B,EAA8B6c,UAAU7c,EAAxC;aACO,IAAP;;;WAGK,KAAP;GArpBwC;;;;UAAA,oBAypBjCA,EAzpBiC,EAypB7Byd,QAzpB6B,EAypBnB;SAChBlW,CAAL,CAAOvH,EAAP,EAAW0d,MAAX,CAAkBD,QAAlB;GA1pBwC;;;;cAAA,wBA8pB7BZ,SA9pB6B,EA8pBlB;SACjBjR,GAAL,CAASkG,cAAT,CAAwB,KAAK9R,EAA7B,EAAiC6c,UAAU7c,EAA3C,EAA+C,EAAC8L,MAAM,KAAKN,GAAZ,EAAiBuB,YAAY8P,UAAUrR,GAAvC,EAA/C;GA/pBwC;;;;uBAAA,mCAmqBlB;SACjBuM,QAAL,GAAgB,IAAI4F,SAAJ,EAAhB;GApqBwC;;;;iBAAA,6BAwqBxB;SACX1C,gBAAL;GAzqBwC;;;;kBAAA,4BA6qBzB3a,OA7qByB,EA6qBhB;QACpB,CAAC,KAAKyX,QAAL,CAAc9Q,MAAnB,EAA2B;;;;SAItBpF,aAAL,CAAmB,yBAAnB,EAA8C,IAA9C;MACErB,IAAF,CAAO,KAAKuX,QAAL,CAAczB,MAArB,EAA6BvX,EAAE8U,IAAF,CAAO,KAAKwF,gBAAZ,EAA8B,IAA9B,CAA7B;SACKtB,QAAL,CAActB,aAAd;SACK5U,aAAL,CAAmB,kBAAnB,EAAuC,IAAvC;GArrBwC;;;;;;;;iBAAA,2BA6rB1BU,KA7rB0B,EA6rBnB2U,KA7rBmB,EA6rBZ;QACtBoB,SAAS,KAAKA,MAApB;WACO,CAACvZ,EAAEmC,UAAF,CAAaoX,MAAb,CAAD,IAAyBA,OAAOvW,IAAP,CAAY,IAAZ,EAAkBQ,KAAlB,EAAyB2U,KAAzB,EAAgC,KAAK7N,UAArC,CAAhC;;CA/rBmB,EAisBpB;;CAjsBoB,CAAvB;;AAqsBAtK,EAAEN,MAAF,CAAS6Y,eAAepR,SAAxB,EAAmCgH,SAAnC;;ACtuBA;;AAEA,IAAMkJ,cAAY,SAAZA,SAAY,GAAW;OACtBwH,KAAL;CADF;;AAIA5H,kBAAkBI,YAAUlQ,SAA5B,EAAuC,QAAvC;;AAEA,SAAS2X,gBAAT,CAA0BxB,UAA1B,EAAsCja,IAAtC,EAA4C;SACnCA,KAAKgH,KAAL,IAAchH,KAAKgH,KAAL,CAAWkL,GAAX,CAAe+H,UAAf,CAArB;;;;;;AAMFtd,EAAEN,MAAF,CAAS2X,YAAUlQ,SAAnB,EAA8B;;;OAAA,mBAGpB;SACDoQ,MAAL,GAAc,EAAd;SACKwH,WAAL,GAAmB,EAAnB;SACKvH,aAAL,GAAqB,EAArB;SACKE,aAAL;GAP0B;;;;;;;MAAA,gBAcvBrU,IAduB,EAcW;QAA5B8U,KAA4B,uEAApB,KAAKZ,MAAL,CAAYrP,MAAQ;;QAC/B6P,UAAU1U,KAAKmE,GAArB;;;SAGKuX,WAAL,CAAiBhH,OAAjB,IAA4B1U,IAA5B;;;QAGIA,KAAKgH,KAAT,EAAgB;WACTmN,aAAL,CAAmBnU,KAAKgH,KAAL,CAAW7C,GAA9B,IAAqCuQ,OAArC;;;;SAIGR,MAAL,CAAY6F,MAAZ,CAAmBjF,KAAnB,EAA0B,CAA1B,EAA6B9U,IAA7B;;SAEKqU,aAAL;GA5B0B;;;;OAAA,iBAgCtB4F,UAhCsB,EAgCV;QACZ,OAAOA,UAAP,KAAsB,QAA1B,EAAoC;mBACrBtd,EAAEwU,OAAF,CAAUsK,gBAAV,EAA4BxB,UAA5B,CAAb;aACO,KAAK0B,OAAL,CAAa1B,UAAb,CAAP;;;QAGEA,WAAWpV,MAAX,KAAsB,CAA1B,EAA6B;aACpB,KAAK8W,OAAL,CAAa1B,UAAb,CAAP;;;WAGK,KAAK/F,MAAL,CAAY4B,IAAZ,CAAiBmE,UAAjB,CAAP;GA1C0B;;;;SAAA,mBA8CpBA,UA9CoB,EA8CR;QACZ2B,cAAcjf,EAAEud,MAAF,CAAS,KAAKhG,MAAd,EAAsB+F,UAAtB,CAApB;;SAEK4B,IAAL,CAAUD,WAAV;;WAEOA,WAAP;GAnD0B;;;;MAAA,gBAuDvB3H,KAvDuB,EAuDhB;SACLC,MAAL,CAAYrP,MAAZ,GAAqB,CAArB;;SAEKqP,MAAL,CAAYgD,IAAZ,CAAiB9a,KAAjB,CAAuB,KAAK8X,MAA5B,EAAoCD,MAAMvL,KAAN,CAAY,CAAZ,CAApC;;SAEK2L,aAAL;GA5D0B;;;;OAAA,iBAgEtByH,KAhEsB,EAgEfC,KAhEe,EAgER;QACZC,aAAa,KAAKC,eAAL,CAAqBH,KAArB,CAAnB;QACMI,aAAa,KAAKD,eAAL,CAAqBF,KAArB,CAAnB;;QAEIC,eAAe,CAAC,CAAhB,IAAqBE,eAAe,CAAC,CAAzC,EAA4C;;;;QAItCC,WAAW,KAAKjI,MAAL,CAAY8H,UAAZ,CAAjB;SACK9H,MAAL,CAAY8H,UAAZ,IAA0B,KAAK9H,MAAL,CAAYgI,UAAZ,CAA1B;SACKhI,MAAL,CAAYgI,UAAZ,IAA0BC,QAA1B;GA1E0B;;;;;aAAA,uBA+EhBnV,KA/EgB,EA+ET;WACV,KAAK2N,cAAL,CAAoB3N,MAAM7C,GAA1B,CAAP;GAhF0B;;;;;;gBAAA,0BAsFbyQ,QAtFa,EAsFH;QACjBF,UAAU,KAAKP,aAAL,CAAmBS,QAAnB,CAAhB;WACO,KAAKC,SAAL,CAAeH,OAAf,CAAP;GAxF0B;;;;aAAA,uBA4FhBI,KA5FgB,EA4FT;WACV,KAAKZ,MAAL,CAAYY,KAAZ,CAAP;GA7F0B;;;;iBAAA,2BAiGZ9U,IAjGY,EAiGN;WACb,KAAKkU,MAAL,CAAY+B,OAAZ,CAAoBjW,IAApB,CAAP;GAlG0B;;;;WAAA,qBAsGlBmE,GAtGkB,EAsGb;WACN,KAAKuX,WAAL,CAAiBvX,GAAjB,CAAP;GAvG0B;SAAA,mBA0GpBnE,IA1GoB,EA0Gd;WACL,CAAC,CAAC,KAAK6U,SAAL,CAAe7U,KAAKmE,GAApB,CAAT;GA3G0B;;;;SAAA,mBA+GpBnE,IA/GoB,EA+Gd;QACR,CAAC,KAAK0b,WAAL,CAAiB1b,KAAKmE,GAAtB,CAAL,EAAiC;;;;;QAK7BnE,KAAKgH,KAAT,EAAgB;aACP,KAAKmN,aAAL,CAAmBnU,KAAKgH,KAAL,CAAW7C,GAA9B,CAAP;;;;WAIK,KAAKuX,WAAL,CAAiB1b,KAAKmE,GAAtB,CAAP;;QAEM2Q,QAAQ,KAAKmH,eAAL,CAAqBjc,IAArB,CAAd;SACKkU,MAAL,CAAY6F,MAAZ,CAAmBjF,KAAnB,EAA0B,CAA1B;;SAEKT,aAAL;GA/H0B;;;;eAAA,2BAmIZ;SACTxP,MAAL,GAAc,KAAKqP,MAAL,CAAYrP,MAA1B;;CApIJ;;AClBA;;;AAGA,AAYA,IAAMtB,iBAAe,CACnB,WADmB,EAEnB,WAFmB,EAGnB,sBAHmB,EAInB,iBAJmB,EAKnB,kBALmB,EAMnB,mBANmB,EAOnB,kBAPmB,EAQnB,WARmB,EASnB,kBATmB,EAUnB,QAVmB,EAWnB,aAXmB,EAYnB,oBAZmB,EAanB,UAbmB,EAcnB,IAdmB,EAenB,gBAfmB,EAgBnB,YAhBmB,CAArB;;;;AAqBA,IAAM2R,mBAAiB5Y,SAASmP,IAAT,CAAcpP,MAAd,CAAqB;;sBAEtB,IAFsB;;;aAAA,uBAK9B6B,OAL8B,EAKrB;SACdwF,WAAL,CAAiBxF,OAAjB;;SAEKD,YAAL,CAAkBC,OAAlB,EAA2BqF,cAA3B;;sBAEkB,IAAlB;;SAEK4R,IAAL,CAAU,QAAV,EAAoB,KAAKC,cAAzB;;;;;SAKKC,qBAAL;SACKlD,cAAL;;QAEMhW,OAAOkW,MAAMvO,SAAN,CAAgB4E,KAAhB,CAAsB/I,IAAtB,CAA2BjC,SAA3B,CAAb;SACK,CAAL,IAAU,KAAKQ,OAAf;aACSuN,IAAT,CAAc3H,SAAd,CAAwBwO,WAAxB,CAAoClW,KAApC,CAA0C,IAA1C,EAAgDD,IAAhD;;SAEKigB,gBAAL;;SAEK7J,oBAAL;;SAEK1F,wBAAL,CAA8B,YAA9B,EAA4C,IAA5C;GA5BwC;;;;uBAAA,mCAgClB;SACjB8I,QAAL,GAAgB,IAAI4F,WAAJ,EAAhB;GAjCwC;;;;kBAAA,8BAqCvB;SACZc,WAAL,GAAmB,IAAIrO,MAAJ,CAAW,EAAEpQ,IAAI,KAAKA,EAAX,EAAemR,gBAAgB,KAA/B,EAAX,CAAnB;;SAEKsN,WAAL,CAAiBzN,WAAjB,GAA+B,IAA/B;GAxCwC;;;;gBAAA,4BA4CzB;SACV5B,QAAL,CAAc,KAAK/F,UAAnB,EAA+B;cACrB,KAAKqV,iBADgB;eAEpB,KAAKC,kBAFe;gBAGnB,KAAK1G;KAHjB;GA7CwC;;;;;mBAAA,+BAsDtB;;;QACd,CAAC,KAAK2G,kBAAN,IAA4B,KAAKhD,cAAL,KAAwB,KAAxD,EAA+D;;;;;QAK3D,KAAKvS,UAAL,CAAgBpC,MAAhB,KAA2B,KAAK8Q,QAAL,CAAc9Q,MAA7C,EAAqD;;;;;QAK/C4X,gBAAgB,KAAKxV,UAAL,CAAgB+N,IAAhB,CAAqB,iBAAS;aAC3C,CAAC,MAAKW,QAAL,CAAcqB,WAAd,CAA0BhQ,KAA1B,CAAR;KADoB,CAAtB;;QAIIyV,aAAJ,EAAmB;;;;;SAKd3G,IAAL;GA1EwC;oBAAA,gCA6ErB;SACdnI,MAAL;GA9EwC;;;;qBAAA,+BAkFtB1G,UAlFsB,EAkFV/I,OAlFU,EAkFD;QACjCqY,UAAUrY,QAAQqY,OAAxB;;;QAGMI,eAAe,KAAKH,kBAAL,CAAwBD,QAAQE,OAAhC,CAArB;;SAEKiG,WAAL,GAAmB,KAAKC,eAAL,CAAqBpG,QAAQqG,KAA7B,CAAnB;;SAEKC,eAAL,CAAqBlG,YAArB;;SAEKmG,aAAL;;;SAGKC,iBAAL,CAAuBpG,YAAvB;GA/FwC;oBAAA,8BAkGvBD,MAlGuB,EAkGf;WAClB/Z,EAAEoJ,GAAF,CAAM2Q,MAAN,EAAc/Z,EAAE8U,IAAF,CAAO,KAAKuL,iBAAZ,EAA+B,IAA/B,CAAd,CAAP;GAnGwC;mBAAA,6BAsGxBhW,KAtGwB,EAsGjB;QACjBhH,OAAO,KAAK2V,QAAL,CAAcqB,WAAd,CAA0BhQ,KAA1B,CAAb;;SAEKiW,YAAL,CAAkBjd,IAAlB;;WAEOA,IAAP;GA3GwC;cAAA,wBA8G7BA,IA9G6B,EA8GvB;SACZP,aAAL,CAAmB,qBAAnB,EAA0C,IAA1C,EAAgDO,IAAhD;;SAEK2V,QAAL,CAAcZ,OAAd,CAAsB/U,IAAtB;;SAEKP,aAAL,CAAmB,cAAnB,EAAmC,IAAnC,EAAyCO,IAAzC;GAnHwC;;;;iBAAA,2BAuH1B0W,MAvH0B,EAuHlB;WACf/Z,EAAEoJ,GAAF,CAAM2Q,MAAN,EAAc/Z,EAAE8U,IAAF,CAAO,KAAKyL,cAAZ,EAA4B,IAA5B,CAAd,CAAP;GAxHwC;gBAAA,0BA2H3BlW,KA3H2B,EA2HpB;QACdhH,OAAO,KAAKmd,gBAAL,CAAsBnW,KAAtB,CAAb;;SAEKsP,SAAL,CAAetW,IAAf;;WAEOA,IAAP;GAhIwC;kBAAA,4BAmIzBgH,KAnIyB,EAmIlB;QAChBkS,YAAY,KAAKC,aAAL,CAAmBnS,KAAnB,CAAlB;QACMoS,mBAAmB,KAAKC,oBAAL,CAA0BrS,KAA1B,CAAzB;QACMhH,OAAO,KAAKsZ,cAAL,CAAoBtS,KAApB,EAA2BkS,SAA3B,EAAsCE,gBAAtC,CAAb;;WAEOpZ,IAAP;GAxIwC;WAAA,qBA2IhCA,IA3IgC,EA2I1B8U,KA3I0B,EA2InB;SAChBrV,aAAL,CAAmB,kBAAnB,EAAuC,IAAvC,EAA6CO,IAA7C;;SAEKuO,eAAL,CAAqBvO,IAArB;SACK2V,QAAL,CAAclB,IAAd,CAAmBzU,IAAnB,EAAyB8U,KAAzB;;SAEKrV,aAAL,CAAmB,WAAnB,EAAgC,IAAhC,EAAsCO,IAAtC;GAjJwC;;;;;;;eAAA,yBAwJ5BG,KAxJ4B,EAwJrB;QACfsa,YAAY,KAAKA,SAArB;;QAEI,CAACA,SAAL,EAAgB;YACR,IAAInZ,eAAJ,CAAoB;cAClB,kBADkB;iBAEf;OAFL,CAAN;;;gBAMU,KAAK6M,QAAL,CAAcsM,SAAd,EAAyBta,KAAzB,CAAZ;;QAEI,CAACsa,SAAL,EAAgB;YACR,IAAInZ,eAAJ,CAAoB;cAClB,uBADkB;iBAEf;OAFL,CAAN;;;WAMKmZ,SAAP;GA3KwC;;;;;UAAA,oBAgLjCza,IAhLiC,EAgL3BG,KAhL2B,EAgLpB;QAChBH,KAAK8D,SAAL,YAA0BxH,SAASmP,IAAnC,IAA2CzL,SAAS1D,SAASmP,IAAjE,EAAuE;aAC9DzL,IAAP;KADF,MAEO,IAAIrD,EAAEmC,UAAF,CAAakB,IAAb,CAAJ,EAAwB;aACtBA,KAAKL,IAAL,CAAU,IAAV,EAAgBQ,KAAhB,CAAP;;GApLsC;sBAAA,gCAwLrBA,KAxLqB,EAwLd;QACtBxD,EAAEmC,UAAF,CAAa,KAAKsa,gBAAlB,CAAJ,EAAyC;aAChC,KAAKA,gBAAL,CAAsBjZ,KAAtB,CAAP;;;WAGK,KAAKiZ,gBAAZ;GA7LwC;;;;;gBAAA,0BAkM3BjZ,KAlM2B,EAkMpB0a,cAlMoB,EAkMJzB,gBAlMI,EAkMc;QAChDlb,UAAUvB,EAAEN,MAAF,CAAS,EAAC2K,OAAO7G,KAAR,EAAT,EAAyBiZ,gBAAzB,CAAhB;WACO,IAAIyB,cAAJ,CAAmB3c,OAAnB,CAAP;GApMwC;iBAAA,2BAuM1B8B,IAvM0B,EAuMpB;sBACFA,IAAlB;;;;;;SAMKoB,EAAL,CAAQ,SAAR,EAAmB,KAAKgc,eAAxB,EAAyC,IAAzC;;;SAGK3O,qBAAL,CAA2BzO,IAA3B;GAjNwC;;;;uBAAA,mCAqNlB;WACf,KAAK2V,QAAL,CAAczB,MAArB;GAtNwC;;;;;;YAAA,wBA4N7B;QACLvB,QAAQ,CAAC,CAAC,KAAK/U,EAArB;;aAES6N,IAAT,CAAc3H,SAAd,CAAwB8O,UAAxB,CAAmCxW,KAAnC,CAAyC,IAAzC,EAA+CsB,SAA/C;;QAEIiV,KAAJ,EAAW;WACJtS,WAAL,GAAmB1C,eAAe,KAAKC,EAApB,CAAnB;;;WAGK,IAAP;GArOwC;;;;QAAA,oBAyOjC;QACH,KAAKsG,YAAT,EAAuB;aAAS,IAAP;;SACpBzE,aAAL,CAAmB,eAAnB,EAAoC,IAApC;;SAEKoZ,gBAAL;;;SAGKlD,QAAL,CAAc6F,KAAd;;QAEI,KAAKvU,UAAT,EAAqB;WACd0V,eAAL,CAAqB,KAAK1V,UAAL,CAAgByP,MAArC;;;SAGGoG,aAAL;;SAEKpc,WAAL,GAAmB,IAAnB;;SAEKjB,aAAL,CAAmB,QAAnB,EAA6B,IAA7B;WACO,IAAP;GA3PwC;;;;MAAA,kBA+PnC;QACD,KAAKyE,YAAT,EAAuB;aAAS,IAAP;;;QAErB,CAAC,KAAKyR,QAAL,CAAc9Q,MAAnB,EAA2B;aAAS,IAAP;;;SAExBiY,aAAL;;WAEO,IAAP;GAtQwC;eAAA,2BAyQ1B;QACV,KAAK9L,OAAL,EAAJ,EAAoB;WACb8F,cAAL;;;;SAIGuG,aAAL;;SAEKnH,MAAL;GAjRwC;;;;;;;SAAA,mBAwRlCoH,gBAxRkC,EAwRhB;WACjBA,oBAAoB,CAAC,KAAK3H,QAAL,CAAc9Q,MAA1C;GAzRwC;gBAAA,4BA4RzB;QACTsV,YAAY,KAAKC,aAAL,EAAlB;;QAEI,CAACD,SAAL,EAAgB;;;;QAIVjc,UAAU,KAAKqf,oBAAL,EAAhB;;SAEKlB,WAAL,CAAiBxK,IAAjB,CAAsB,IAAIsI,SAAJ,CAAcjc,OAAd,CAAtB;GArSwC;;;;eAAA,2BAyS1B;QACRsc,YAAY,KAAKA,SAAvB;;QAEI,CAACA,SAAL,EAAgB;;;;WAET,KAAKrM,QAAL,CAAcqM,SAAd,CAAP;GA9SwC;;;;mBAAA,+BAkTtB;;;;QAId,KAAK6B,WAAL,CAAiBmB,OAAjB,EAAJ,EAAgC;WACzBnB,WAAL,CAAiB/N,KAAjB;;GAvTsC;;;;sBAAA,kCA4TnB;QACf+L,mBAAmB,KAAKA,gBAAL,IAAyB,KAAKjB,gBAAvD;;QAEIzc,EAAEmC,UAAF,CAAaub,gBAAb,CAAJ,EAAoC;aAC3BA,iBAAiB1a,IAAjB,CAAsB,IAAtB,CAAP;;;WAGK0a,gBAAP;GAnUwC;;;;eAAA,2BAuU1B;QACV,KAAKb,cAAL,KAAwB,KAA5B,EAAmC;;;;SAE9B/Z,aAAL,CAAmB,aAAnB,EAAkC,IAAlC;;QAEI+Z,iBAAiB,KAAKiE,aAAL,EAArB;;QAEI9gB,EAAEmC,UAAF,CAAa0a,cAAb,CAAJ,EAAkC;;uBAEfA,eAAe/H,IAAf,CAAoB,IAApB,CAAjB;;;SAGGkE,QAAL,CAAc+H,KAAd,CAAoBlE,cAApB;;SAEK/Z,aAAL,CAAmB,MAAnB,EAA2B,IAA3B;GArVwC;;;;;eAAA,yBA0V5Bwa,UA1V4B,EA0VM;mFAAJ,EAAI;QAArB7C,aAAqB,QAArBA,aAAqB;;QACxCuG,oBAAoB,KAAKnE,cAAL,KAAwBS,UAAlD;QACM2D,aAAaD,qBAAqB,CAACvG,aAAzC;;SAEKoC,cAAL,GAAsBS,UAAtB;;QAEI2D,UAAJ,EAAgB;WACT9H,IAAL;;;WAGK,IAAP;GApWwC;;;;kBAAA,4BAwWzB5X,OAxWyB,EAwWhB;WACjB,KAAK2f,aAAL,CAAmB,IAAnB,EAAyB3f,OAAzB,CAAP;GAzWwC;;;;;;eAAA,2BA+W1B;WACP,KAAKsb,cAAL,IAAuB,KAAKsE,eAAnC;GAhXwC;;;;;iBAAA,2BAqX1B9d,IArX0B,EAqXpB;QAChB,CAAC,KAAKiH,UAAV,EAAsB;;;WACf,KAAKA,UAAL,CAAgBgP,OAAhB,CAAwBjW,KAAKgH,KAA7B,CAAP;GAvXwC;;;;QAAA,oBA2XjC;QACH,KAAK9C,YAAT,EAAuB;aAAS,IAAP;;;QAErB,CAAC,KAAKyR,QAAL,CAAc9Q,MAAnB,EAA2B;aAAS,IAAP;;;QAEvBkZ,gBAAgB,KAAKC,eAAL,EAAtB;;SAEK7G,eAAL,CAAqB4G,aAArB;;WAEO,IAAP;GApYwC;eAAA,yBAuY5BE,SAvY4B,EAuYjBnJ,KAvYiB,EAuYVoJ,UAvYU,EAuYE;QACpCC,YAAY,KAAKxI,QAAL,CAAczB,MAAd,CAAqBrP,MAArB,GAA8BqZ,WAAWrZ,MAAzC,GAAkDiQ,KAApE;WACOmJ,cAAc,KAAKtI,QAAL,CAAczB,MAAd,CAAqBiK,SAArB,CAArB;GAzYwC;iBAAA,6BA4YxB;QACVC,aAAa,KAAKC,UAAL,EAAnB;QACMH,aAAa,KAAKxB,WAAxB;;WAEO,KAAKA,WAAZ;;QAEI,CAAC0B,UAAL,EAAiB;UACXF,cAAcvhB,EAAE2hB,KAAF,CAAQJ,UAAR,EAAoBvhB,EAAE8U,IAAF,CAAO,KAAK8M,aAAZ,EAA2B,IAA3B,CAApB,CAAlB,EAAyE;eAChEL,UAAP;;;aAGK,KAAKvI,QAAL,CAAczB,MAArB;;;SAGGzU,aAAL,CAAmB,eAAnB,EAAoC,IAApC;;QAEMse,gBAAgBphB,EAAE6hB,SAAF,CAAY,KAAK7I,QAAL,CAAczB,MAA1B,EAAkCvX,EAAE8U,IAAF,CAAO2M,UAAP,EAAmB,IAAnB,CAAlC,CAAtB;;SAEKvB,eAAL,CAAqBkB,cAAc,CAAd,CAArB;;SAEKte,aAAL,CAAmB,QAAnB,EAA6B,IAA7B;;WAEOse,cAAc,CAAd,CAAP;GAlawC;;;;YAAA,wBAsa7B;QACLK,aAAa,KAAKK,SAAL,EAAnB;;QAEI,CAACL,UAAL,EAAiB;aAAS,KAAP;;;QAEfzhB,EAAEmC,UAAF,CAAasf,UAAb,CAAJ,EAA8B;aACrBA,UAAP;;;;QAIEzhB,EAAEC,QAAF,CAAWwhB,UAAX,CAAJ,EAA4B;UACpBM,UAAU/hB,EAAEgiB,OAAF,CAAUP,UAAV,CAAhB;aACO,UAASpe,IAAT,EAAe;eACb0e,QAAQ1e,KAAKgH,KAAL,IAAchH,KAAKgH,KAAL,CAAW0L,UAAjC,CAAP;OADF;;;;QAME/V,EAAE4F,QAAF,CAAW6b,UAAX,CAAJ,EAA4B;aACnB,UAASpe,IAAT,EAAe;eACbA,KAAKgH,KAAL,IAAchH,KAAKgH,KAAL,CAAWkL,GAAX,CAAekM,UAAf,CAArB;OADF;;;UAKI,IAAI9c,eAAJ,CAAoB;YAClB,wBADkB;eAEf;KAFL,CAAN;GA9bwC;;;;;WAAA,uBAsc9B;WACH,KAAK8c,UAAZ;GAvcwC;;;;;WAAA,qBA4chClI,MA5cgC,EA4cF;oFAAJ,EAAI;QAArBkB,aAAqB,SAArBA,aAAqB;;QAChCE,gBAAgB,KAAK8G,UAAL,KAAoBlI,MAA1C;QACMqB,eAAeD,iBAAiB,CAACF,aAAvC;;SAEKgH,UAAL,GAAkBlI,MAAlB;;QAEIqB,YAAJ,EAAkB;WACXrB,MAAL;;;WAGK,IAAP;GAtdwC;;;;cAAA,wBA0d7BhY,OA1d6B,EA0dpB;WACb,KAAKwZ,SAAL,CAAe,IAAf,EAAqBxZ,OAArB,CAAP;GA3dwC;iBAAA,2BA8d1B0gB,cA9d0B,EA8dV;MAC5BxgB,IAAF,CAAOwgB,cAAP,EAAuBjiB,EAAE8U,IAAF,CAAO,KAAKoN,gBAAZ,EAA8B,IAA9B,CAAvB;GA/dwC;kBAAA,4BAkezB7e,IAleyB,EAkenB;QACfO,sBAAsBP,KAAKK,WAAL,IAAoB,KAAKa,iBAAL,KAA2B,KAA3E;QACIX,mBAAJ,EAAyB;sBACPP,IAAhB,EAAsB,eAAtB,EAAuCA,IAAvC;;;SAGG2P,UAAL,CAAgB3P,IAAhB;;QAEIO,mBAAJ,EAAyB;WAClBF,WAAL,GAAmB,KAAnB;sBACgBL,IAAhB,EAAsB,QAAtB,EAAgCA,IAAhC;;GA5esC;;;;YAAA,sBAif/BA,IAjf+B,EAifzB;SACVwJ,GAAL,CAAS8C,QAAT,CAAkBtM,KAAKpC,EAAvB,EAA2BoC,KAAKoJ,GAAhC;GAlfwC;iBAAA,2BAqf1B6K,KArf0B,EAqfnB;QACjB,KAAKjD,OAAL,CAAa,CAACiD,MAAMpP,MAApB,CAAJ,EAAiC;WAC1BiS,cAAL;;;;SAIGT,iBAAL;;SAEK5W,aAAL,CAAmB,wBAAnB,EAA6C,IAA7C,EAAmDwU,KAAnD;;QAEM6K,MAAM,KAAKC,UAAL,CAAgB9K,KAAhB,CAAZ;;SAEK+K,eAAL,CAAqBF,GAArB,EAA0B7K,KAA1B;;SAEKxU,aAAL,CAAmB,iBAAnB,EAAsC,IAAtC,EAA4CwU,KAA5C;GAngBwC;iBAAA,2BAsgB1B6K,GAtgB0B,EAsgBrB7K,KAtgBqB,EAsgBd;QACpB7T,sBAAsB,KAAKC,WAAL,IAAoB,KAAKa,iBAAL,KAA2B,KAA3E;;YAEQd,sBAAsB6T,KAAtB,GAA8B,EAAtC;;MAEE7V,IAAF,CAAO6V,KAAP,EAAc,gBAAQ;UAChBjU,KAAKK,WAAT,EAAsB;;;sBACNL,IAAhB,EAAsB,eAAtB,EAAuCA,IAAvC;KAFF;;SAKKiP,UAAL,CAAgB6P,GAAhB;;MAEE1gB,IAAF,CAAO6V,KAAP,EAAc,gBAAQ;UAChBjU,KAAKK,WAAT,EAAsB;;;WACjBA,WAAL,GAAmB,IAAnB;sBACgBL,IAAhB,EAAsB,QAAtB,EAAgCA,IAAhC;KAHF;GAlhBwC;;;;YAAA,sBA0hB/BiU,KA1hB+B,EA0hBxB;;;QACVoE,WAAW,KAAK7O,GAAL,CAAS8O,YAAT,EAAjB;;MAEEla,IAAF,CAAO6V,KAAP,EAAc,gBAAQ;iBACTjU,IAAX;aACKwJ,GAAL,CAASkG,cAAT,CAAwB2I,QAAxB,EAAkCrY,KAAKpC,EAAvC,EAA2C,EAAC+M,YAAY3K,KAAKoJ,GAAlB,EAA3C;KAFF;;WAKOiP,QAAP;GAliBwC;;;;;YAAA,sBAuiB/ByG,GAviB+B,EAuiB1B;SACTtV,GAAL,CAASkG,cAAT,CAAwB,KAAK9R,EAA7B,EAAiCkhB,GAAjC,EAAsC,EAACpV,MAAM,KAAKN,GAAZ,EAAtC;GAxiBwC;gBAAA,0BA2iB3B0S,KA3iB2B,EA2iBpBC,KA3iBoB,EA2iBb;QACvB,CAAC,KAAKpG,QAAL,CAAc6H,OAAd,CAAsB1B,KAAtB,CAAD,IAAiC,CAAC,KAAKnG,QAAL,CAAc6H,OAAd,CAAsBzB,KAAtB,CAAtC,EAAoE;YAC5D,IAAIza,eAAJ,CAAoB;cAClB,gBADkB;iBAEf;OAFL,CAAN;;;SAMGqU,QAAL,CAAcsJ,KAAd,CAAoBnD,KAApB,EAA2BC,KAA3B;SACKvS,GAAL,CAAS0V,MAAT,CAAgBpD,MAAMle,EAAtB,EAA0Bme,MAAMne,EAAhC;;;QAGI,KAAK4L,GAAL,CAASmJ,KAAT,CAAe,KAAK/U,EAApB,EAAwBke,MAAMle,EAA9B,MAAsC,KAAK4L,GAAL,CAASmJ,KAAT,CAAe,KAAK/U,EAApB,EAAwBme,MAAMne,EAA9B,CAA1C,EAA6E;WACtEsY,MAAL;;;WAGK,IAAP;GA3jBwC;;;;cAAA,wBA+jB7BlW,IA/jB6B,EA+jBvB8U,KA/jBuB,EA+jBhB;QACpB,CAAC9U,IAAD,IAASA,KAAKkE,YAAlB,EAAgC;aACvBlE,IAAP;;;SAGGsW,SAAL,CAAetW,IAAf,EAAqB8U,KAArB;SACK4H,WAAL,GAAmB,CAAC1c,IAAD,CAAnB;SACK8c,aAAL;;WAEO9c,IAAP;GAxkBwC;;;;;iBAAA,2BA6kB1BA,IA7kB0B,EA6kBpB;SACfod,eAAL,CAAqBpd,IAArB,EAA2B,EAAEQ,cAAc,IAAhB,EAA3B;;WAEOR,IAAP;GAhlBwC;;;;;;iBAAA,2BAslB1BA,IAtlB0B,EAslBpB9B,OAtlBoB,EAslBX;QACzB,CAAC8B,IAAL,EAAW;aACFA,IAAP;;;SAGGiX,gBAAL,CAAsBjX,IAAtB,EAA4B9B,OAA5B;;SAEK+e,YAAL,CAAkBjd,IAAlB;;QAEI,KAAKgR,OAAL,EAAJ,EAAoB;WACb8F,cAAL;;;WAGK9W,IAAP;GAnmBwC;mBAAA,6BAsmBxBiU,KAtmBwB,EAsmBjB;MACrB7V,IAAF,CAAO6V,KAAP,EAActX,EAAE8U,IAAF,CAAO,KAAKwF,gBAAZ,EAA8B,IAA9B,CAAd;GAvmBwC;kBAAA,4BA0mBzBjX,IA1mByB,EA0mBE;oFAAJ,EAAI;QAApBQ,YAAoB,SAApBA,YAAoB;;SACrC4L,GAAL,CAAS,SAAT,EAAoB,KAAKgR,eAAzB,EAA0C,IAA1C;;QAEI5c,YAAJ,EAAkB;WACXqe,gBAAL,CAAsB7e,IAAtB;KADF,MAEO;WACAmf,iBAAL,CAAuBnf,IAAvB;;;SAGGsE,aAAL,CAAmBtE,IAAnB;GAnnBwC;mBAAA,6BAsnBxBA,IAtnBwB,EAsnBlB;QAClBA,KAAKkE,YAAT,EAAuB;;;;SAIlB6H,oBAAL,GAA4B,KAAK7K,iBAAL,KAA2B,KAAvD;gBACYlB,IAAZ;GA5nBwC;;;;iBAAA,6BAgoBxB;SACX6Y,gBAAL;SACKwD,WAAL,CAAiBxO,OAAjB;WACO,KAAK6O,WAAZ;GAnoBwC;;;;kBAAA,8BAuoBvB;QACb,CAAC,KAAK/G,QAAN,IAAkB,CAAC,KAAKA,QAAL,CAAc9Q,MAArC,EAA6C;;;;SAIxCpF,aAAL,CAAmB,yBAAnB,EAA8C,IAA9C;QACI,KAAKyB,iBAAL,KAA2B,KAA/B,EAAsC;WAC/BsI,GAAL,CAASyG,cAAT;;MAEA7R,IAAF,CAAO,KAAKuX,QAAL,CAAczB,MAArB,EAA6BvX,EAAE8U,IAAF,CAAO,KAAKwF,gBAAZ,EAA8B,IAA9B,CAA7B;SACKxX,aAAL,CAAmB,kBAAnB,EAAuC,IAAvC;;CAjpBmB,EAmpBpB;;CAnpBoB,CAAvB;;AAupBA9C,EAAEN,MAAF,CAAS6Y,iBAAepR,SAAxB,EAAmCgH,SAAnC;;AC3rBA;;;AAGA,AAMA,IAAMvH,iBAAe,CACnB,oBADmB,EAEnB,UAFmB,EAGnB,iBAHmB,CAArB;;;;;AASA,IAAM6b,gBAAgBlK,eAAe7Y,MAAf,CAAsB;;;;;;;aAAA,uBAO9B6B,OAP8B,EAOrB;cACT,2EAAV;;SAEKD,YAAL,CAAkBC,OAAlB,EAA2BqF,cAA3B;;mBAEeO,SAAf,CAAyBwO,WAAzB,CAAqClW,KAArC,CAA2C,IAA3C,EAAiDsB,SAAjD;GAZwC;;;;;;gBAAA,4BAkBzB;;;;;QAKX,KAAKuJ,UAAT,EAAqB;WACd+F,QAAL,CAAc,KAAK/F,UAAnB,EAA+B,KAA/B,EAAsC,KAAK2O,gBAA3C;WACK5I,QAAL,CAAc,KAAK/F,UAAnB,EAA+B,QAA/B,EAAyC,KAAK4O,mBAA9C;WACK7I,QAAL,CAAc,KAAK/F,UAAnB,EAA+B,OAA/B,EAAwC,KAAKoY,cAA7C;;UAEI,KAAKvJ,IAAT,EAAe;aACR9I,QAAL,CAAc,KAAK/F,UAAnB,EAA+B,MAA/B,EAAuC,KAAK8O,UAA5C;;;GA7BoC;;;;;;;;eAAA,yBAuC5B5V,KAvC4B,EAuCrB;QACfsa,YAAY,KAAKA,SAArB;;;;;;QAMI,CAACA,SAAL,EAAgB;aACP,KAAKnI,WAAZ;;;gBAGU,KAAKnE,QAAL,CAAcsM,SAAd,EAAyBta,KAAzB,CAAZ;;QAEI,CAACsa,SAAL,EAAgB;YACR,IAAInZ,eAAJ,CAAoB;cAClB,uBADkB;iBAEf;OAFL,CAAN;;;WAMKmZ,SAAP;GA3DwC;;;;eAAA,2BA+D1B;WACP,KAAKjI,cAAL,EAAP;GAhEwC;;;;QAAA,oBAoEjC;QACH,KAAKtO,YAAT,EAAuB;aAAS,IAAP;;SACpBob,YAAL,GAAoB,IAApB;SACKC,uBAAL;;SAEK9f,aAAL,CAAmB,eAAnB,EAAoC,IAApC;;SAEKuT,eAAL;SACKF,cAAL;SACKuM,cAAL;;SAEKC,YAAL,GAAoB,KAApB;SACK5e,WAAL,GAAmB,IAAnB;SACKjB,aAAL,CAAmB,QAAnB,EAA6B,IAA7B;WACO,IAAP;GAlFwC;gBAAA,4BAqFzB;QACX,KAAKiB,WAAL,IAAoB,KAAK4e,YAA7B,EAA2C;qBAC1Bxb,SAAf,CAAyBqT,eAAzB,CAAyCxX,IAAzC,CAA8C,IAA9C;;GAvFsC;;;;cAAA,wBA4F7B6f,aA5F6B,EA4FdzE,MA5Fc,EA4FN;QAC5B0E,aAAa,KAAKC,qBAAL,CAA2BF,aAA3B,CAAnB;SACKhW,GAAL,CAASkG,cAAT,CAAwB+P,WAAW,CAAX,CAAxB,EAAuC1E,MAAvC,EAA+C,EAACrR,MAAM+V,UAAP,EAA/C;GA9FwC;;;;;;cAAA,wBAoG7BhF,SApG6B,EAoGlB;QAChBgF,aAAa,KAAKC,qBAAL,CAA2B,IAA3B,EAAiCjF,SAAjC,CAAnB;SACKjR,GAAL,CAASkG,cAAT,CAAwB+P,WAAW,CAAX,CAAxB,EAAuChF,UAAU7c,EAAjD,EAAqD,EAAC8L,MAAM+V,UAAP,EAAmB9U,YAAY8P,UAAUrR,GAAzC,EAArD;GAtGwC;;;;;;0BAAA,oCA4GjBuM,QA5GiB,EA4GP;QAC3B8J,aAAa,KAAKC,qBAAL,CAA2B,IAA3B,CAAnB;SACKlW,GAAL,CAASkG,cAAT,CAAwB+P,WAAW,CAAX,CAAxB,EAAuC9J,QAAvC,EAAiD,EAACjM,MAAM+V,UAAP,EAAjD;GA9GwC;;;;;uBAAA,iCAmHpBE,aAnHoB,EAmHLlF,SAnHK,EAmHM;QAC1C,CAAC,CAACkF,cAAcC,mBAApB,EAAyC;aAChCD,cAAcC,mBAArB;;;QAGEC,kBAAJ;QACMC,qBAAqBH,cAAcG,kBAAzC;QACIA,kBAAJ,EAAwB;;UAEhBvY,WAAW5K,EAAEiD,MAAF,CAAS+f,aAAT,EAAwB,oBAAxB,CAAjB;;UAEIpY,SAASwY,MAAT,CAAgB,CAAhB,MAAuB,GAAvB,IAA8BJ,cAAcvX,EAAhD,EAAoD;oBACtCuX,cAAcvX,EAAd,CAAiBb,SAASyY,MAAT,CAAgB,CAAhB,CAAjB,CAAZ;OADF,MAEO;oBACO,KAAK7a,CAAL,CAAOoC,QAAP,CAAZ;;;UAGEsY,UAAUhb,MAAV,IAAoB,CAAxB,EAA2B;cACnB,IAAIvD,eAAJ,CAAoB;gBAClB,gCADkB;0EAEsCqe,cAAcG;SAFxE,CAAN;;KAXJ,MAiBO;kBACOH,cAAcvW,GAA1B;;;kBAGYwW,mBAAd,GAAoCC,SAApC;WACOA,SAAP;GAhJwC;;;;yBAAA,qCAoJhB;QACpB,KAAKD,mBAAT,EAA8B;WACvBA,mBAAL,GAA2B1iB,SAA3B;;;CAtJgB,CAAtB;;;;AA6JA,IAAM+iB,gBAAgBtjB,EAAE+E,IAAF,CAAO+J,KAAK3H,SAAZ,EAAuB,gBAAvB,EAAyC,aAAzC,EAAwD,iBAAxD,EAA2E,aAA3E,EAA0F,sBAA1F,EAAkH,iBAAlH,CAAtB;AACAnH,EAAEN,MAAF,CAAS+iB,cAActb,SAAvB,EAAkCmc,aAAlC;;AChLA;;;;;;;;AAQA,AAQA,IAAM1c,iBAAe,CACnB,kBADmB,EAEnB,QAFmB,EAGnB,aAHmB,EAInB,UAJmB,EAKnB,IALmB,CAArB;;AAQA,IAAM2c,WAAW1c,iBAAiBnH,MAAjB,CAAwB;aAC5B,KAD4B;;aAAA,uBAG3B6B,OAH2B,EAGlB8B,IAHkB,EAGZ;;;;;SAKpBA,IAAL,GAAYA,IAAZ;;QAEI,KAAKsQ,QAAT,EAAmB;gBACP,gGAAV;;;SAGGA,QAAL,GAAgB3T,EAAEiV,KAAF,CAAQjV,EAAEiD,MAAF,CAAS,IAAT,EAAe,UAAf,EAA2B,EAA3B,CAAR,CAAhB;;SAEK8D,WAAL,CAAiB,KAAK4M,QAAtB,EAAgCpS,OAAhC;SACKD,YAAL,CAAkB,KAAKC,OAAvB,EAAgCqF,cAAhC;;;;;;;;;;SAUK6E,EAAL,GAAUzL,EAAEN,MAAF,CAAS,EAAT,EAAaM,EAAEiD,MAAF,CAAS,IAAT,EAAe,IAAf,CAAb,EAAmCjD,EAAEiD,MAAF,CAASI,IAAT,EAAe,IAAf,CAAnC,CAAV;;qBAEiB5D,KAAjB,CAAuB,IAAvB,EAA6BsB,SAA7B;GA7BqC;;;;;;GAAA,eAmCnC;WACK,KAAKsC,IAAL,CAAUmF,CAAV,CAAY/I,KAAZ,CAAkB,KAAK4D,IAAvB,EAA6BtC,SAA7B,CAAP;GApCqC;;;;;SAAA,qBAyC7B;SACH4G,aAAL;;SAEKtE,IAAL,CAAUmgB,eAAV,CAA0B,IAA1B;;WAEO,IAAP;GA9CqC;qBAAA,iCAiDjB;SACf/W,GAAL,GAAW,KAAKpJ,IAAL,CAAUoJ,GAArB;SACKxL,EAAL,GAAU,KAAKoC,IAAL,CAAUpC,EAApB;;WAEO,IAAP;GArDqC;gBAAA,4BAwDtB;SACV2O,eAAL;;WAEO,IAAP;GA3DqC;kBAAA,8BA8DpB;SACZE,iBAAL;;WAEO,IAAP;GAjEqC;OAAA,iBAoEjC5N,IApEiC,EAoE3B;WACH,KAAK8N,MAAL,CAAY9N,IAAZ,CAAP;GArEqC;;;;sBAAA,kCAyEhB;SAChB+M,qBAAL,CAA2B,KAAK5L,IAAL,CAAUgH,KAArC,EAA4C,KAAKhH,IAAL,CAAUiH,UAAtD;;WAEO,IAAP;GA5EqC;wBAAA,oCA+Ed;SAClBC,uBAAL,CAA6B,KAAKlH,IAAL,CAAUgH,KAAvC,EAA8C,KAAKhH,IAAL,CAAUiH,UAAxD;;WAEO,IAAP;GAlFqC;WAAA,uBAqF3B;;;;;QAGJmZ,iBAAiB,KAAKjY,eAAL,CAAqBxL,EAAEiD,MAAF,CAAS,IAAT,EAAe,QAAf,CAArB,CAAvB;;;WAGOjD,EAAEgC,MAAF,CAASyhB,cAAT,EAAyB,UAACvZ,MAAD,EAASwZ,eAAT,EAA0BhiB,GAA1B,EAAkC;UAC5D,CAAC1B,EAAEmC,UAAF,CAAauhB,eAAb,CAAL,EAAoC;0BAChB,MAAKA,eAAL,CAAlB;;UAEE,CAACA,eAAL,EAAsB;;;YAChB7Y,mBAAmBnJ,GAAnB,CAAN;aACOA,GAAP,IAAc1B,EAAE8U,IAAF,CAAO4O,eAAP,QAAd;aACOxZ,MAAP;KAPK,EAQJ,EARI,CAAP;GA3FqC;;;;aAAA,yBAuGzB;QACR,CAAC,KAAKJ,QAAV,EAAoB;;;;;;QAId6Z,mBAAmB,KAAKnY,eAAL,CAAqBxL,EAAEiD,MAAF,CAAS,IAAT,EAAe,UAAf,CAArB,CAAzB;;WAEO,KAAK+L,gBAAL,CAAsB,KAAK3L,IAA3B,EAAiCsgB,gBAAjC,CAAP;;CA9Ga,CAAjB;;AAmHA3jB,EAAEN,MAAF,CAAS6jB,SAASpc,SAAlB,EAA6BwJ,yBAA7B,EAAwDC,aAAxD,EAAuEC,OAAvE;;AC3IA;;AAEA,AAIA,IAAMjK,iBAAe,CACnB,QADmB,EAEnB,aAFmB,CAArB;;;AAMA,IAAMgd,cAAc/c,iBAAiBnH,MAAjB,CAAwB;aAC/B,KAD+B;;aAAA,uBAG9B6B,OAH8B,EAGrB;SACdwF,WAAL,CAAiBxF,OAAjB;;SAEKD,YAAL,CAAkBC,OAAlB,EAA2BqF,cAA3B;;SAEKid,WAAL;;qBAEiB1c,SAAjB,CAA2BwO,WAA3B,CAAuClW,KAAvC,CAA6C,IAA7C,EAAmDsB,SAAnD;GAVwC;;;eAa7BsQ,MAb6B;;aAAA,yBAe5B;QACNsD,SAAS,KAAKA,MAApB;;QAEI,CAACA,MAAL,EAAa;;;;QAEPhB,WAAW;mBACF,KAAKI;KADpB;;SAIK+P,OAAL,GAAerP,YAAYE,MAAZ,EAAoBhB,QAApB,CAAf;GAxBwC;WAAA,uBA2B9B;WACH,KAAKmQ,OAAZ;GA5BwC;UAAA,oBA+BjCzgB,IA/BiC,EA+BlB;QAChBsR,SAAS,KAAKK,SAAL,EAAf;;sCADgBxV,IAAM;UAAA;;;WAEfmV,OAAOO,IAAP,gBAAY7R,IAAZ,SAAqB7D,IAArB,EAAP;GAjCwC;SAAA,qBAoChC;WACD,KAAKwV,SAAL,GAAiBvD,WAAxB;GArCwC;;;;OAAA,iBAyCpClQ,OAzCoC,EAyC3B;SACRuB,aAAL,CAAmB,cAAnB,EAAmC,IAAnC,EAAyCvB,OAAzC;SACKuB,aAAL,CAAmB,OAAnB,EAA4B,IAA5B,EAAkCvB,OAAlC;WACO,IAAP;;CA5CgB,CAApB;;ACZA;;;;;;;;;;;;;;;;;;;AAmBA,AAMA,IAAMqF,iBAAe,CACnB,WADmB,EAEnB,YAFmB,CAArB;;AAKA,IAAMmd,YAAYpkB,SAASqkB,MAAT,CAAgBtkB,MAAhB,CAAuB;aAAA,uBAE3B6B,OAF2B,EAElB;SACdwF,WAAL,CAAiBxF,OAAjB;;SAEKD,YAAL,CAAkBC,OAAlB,EAA2BqF,cAA3B;;aAESod,MAAT,CAAgBvkB,KAAhB,CAAsB,IAAtB,EAA4BsB,SAA5B;;QAEMkjB,YAAY,KAAKA,SAAvB;QACMC,aAAa,KAAKC,cAAL,EAAnB;SACKC,gBAAL,CAAsBF,UAAtB,EAAkCD,SAAlC;SACKxf,EAAL,CAAQ,OAAR,EAAiB,KAAK4f,eAAtB,EAAuC,IAAvC;GAZqC;;;;;UAAA,oBAiB9BC,KAjB8B,EAiBvBvhB,UAjBuB,EAiBX;QACpBmhB,aAAa,KAAKC,cAAL,EAAnB;SACKI,YAAL,CAAkBL,UAAlB,EAA8BI,KAA9B,EAAqCvhB,UAArC;WACO,IAAP;GApBqC;;;;;iBAAA,2BAyBvByhB,SAzBuB,EAyBZC,SAzBY,EAyBD;;QAEhCzkB,EAAEmC,UAAF,CAAa,KAAKuiB,OAAlB,CAAJ,EAAgC;;UAExBC,YAAY3kB,EAAE4kB,MAAF,CAAS,KAAKX,SAAd,EAAyBO,SAAzB,CAAlB;WACKE,OAAL,CAAaF,SAAb,EAAwBG,SAAxB,EAAmCF,SAAnC;;GA9BmC;;;;;;kBAAA,4BAqCtBP,UArCsB,EAqCVD,SArCU,EAqCC;;;QAClC,CAACA,SAAL,EAAgB;aAAS,IAAP;;;QAEZY,aAAa7kB,EAAEwB,IAAF,CAAOyiB,SAAP,EAAkBa,OAAlB,EAAnB,CAHsC;;MAKpCrjB,IAAF,CAAOojB,UAAP,EAAmB,iBAAS;YACrBN,YAAL,CAAkBL,UAAlB,EAA8BI,KAA9B,EAAqCL,UAAUK,KAAV,CAArC;KADF;;WAIO,IAAP;GA9CqC;gBAAA,4BAiDtB;WACR,KAAKJ,UAAZ;GAlDqC;cAAA,wBAqD1BA,UArD0B,EAqDdI,KArDc,EAqDPvhB,UArDO,EAqDK;QACpCzD,SAAS4kB,WAAWnhB,UAAX,CAAf;;QAEI,CAACzD,MAAL,EAAa;YACL,IAAIqF,eAAJ,cAA+B5B,UAA/B,uCAAN;;;SAGGuhB,KAAL,CAAWA,KAAX,EAAkBvhB,UAAlB,EAA8B/C,EAAE8U,IAAF,CAAOxV,MAAP,EAAe4kB,UAAf,CAA9B;GA5DqC;;;iBA+DxBphB;CA/DC,CAAlB;;AAkEA9C,EAAEN,MAAF,CAASqkB,UAAU5c,SAAnB,EAA8BE,WAA9B;;AC9FA;;;;;;;;;AASA,AAAe,SAAS2B,eAAT,GAA2B;QAClC,IAAIrE,eAAJ,CAAoB;aACf,kDADe;SAEnB;GAFD,CAAN;;;ACuCF,IAAMogB,qBAAqBplB,SAASU,UAApC;AACA,IAAMA,aAAaV,SAASU,UAAT,GAAsB,EAAzC;;;;;;AAMAA,WAAW2kB,UAAX,GAAwB,YAAW;WACxB3kB,UAAT,GAAsB0kB,kBAAtB;SACO,IAAP;CAFF;;;AAMA1kB,WAAWwF,UAAX,GAAwBxG,MAAMwG,UAAN,CAAxB;AACAxF,WAAWyF,YAAX,GAA0BzG,MAAMyG,YAAN,CAA1B;AACAzF,WAAW6F,YAAX,GAA0B7G,MAAM6G,YAAN,CAA1B;AACA7F,WAAW8F,cAAX,GAA4B9G,MAAM8G,cAAN,CAA5B;AACA9F,WAAWiB,YAAX,GAA0BjC,MAAMiC,YAAN,CAA1B;AACAjB,WAAWuB,SAAX,GAAuBvC,MAAMuC,SAAN,CAAvB;AACAvB,WAAWyB,gBAAX,GAA8BzC,MAAMyC,gBAAN,CAA9B;AACAzB,WAAWX,MAAX,GAAoBA,MAApB;AACAW,WAAWW,cAAX,GAA4BA,cAA5B;AACAX,WAAWR,SAAX,GAAuBA,SAAvB;AACAQ,WAAWyC,aAAX,GAA2BzD,MAAMyD,aAAN,CAA3B;AACAzC,WAAW8C,eAAX,GAA6BA,eAA7B;AACA9C,WAAW0K,SAAX,GAAuBA,SAAvB;AACA1K,WAAW2K,UAAX,GAAwBA,UAAxB;AACA3K,WAAWkE,iBAAX,GAA+BA,iBAA/B;;AAEAlE,WAAW0I,SAAX,GAAuB,EAAvB;AACA1I,WAAW0I,SAAX,CAAqBC,eAArB,GAAuCA,eAAvC;;;AAGA3I,WAAWujB,WAAX,GAAyBA,WAAzB;AACAvjB,WAAW0jB,SAAX,GAAuBA,SAAvB;AACA1jB,WAAW+U,QAAX,GAAsBA,QAAtB;AACA/U,WAAWuH,aAAX,GAA2BA,aAA3B;AACAvH,WAAWyO,IAAX,GAAkBA,IAAlB;AACAzO,WAAWkY,cAAX,GAA4BA,cAA5B;AACAlY,WAAW4kB,kBAAX,GAAgCA,gBAAhC;AACA5kB,WAAWoiB,aAAX,GAA2BA,aAA3B;AACApiB,WAAWkjB,QAAX,GAAsBA,QAAtB;AACAljB,WAAWgR,MAAX,GAAoBA,MAApB;AACAhR,WAAWuE,KAAX,GAAmBD,eAAnB;AACAtE,WAAW6kB,MAAX,GAAoBre,gBAApB;;;AAGAxG,WAAWC,QAAX,GAAsB,KAAtB;AACAD,WAAWyK,QAAX,GAAsBA,QAAtB;AACAzK,WAAW8kB,OAAX,GAAqBtgB,OAArB;AACAxE,WAAW+N,MAAX,GAAoBA,MAApB;AACA/N,WAAWsM,SAAX,GAAuB,UAASC,KAAT,EAAgB;iBACtBD,SAAf,CAAyBC,KAAzB;gBACcD,SAAd,CAAwBC,KAAxB;mBACmBD,SAAnB,CAA6BC,KAA7B;SACOD,SAAP,CAAiBC,KAAjB;OACKD,SAAL,CAAeC,KAAf;CALF;;;;;;;;;;;","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYXVsZmFsZ291dC9Qcm9qZWN0cy9iYWNrYm9uZS5tYXJpb25ldHRlL3NyYy91dGlscy9wcm94eS5qcyIsIi9Vc2Vycy9wYXVsZmFsZ291dC9Qcm9qZWN0cy9iYWNrYm9uZS5tYXJpb25ldHRlL3NyYy91dGlscy9leHRlbmQuanMiLCIvVXNlcnMvcGF1bGZhbGdvdXQvUHJvamVjdHMvYmFja2JvbmUubWFyaW9uZXR0ZS9zcmMvdXRpbHMvZGVwcmVjYXRlLmpzIiwiL1VzZXJzL3BhdWxmYWxnb3V0L1Byb2plY3RzL2JhY2tib25lLm1hcmlvbmV0dGUvc3JjL2NvbW1vbi9pcy1ub2RlLWF0dGFjaGVkLmpzIiwiL1VzZXJzL3BhdWxmYWxnb3V0L1Byb2plY3RzL2JhY2tib25lLm1hcmlvbmV0dGUvc3JjL2NvbW1vbi9tZXJnZS1vcHRpb25zLmpzIiwiL1VzZXJzL3BhdWxmYWxnb3V0L1Byb2plY3RzL2JhY2tib25lLm1hcmlvbmV0dGUvc3JjL2NvbW1vbi9nZXQtb3B0aW9uLmpzIiwiL1VzZXJzL3BhdWxmYWxnb3V0L1Byb2plY3RzL2JhY2tib25lLm1hcmlvbmV0dGUvc3JjL2NvbW1vbi9ub3JtYWxpemUtbWV0aG9kcy5qcyIsIi9Vc2Vycy9wYXVsZmFsZ291dC9Qcm9qZWN0cy9iYWNrYm9uZS5tYXJpb25ldHRlL3NyYy9jb21tb24vdHJpZ2dlci1tZXRob2QuanMiLCIvVXNlcnMvcGF1bGZhbGdvdXQvUHJvamVjdHMvYmFja2JvbmUubWFyaW9uZXR0ZS9zcmMvY29tbW9uL21vbml0b3Itdmlldy1ldmVudHMuanMiLCIvVXNlcnMvcGF1bGZhbGdvdXQvUHJvamVjdHMvYmFja2JvbmUubWFyaW9uZXR0ZS9zcmMvZXJyb3IuanMiLCIvVXNlcnMvcGF1bGZhbGdvdXQvUHJvamVjdHMvYmFja2JvbmUubWFyaW9uZXR0ZS9zcmMvY29tbW9uL2JpbmQtZXZlbnRzLmpzIiwiL1VzZXJzL3BhdWxmYWxnb3V0L1Byb2plY3RzL2JhY2tib25lLm1hcmlvbmV0dGUvc3JjL2NvbW1vbi9iaW5kLXJlcXVlc3RzLmpzIiwiL1VzZXJzL3BhdWxmYWxnb3V0L1Byb2plY3RzL2JhY2tib25lLm1hcmlvbmV0dGUvc3JjL3V0aWxzL3NldC1vcHRpb25zLmpzIiwiL1VzZXJzL3BhdWxmYWxnb3V0L1Byb2plY3RzL2JhY2tib25lLm1hcmlvbmV0dGUvc3JjL21peGlucy9jb21tb24uanMiLCIvVXNlcnMvcGF1bGZhbGdvdXQvUHJvamVjdHMvYmFja2JvbmUubWFyaW9uZXR0ZS9zcmMvbWl4aW5zL3JhZGlvLmpzIiwiL1VzZXJzL3BhdWxmYWxnb3V0L1Byb2plY3RzL2JhY2tib25lLm1hcmlvbmV0dGUvc3JjL29iamVjdC5qcyIsIi9Vc2Vycy9wYXVsZmFsZ291dC9Qcm9qZWN0cy9iYWNrYm9uZS5tYXJpb25ldHRlL3NyYy90ZW1wbGF0ZS1jYWNoZS5qcyIsIi9Vc2Vycy9wYXVsZmFsZ291dC9Qcm9qZWN0cy9iYWNrYm9uZS5tYXJpb25ldHRlL3NyYy91dGlscy9pbnZva2UuanMiLCIvVXNlcnMvcGF1bGZhbGdvdXQvUHJvamVjdHMvYmFja2JvbmUubWFyaW9uZXR0ZS9zcmMvbWl4aW5zL2JlaGF2aW9ycy5qcyIsIi9Vc2Vycy9wYXVsZmFsZ291dC9Qcm9qZWN0cy9iYWNrYm9uZS5tYXJpb25ldHRlL3NyYy9taXhpbnMvZGVsZWdhdGUtZW50aXR5LWV2ZW50cy5qcyIsIi9Vc2Vycy9wYXVsZmFsZ291dC9Qcm9qZWN0cy9iYWNrYm9uZS5tYXJpb25ldHRlL3NyYy91dGlscy9nZXQtdW5pcXVlLWV2ZW50LW5hbWUuanMiLCIvVXNlcnMvcGF1bGZhbGdvdXQvUHJvamVjdHMvYmFja2JvbmUubWFyaW9uZXR0ZS9zcmMvY29uZmlnL2ZlYXR1cmVzLmpzIiwiL1VzZXJzL3BhdWxmYWxnb3V0L1Byb2plY3RzL2JhY2tib25lLm1hcmlvbmV0dGUvc3JjL21peGlucy90cmlnZ2Vycy5qcyIsIi9Vc2Vycy9wYXVsZmFsZ291dC9Qcm9qZWN0cy9iYWNrYm9uZS5tYXJpb25ldHRlL3NyYy9taXhpbnMvdWkuanMiLCIvVXNlcnMvcGF1bGZhbGdvdXQvUHJvamVjdHMvYmFja2JvbmUubWFyaW9uZXR0ZS9zcmMvY29uZmlnL2RvbS5qcyIsIi9Vc2Vycy9wYXVsZmFsZ291dC9Qcm9qZWN0cy9iYWNrYm9uZS5tYXJpb25ldHRlL3NyYy9taXhpbnMvdmlldy5qcyIsIi9Vc2Vycy9wYXVsZmFsZ291dC9Qcm9qZWN0cy9iYWNrYm9uZS5tYXJpb25ldHRlL3NyYy9jb21tb24vdmlldy5qcyIsIi9Vc2Vycy9wYXVsZmFsZ291dC9Qcm9qZWN0cy9iYWNrYm9uZS5tYXJpb25ldHRlL3NyYy9yZWdpb24uanMiLCIvVXNlcnMvcGF1bGZhbGdvdXQvUHJvamVjdHMvYmFja2JvbmUubWFyaW9uZXR0ZS9zcmMvY29tbW9uL2J1aWxkLXJlZ2lvbi5qcyIsIi9Vc2Vycy9wYXVsZmFsZ291dC9Qcm9qZWN0cy9iYWNrYm9uZS5tYXJpb25ldHRlL3NyYy9taXhpbnMvcmVnaW9ucy5qcyIsIi9Vc2Vycy9wYXVsZmFsZ291dC9Qcm9qZWN0cy9iYWNrYm9uZS5tYXJpb25ldHRlL3NyYy9jb25maWcvcmVuZGVyZXIuanMiLCIvVXNlcnMvcGF1bGZhbGdvdXQvUHJvamVjdHMvYmFja2JvbmUubWFyaW9uZXR0ZS9zcmMvdmlldy5qcyIsIi9Vc2Vycy9wYXVsZmFsZ291dC9Qcm9qZWN0cy9iYWNrYm9uZS5tYXJpb25ldHRlL3NyYy91dGlscy9lbXVsYXRlLWNvbGxlY3Rpb24uanMiLCIvVXNlcnMvcGF1bGZhbGdvdXQvUHJvamVjdHMvYmFja2JvbmUubWFyaW9uZXR0ZS9zcmMvY2hpbGQtdmlldy1jb250YWluZXIuanMiLCIvVXNlcnMvcGF1bGZhbGdvdXQvUHJvamVjdHMvYmFja2JvbmUubWFyaW9uZXR0ZS9zcmMvY29sbGVjdGlvbi12aWV3LmpzIiwiL1VzZXJzL3BhdWxmYWxnb3V0L1Byb2plY3RzL2JhY2tib25lLm1hcmlvbmV0dGUvc3JjL25leHQtY2hpbGQtdmlldy1jb250YWluZXIuanMiLCIvVXNlcnMvcGF1bGZhbGdvdXQvUHJvamVjdHMvYmFja2JvbmUubWFyaW9uZXR0ZS9zcmMvbmV4dC1jb2xsZWN0aW9uLXZpZXcuanMiLCIvVXNlcnMvcGF1bGZhbGdvdXQvUHJvamVjdHMvYmFja2JvbmUubWFyaW9uZXR0ZS9zcmMvY29tcG9zaXRlLXZpZXcuanMiLCIvVXNlcnMvcGF1bGZhbGdvdXQvUHJvamVjdHMvYmFja2JvbmUubWFyaW9uZXR0ZS9zcmMvYmVoYXZpb3IuanMiLCIvVXNlcnMvcGF1bGZhbGdvdXQvUHJvamVjdHMvYmFja2JvbmUubWFyaW9uZXR0ZS9zcmMvYXBwbGljYXRpb24uanMiLCIvVXNlcnMvcGF1bGZhbGdvdXQvUHJvamVjdHMvYmFja2JvbmUubWFyaW9uZXR0ZS9zcmMvYXBwLXJvdXRlci5qcyIsIi9Vc2Vycy9wYXVsZmFsZ291dC9Qcm9qZWN0cy9iYWNrYm9uZS5tYXJpb25ldHRlL3NyYy9jb25maWcvYmVoYXZpb3JzLWxvb2t1cC5qcyIsIi9Vc2Vycy9wYXVsZmFsZ291dC9Qcm9qZWN0cy9iYWNrYm9uZS5tYXJpb25ldHRlL3NyYy9iYWNrYm9uZS5tYXJpb25ldHRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vSW50ZXJuYWwgdXRpbGl0eSBmb3IgY3JlYXRpbmcgY29udGV4dCBzdHlsZSBnbG9iYWwgdXRpbHNcbmNvbnN0IHByb3h5ID0gZnVuY3Rpb24obWV0aG9kKSB7XG4gIHJldHVybiBmdW5jdGlvbihjb250ZXh0LCAuLi5hcmdzKSB7XG4gICAgcmV0dXJuIG1ldGhvZC5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHByb3h5O1xuIiwiLy8gTWFyaW9uZXR0ZS5leHRlbmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tXG5cbmltcG9ydCBCYWNrYm9uZSBmcm9tICdiYWNrYm9uZSc7XG5cbi8vIEJvcnJvdyB0aGUgQmFja2JvbmUgYGV4dGVuZGAgbWV0aG9kIHNvIHdlIGNhbiB1c2UgaXQgYXMgbmVlZGVkXG5jb25zdCBleHRlbmQgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQ7XG5cbmV4cG9ydCBkZWZhdWx0IGV4dGVuZDtcbiIsIi8qIGdsb2JhbCBjb25zb2xlICovXG5cbmltcG9ydCBfIGZyb20gJ3VuZGVyc2NvcmUnO1xuXG5pbXBvcnQgTWFyaW9uZXR0ZSBmcm9tICcuLi9iYWNrYm9uZS5tYXJpb25ldHRlJztcblxuY29uc3QgZGVwcmVjYXRlID0gZnVuY3Rpb24obWVzc2FnZSwgdGVzdCkge1xuICBpZiAoXy5pc09iamVjdChtZXNzYWdlKSkge1xuICAgIG1lc3NhZ2UgPSAoXG4gICAgICBtZXNzYWdlLnByZXYgKyAnIGlzIGdvaW5nIHRvIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS4gJyArXG4gICAgICAnUGxlYXNlIHVzZSAnICsgbWVzc2FnZS5uZXh0ICsgJyBpbnN0ZWFkLicgK1xuICAgICAgKG1lc3NhZ2UudXJsID8gJyBTZWU6ICcgKyBtZXNzYWdlLnVybCA6ICcnKVxuICAgICk7XG4gIH1cblxuICBpZiAoIU1hcmlvbmV0dGUuREVWX01PREUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoKHRlc3QgPT09IHVuZGVmaW5lZCB8fCAhdGVzdCkgJiYgIWRlcHJlY2F0ZS5fY2FjaGVbbWVzc2FnZV0pIHtcbiAgICBkZXByZWNhdGUuX3dhcm4oJ0RlcHJlY2F0aW9uIHdhcm5pbmc6ICcgKyBtZXNzYWdlKTtcbiAgICBkZXByZWNhdGUuX2NhY2hlW21lc3NhZ2VdID0gdHJ1ZTtcbiAgfVxufTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IGNhbid0IGNsZWFyIGNvbnNvbGUgKi9cbmRlcHJlY2F0ZS5fY29uc29sZSA9IHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyA/IGNvbnNvbGUgOiB7fTtcbmRlcHJlY2F0ZS5fd2FybiA9IGZ1bmN0aW9uKCkge1xuICBjb25zdCB3YXJuID0gZGVwcmVjYXRlLl9jb25zb2xlLndhcm4gfHwgZGVwcmVjYXRlLl9jb25zb2xlLmxvZyB8fCBfLm5vb3A7XG4gIHJldHVybiB3YXJuLmFwcGx5KGRlcHJlY2F0ZS5fY29uc29sZSwgYXJndW1lbnRzKTtcbn07XG5kZXByZWNhdGUuX2NhY2hlID0ge307XG5cbmV4cG9ydCBkZWZhdWx0IGRlcHJlY2F0ZTtcbiIsIi8vIE1hcmlvbmV0dGUuaXNOb2RlQXR0YWNoZWRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8gRGV0ZXJtaW5lIGlmIGBlbGAgaXMgYSBjaGlsZCBvZiB0aGUgZG9jdW1lbnRcbmNvbnN0IGlzTm9kZUF0dGFjaGVkID0gZnVuY3Rpb24oZWwpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jb250YWlucyhlbCAmJiBlbC5wYXJlbnROb2RlKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGlzTm9kZUF0dGFjaGVkO1xuIiwiaW1wb3J0IF8gZnJvbSAndW5kZXJzY29yZSc7XG5cbi8vIE1lcmdlIGBrZXlzYCBmcm9tIGBvcHRpb25zYCBvbnRvIGB0aGlzYFxuY29uc3QgbWVyZ2VPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucywga2V5cykge1xuICBpZiAoIW9wdGlvbnMpIHsgcmV0dXJuOyB9XG5cbiAgXy5lYWNoKGtleXMsIChrZXkpID0+IHtcbiAgICBjb25zdCBvcHRpb24gPSBvcHRpb25zW2tleV07XG4gICAgaWYgKG9wdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzW2tleV0gPSBvcHRpb247XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IG1lcmdlT3B0aW9ucztcbiIsIi8vIE1hcmlvbmV0dGUuZ2V0T3B0aW9uXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyBSZXRyaWV2ZSBhbiBvYmplY3QsIGZ1bmN0aW9uIG9yIG90aGVyIHZhbHVlIGZyb20gdGhlXG4vLyBvYmplY3Qgb3IgaXRzIGBvcHRpb25zYCwgd2l0aCBgb3B0aW9uc2AgdGFraW5nIHByZWNlZGVuY2UuXG5jb25zdCBnZXRPcHRpb24gPSBmdW5jdGlvbihvcHRpb25OYW1lKSB7XG4gIGlmICghb3B0aW9uTmFtZSkgeyByZXR1cm47IH1cbiAgaWYgKHRoaXMub3B0aW9ucyAmJiAodGhpcy5vcHRpb25zW29wdGlvbk5hbWVdICE9PSB1bmRlZmluZWQpKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9uc1tvcHRpb25OYW1lXTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdGhpc1tvcHRpb25OYW1lXTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZ2V0T3B0aW9uO1xuIiwiaW1wb3J0IF8gZnJvbSAndW5kZXJzY29yZSc7XG5cbi8vIE1hcmlvbmV0dGUubm9ybWFsaXplTWV0aG9kc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyBQYXNzIGluIGEgbWFwcGluZyBvZiBldmVudHMgPT4gZnVuY3Rpb25zIG9yIGZ1bmN0aW9uIG5hbWVzXG4vLyBhbmQgcmV0dXJuIGEgbWFwcGluZyBvZiBldmVudHMgPT4gZnVuY3Rpb25zXG5jb25zdCBub3JtYWxpemVNZXRob2RzID0gZnVuY3Rpb24oaGFzaCkge1xuICByZXR1cm4gXy5yZWR1Y2UoaGFzaCwgKG5vcm1hbGl6ZWRIYXNoLCBtZXRob2QsIG5hbWUpID0+IHtcbiAgICBpZiAoIV8uaXNGdW5jdGlvbihtZXRob2QpKSB7XG4gICAgICBtZXRob2QgPSB0aGlzW21ldGhvZF07XG4gICAgfVxuICAgIGlmIChtZXRob2QpIHtcbiAgICAgIG5vcm1hbGl6ZWRIYXNoW25hbWVdID0gbWV0aG9kO1xuICAgIH1cbiAgICByZXR1cm4gbm9ybWFsaXplZEhhc2g7XG4gIH0sIHt9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IG5vcm1hbGl6ZU1ldGhvZHM7XG4iLCIvLyBUcmlnZ2VyIE1ldGhvZFxuLy8gLS0tLS0tLS0tLS0tLS1cblxuaW1wb3J0IF8gZnJvbSAndW5kZXJzY29yZSc7XG5pbXBvcnQgZ2V0T3B0aW9uIGZyb20gJy4vZ2V0LW9wdGlvbic7XG5cbi8vIHNwbGl0IHRoZSBldmVudCBuYW1lIG9uIHRoZSBcIjpcIlxuY29uc3Qgc3BsaXR0ZXIgPSAvKF58OikoXFx3KS9naTtcblxuLy8gdGFrZSB0aGUgZXZlbnQgc2VjdGlvbiAoXCJzZWN0aW9uMTpzZWN0aW9uMjpzZWN0aW9uM1wiKVxuLy8gYW5kIHR1cm4gaXQgaW4gdG8gdXBwZXJjYXNlIG5hbWUgb25TZWN0aW9uMVNlY3Rpb24yU2VjdGlvbjNcbmZ1bmN0aW9uIGdldEV2ZW50TmFtZShtYXRjaCwgcHJlZml4LCBldmVudE5hbWUpIHtcbiAgcmV0dXJuIGV2ZW50TmFtZS50b1VwcGVyQ2FzZSgpO1xufVxuXG5jb25zdCBnZXRPbk1ldGhvZE5hbWUgPSBfLm1lbW9pemUoZnVuY3Rpb24oZXZlbnQpIHtcbiAgcmV0dXJuICdvbicgKyBldmVudC5yZXBsYWNlKHNwbGl0dGVyLCBnZXRFdmVudE5hbWUpO1xufSk7XG5cbi8vIFRyaWdnZXIgYW4gZXZlbnQgYW5kL29yIGEgY29ycmVzcG9uZGluZyBtZXRob2QgbmFtZS4gRXhhbXBsZXM6XG4vL1xuLy8gYHRoaXMudHJpZ2dlck1ldGhvZChcImZvb1wiKWAgd2lsbCB0cmlnZ2VyIHRoZSBcImZvb1wiIGV2ZW50IGFuZFxuLy8gY2FsbCB0aGUgXCJvbkZvb1wiIG1ldGhvZC5cbi8vXG4vLyBgdGhpcy50cmlnZ2VyTWV0aG9kKFwiZm9vOmJhclwiKWAgd2lsbCB0cmlnZ2VyIHRoZSBcImZvbzpiYXJcIiBldmVudCBhbmRcbi8vIGNhbGwgdGhlIFwib25Gb29CYXJcIiBtZXRob2QuXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlck1ldGhvZChldmVudCwgLi4uYXJncykge1xuICAvLyBnZXQgdGhlIG1ldGhvZCBuYW1lIGZyb20gdGhlIGV2ZW50IG5hbWVcbiAgY29uc3QgbWV0aG9kTmFtZSA9IGdldE9uTWV0aG9kTmFtZShldmVudCk7XG4gIGNvbnN0IG1ldGhvZCA9IGdldE9wdGlvbi5jYWxsKHRoaXMsIG1ldGhvZE5hbWUpO1xuICBsZXQgcmVzdWx0O1xuXG4gIC8vIGNhbGwgdGhlIG9uTWV0aG9kTmFtZSBpZiBpdCBleGlzdHNcbiAgaWYgKF8uaXNGdW5jdGlvbihtZXRob2QpKSB7XG4gICAgLy8gcGFzcyBhbGwgYXJncywgZXhjZXB0IHRoZSBldmVudCBuYW1lXG4gICAgcmVzdWx0ID0gbWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgLy8gdHJpZ2dlciB0aGUgZXZlbnRcbiAgdGhpcy50cmlnZ2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gdHJpZ2dlck1ldGhvZE9uIGludm9rZXMgdHJpZ2dlck1ldGhvZCBvbiBhIHNwZWNpZmljIGNvbnRleHRcbi8vXG4vLyBlLmcuIGBNYXJpb25ldHRlLnRyaWdnZXJNZXRob2RPbih2aWV3LCAnc2hvdycpYFxuLy8gd2lsbCB0cmlnZ2VyIGEgXCJzaG93XCIgZXZlbnQgb3IgaW52b2tlIG9uU2hvdyB0aGUgdmlldy5cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyTWV0aG9kT24oY29udGV4dCwgLi4uYXJncykge1xuICBpZiAoXy5pc0Z1bmN0aW9uKGNvbnRleHQudHJpZ2dlck1ldGhvZCkpIHtcbiAgICByZXR1cm4gY29udGV4dC50cmlnZ2VyTWV0aG9kLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRyaWdnZXJNZXRob2QuYXBwbHkoY29udGV4dCwgYXJncyk7XG59XG4iLCIvLyBET00gUmVmcmVzaFxuLy8gLS0tLS0tLS0tLS1cblxuaW1wb3J0IF8gZnJvbSAndW5kZXJzY29yZSc7XG5pbXBvcnQgeyB0cmlnZ2VyTWV0aG9kT24gfSBmcm9tICcuL3RyaWdnZXItbWV0aG9kJztcblxuLy8gVHJpZ2dlciBtZXRob2Qgb24gY2hpbGRyZW4gdW5sZXNzIGEgcHVyZSBCYWNrYm9uZS5WaWV3XG5mdW5jdGlvbiB0cmlnZ2VyTWV0aG9kQ2hpbGRyZW4odmlldywgZXZlbnQsIHNob3VsZFRyaWdnZXIpIHtcbiAgaWYgKCF2aWV3Ll9nZXRJbW1lZGlhdGVDaGlsZHJlbikgeyByZXR1cm47IH1cbiAgXy5lYWNoKHZpZXcuX2dldEltbWVkaWF0ZUNoaWxkcmVuKCksIGNoaWxkID0+IHtcbiAgICBpZiAoIXNob3VsZFRyaWdnZXIoY2hpbGQpKSB7IHJldHVybjsgfVxuICAgIHRyaWdnZXJNZXRob2RPbihjaGlsZCwgZXZlbnQsIGNoaWxkKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFRyaWdnZXJBdHRhY2godmlldykge1xuICByZXR1cm4gIXZpZXcuX2lzQXR0YWNoZWQ7XG59XG5cbmZ1bmN0aW9uIHNob3VsZEF0dGFjaCh2aWV3KSB7XG4gIGlmICghc2hvdWxkVHJpZ2dlckF0dGFjaCh2aWV3KSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgdmlldy5faXNBdHRhY2hlZCA9IHRydWU7XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBzaG91bGRUcmlnZ2VyRGV0YWNoKHZpZXcpIHtcbiAgcmV0dXJuIHZpZXcuX2lzQXR0YWNoZWQ7XG59XG5cbmZ1bmN0aW9uIHNob3VsZERldGFjaCh2aWV3KSB7XG4gIGlmICghc2hvdWxkVHJpZ2dlckRldGFjaCh2aWV3KSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgdmlldy5faXNBdHRhY2hlZCA9IGZhbHNlO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gdHJpZ2dlckRPTVJlZnJlc2godmlldykge1xuICBpZiAodmlldy5faXNBdHRhY2hlZCAmJiB2aWV3Ll9pc1JlbmRlcmVkKSB7XG4gICAgdHJpZ2dlck1ldGhvZE9uKHZpZXcsICdkb206cmVmcmVzaCcsIHZpZXcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRyaWdnZXJET01SZW1vdmUodmlldykge1xuICBpZiAodmlldy5faXNBdHRhY2hlZCAmJiB2aWV3Ll9pc1JlbmRlcmVkKSB7XG4gICAgdHJpZ2dlck1ldGhvZE9uKHZpZXcsICdkb206cmVtb3ZlJywgdmlldyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlQmVmb3JlQXR0YWNoKCkge1xuICB0cmlnZ2VyTWV0aG9kQ2hpbGRyZW4odGhpcywgJ2JlZm9yZTphdHRhY2gnLCBzaG91bGRUcmlnZ2VyQXR0YWNoKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQXR0YWNoKCkge1xuICB0cmlnZ2VyTWV0aG9kQ2hpbGRyZW4odGhpcywgJ2F0dGFjaCcsIHNob3VsZEF0dGFjaCk7XG4gIHRyaWdnZXJET01SZWZyZXNoKHRoaXMpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVCZWZvcmVEZXRhY2goKSB7XG4gIHRyaWdnZXJNZXRob2RDaGlsZHJlbih0aGlzLCAnYmVmb3JlOmRldGFjaCcsIHNob3VsZFRyaWdnZXJEZXRhY2gpO1xuICB0cmlnZ2VyRE9NUmVtb3ZlKHRoaXMpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVEZXRhY2goKSB7XG4gIHRyaWdnZXJNZXRob2RDaGlsZHJlbih0aGlzLCAnZGV0YWNoJywgc2hvdWxkRGV0YWNoKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQmVmb3JlUmVuZGVyKCkge1xuICB0cmlnZ2VyRE9NUmVtb3ZlKHRoaXMpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVSZW5kZXIoKSB7XG4gIHRyaWdnZXJET01SZWZyZXNoKHRoaXMpO1xufVxuXG4vLyBNb25pdG9yIGEgdmlldydzIHN0YXRlLCBwcm9wYWdhdGluZyBhdHRhY2gvZGV0YWNoIGV2ZW50cyB0byBjaGlsZHJlbiBhbmQgZmlyaW5nIGRvbTpyZWZyZXNoXG4vLyB3aGVuZXZlciBhIHJlbmRlcmVkIHZpZXcgaXMgYXR0YWNoZWQgb3IgYW4gYXR0YWNoZWQgdmlldyBpcyByZW5kZXJlZC5cbmZ1bmN0aW9uIG1vbml0b3JWaWV3RXZlbnRzKHZpZXcpIHtcbiAgaWYgKHZpZXcuX2FyZVZpZXdFdmVudHNNb25pdG9yZWQgfHwgdmlldy5tb25pdG9yVmlld0V2ZW50cyA9PT0gZmFsc2UpIHsgcmV0dXJuOyB9XG5cbiAgdmlldy5fYXJlVmlld0V2ZW50c01vbml0b3JlZCA9IHRydWU7XG5cbiAgdmlldy5vbih7XG4gICAgJ2JlZm9yZTphdHRhY2gnOiBoYW5kbGVCZWZvcmVBdHRhY2gsXG4gICAgJ2F0dGFjaCc6IGhhbmRsZUF0dGFjaCxcbiAgICAnYmVmb3JlOmRldGFjaCc6IGhhbmRsZUJlZm9yZURldGFjaCxcbiAgICAnZGV0YWNoJzogaGFuZGxlRGV0YWNoLFxuICAgICdiZWZvcmU6cmVuZGVyJzogaGFuZGxlQmVmb3JlUmVuZGVyLFxuICAgICdyZW5kZXInOiBoYW5kbGVSZW5kZXJcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1vbml0b3JWaWV3RXZlbnRzO1xuIiwiLy8gRXJyb3Jcbi8vIC0tLS0tXG5cbmltcG9ydCBfIGZyb20gJ3VuZGVyc2NvcmUnO1xuaW1wb3J0IGV4dGVuZCBmcm9tICcuL3V0aWxzL2V4dGVuZCc7XG5pbXBvcnQge3ZlcnNpb259IGZyb20gJy4uL3BhY2thZ2UuanNvbic7XG5cbmNvbnN0IGVycm9yUHJvcHMgPSBbJ2Rlc2NyaXB0aW9uJywgJ2ZpbGVOYW1lJywgJ2xpbmVOdW1iZXInLCAnbmFtZScsICdtZXNzYWdlJywgJ251bWJlciddO1xuXG5jb25zdCBNYXJpb25ldHRlRXJyb3IgPSBleHRlbmQuY2FsbChFcnJvciwge1xuICB1cmxSb290OiBgaHR0cDovL21hcmlvbmV0dGVqcy5jb20vZG9jcy92JHt2ZXJzaW9ufS9gLFxuXG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICBpZiAoXy5pc09iamVjdChtZXNzYWdlKSkge1xuICAgICAgb3B0aW9ucyA9IG1lc3NhZ2U7XG4gICAgICBtZXNzYWdlID0gb3B0aW9ucy5tZXNzYWdlO1xuICAgIH0gZWxzZSBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvciA9IEVycm9yLmNhbGwodGhpcywgbWVzc2FnZSk7XG4gICAgXy5leHRlbmQodGhpcywgXy5waWNrKGVycm9yLCBlcnJvclByb3BzKSwgXy5waWNrKG9wdGlvbnMsIGVycm9yUHJvcHMpKTtcblxuICAgIHRoaXMuY2FwdHVyZVN0YWNrVHJhY2UoKTtcblxuICAgIGlmIChvcHRpb25zLnVybCkge1xuICAgICAgdGhpcy51cmwgPSB0aGlzLnVybFJvb3QgKyBvcHRpb25zLnVybDtcbiAgICB9XG4gIH0sXG5cbiAgY2FwdHVyZVN0YWNrVHJhY2UoKSB7XG4gICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBNYXJpb25ldHRlRXJyb3IpO1xuICAgIH1cbiAgfSxcblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lICsgJzogJyArIHRoaXMubWVzc2FnZSArICh0aGlzLnVybCA/ICcgU2VlOiAnICsgdGhpcy51cmwgOiAnJyk7XG4gIH1cbn0pO1xuXG5NYXJpb25ldHRlRXJyb3IuZXh0ZW5kID0gZXh0ZW5kO1xuXG5leHBvcnQgZGVmYXVsdCBNYXJpb25ldHRlRXJyb3I7XG4iLCIvLyBCaW5kIEVudGl0eSBFdmVudHMgJiBVbmJpbmQgRW50aXR5IEV2ZW50c1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vXG4vLyBUaGVzZSBtZXRob2RzIGFyZSB1c2VkIHRvIGJpbmQvdW5iaW5kIGEgYmFja2JvbmUgXCJlbnRpdHlcIiAoZS5nLiBjb2xsZWN0aW9uL21vZGVsKVxuLy8gdG8gbWV0aG9kcyBvbiBhIHRhcmdldCBvYmplY3QuXG4vL1xuLy8gVGhlIGZpcnN0IHBhcmFtZXRlciwgYHRhcmdldGAsIG11c3QgaGF2ZSB0aGUgQmFja2JvbmUuRXZlbnRzIG1vZHVsZSBtaXhlZCBpbi5cbi8vXG4vLyBUaGUgc2Vjb25kIHBhcmFtZXRlciBpcyB0aGUgYGVudGl0eWAgKEJhY2tib25lLk1vZGVsLCBCYWNrYm9uZS5Db2xsZWN0aW9uIG9yXG4vLyBhbnkgb2JqZWN0IHRoYXQgaGFzIEJhY2tib25lLkV2ZW50cyBtaXhlZCBpbikgdG8gYmluZCB0aGUgZXZlbnRzIGZyb20uXG4vL1xuLy8gVGhlIHRoaXJkIHBhcmFtZXRlciBpcyBhIGhhc2ggb2YgeyBcImV2ZW50Om5hbWVcIjogXCJldmVudEhhbmRsZXJcIiB9XG4vLyBjb25maWd1cmF0aW9uLiBNdWx0aXBsZSBoYW5kbGVycyBjYW4gYmUgc2VwYXJhdGVkIGJ5IGEgc3BhY2UuIEFcbi8vIGZ1bmN0aW9uIGNhbiBiZSBzdXBwbGllZCBpbnN0ZWFkIG9mIGEgc3RyaW5nIGhhbmRsZXIgbmFtZS5cblxuaW1wb3J0IF8gZnJvbSAndW5kZXJzY29yZSc7XG5pbXBvcnQgTWFyaW9uZXR0ZUVycm9yIGZyb20gJy4uL2Vycm9yJztcblxuLy8gQmluZC91bmJpbmQgdGhlIGV2ZW50IHRvIGhhbmRsZXJzIHNwZWNpZmllZCBhcyBhIHN0cmluZyBvZlxuLy8gaGFuZGxlciBuYW1lcyBvbiB0aGUgdGFyZ2V0IG9iamVjdFxuZnVuY3Rpb24gYmluZEZyb21TdHJpbmdzKHRhcmdldCwgZW50aXR5LCBldnQsIG1ldGhvZHMsIGFjdGlvbk5hbWUpIHtcbiAgY29uc3QgbWV0aG9kTmFtZXMgPSBtZXRob2RzLnNwbGl0KC9cXHMrLyk7XG5cbiAgXy5lYWNoKG1ldGhvZE5hbWVzLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgY29uc3QgbWV0aG9kID0gdGFyZ2V0W21ldGhvZE5hbWVdO1xuICAgIGlmICghbWV0aG9kKSB7XG4gICAgICB0aHJvdyBuZXcgTWFyaW9uZXR0ZUVycm9yKGBNZXRob2QgXCIke21ldGhvZE5hbWV9XCIgd2FzIGNvbmZpZ3VyZWQgYXMgYW4gZXZlbnQgaGFuZGxlciwgYnV0IGRvZXMgbm90IGV4aXN0LmApO1xuICAgIH1cblxuICAgIHRhcmdldFthY3Rpb25OYW1lXShlbnRpdHksIGV2dCwgbWV0aG9kKTtcbiAgfSk7XG59XG5cbi8vIGdlbmVyaWMgbG9vcGluZyBmdW5jdGlvblxuZnVuY3Rpb24gaXRlcmF0ZUV2ZW50cyh0YXJnZXQsIGVudGl0eSwgYmluZGluZ3MsIGFjdGlvbk5hbWUpIHtcbiAgaWYgKCFlbnRpdHkgfHwgIWJpbmRpbmdzKSB7IHJldHVybjsgfVxuXG4gIC8vIHR5cGUtY2hlY2sgYmluZGluZ3NcbiAgaWYgKCFfLmlzT2JqZWN0KGJpbmRpbmdzKSkge1xuICAgIHRocm93IG5ldyBNYXJpb25ldHRlRXJyb3Ioe1xuICAgICAgbWVzc2FnZTogJ0JpbmRpbmdzIG11c3QgYmUgYW4gb2JqZWN0LicsXG4gICAgICB1cmw6ICdtYXJpb25ldHRlLmZ1bmN0aW9ucy5odG1sI21hcmlvbmV0dGViaW5kZXZlbnRzJ1xuICAgIH0pO1xuICB9XG5cbiAgLy8gaXRlcmF0ZSB0aGUgYmluZGluZ3MgYW5kIGJpbmQvdW5iaW5kIHRoZW1cbiAgXy5lYWNoKGJpbmRpbmdzLCBmdW5jdGlvbihtZXRob2QsIGV2dCkge1xuXG4gICAgLy8gYWxsb3cgZm9yIGEgbGlzdCBvZiBtZXRob2QgbmFtZXMgYXMgYSBzdHJpbmdcbiAgICBpZiAoXy5pc1N0cmluZyhtZXRob2QpKSB7XG4gICAgICBiaW5kRnJvbVN0cmluZ3ModGFyZ2V0LCBlbnRpdHksIGV2dCwgbWV0aG9kLCBhY3Rpb25OYW1lKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0YXJnZXRbYWN0aW9uTmFtZV0oZW50aXR5LCBldnQsIG1ldGhvZCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBiaW5kRXZlbnRzKGVudGl0eSwgYmluZGluZ3MpIHtcbiAgaXRlcmF0ZUV2ZW50cyh0aGlzLCBlbnRpdHksIGJpbmRpbmdzLCAnbGlzdGVuVG8nKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHVuYmluZEV2ZW50cyhlbnRpdHksIGJpbmRpbmdzKSB7XG4gIGl0ZXJhdGVFdmVudHModGhpcywgZW50aXR5LCBiaW5kaW5ncywgJ3N0b3BMaXN0ZW5pbmcnKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEV4cG9ydCBQdWJsaWMgQVBJXG5leHBvcnQge1xuICBiaW5kRXZlbnRzLFxuICB1bmJpbmRFdmVudHNcbn07XG4iLCIvLyBCaW5kL1VuYmluZCBSYWRpbyBSZXF1ZXN0c1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vXG4vLyBUaGVzZSBtZXRob2RzIGFyZSB1c2VkIHRvIGJpbmQvdW5iaW5kIGEgYmFja2JvbmUucmFkaW8gcmVxdWVzdFxuLy8gdG8gbWV0aG9kcyBvbiBhIHRhcmdldCBvYmplY3QuXG4vL1xuLy8gVGhlIGZpcnN0IHBhcmFtZXRlciwgYHRhcmdldGAsIHdpbGwgc2V0IHRoZSBjb250ZXh0IG9mIHRoZSByZXBseSBtZXRob2Rcbi8vXG4vLyBUaGUgc2Vjb25kIHBhcmFtZXRlciBpcyB0aGUgYFJhZGlvLmNoYW5uZWxgIHRvIGJpbmQgdGhlIHJlcGx5IHRvLlxuLy9cbi8vIFRoZSB0aGlyZCBwYXJhbWV0ZXIgaXMgYSBoYXNoIG9mIHsgXCJyZXF1ZXN0Om5hbWVcIjogXCJyZXBseUhhbmRsZXJcIiB9XG4vLyBjb25maWd1cmF0aW9uLiBBIGZ1bmN0aW9uIGNhbiBiZSBzdXBwbGllZCBpbnN0ZWFkIG9mIGEgc3RyaW5nIGhhbmRsZXIgbmFtZS5cblxuaW1wb3J0IF8gZnJvbSAndW5kZXJzY29yZSc7XG5pbXBvcnQgbm9ybWFsaXplTWV0aG9kcyBmcm9tICcuL25vcm1hbGl6ZS1tZXRob2RzJztcbmltcG9ydCBNYXJpb25ldHRlRXJyb3IgZnJvbSAnLi4vZXJyb3InO1xuXG5mdW5jdGlvbiBpdGVyYXRlUmVwbGllcyh0YXJnZXQsIGNoYW5uZWwsIGJpbmRpbmdzLCBhY3Rpb25OYW1lKSB7XG4gIGlmICghY2hhbm5lbCB8fCAhYmluZGluZ3MpIHsgcmV0dXJuOyB9XG5cbiAgLy8gdHlwZS1jaGVjayBiaW5kaW5nc1xuICBpZiAoIV8uaXNPYmplY3QoYmluZGluZ3MpKSB7XG4gICAgdGhyb3cgbmV3IE1hcmlvbmV0dGVFcnJvcih7XG4gICAgICBtZXNzYWdlOiAnQmluZGluZ3MgbXVzdCBiZSBhbiBvYmplY3QuJyxcbiAgICAgIHVybDogJ21hcmlvbmV0dGUuZnVuY3Rpb25zLmh0bWwjbWFyaW9uZXR0ZWJpbmRyZXF1ZXN0cydcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IG5vcm1hbGl6ZWRSYWRpb1JlcXVlc3RzID0gbm9ybWFsaXplTWV0aG9kcy5jYWxsKHRhcmdldCwgYmluZGluZ3MpO1xuXG4gIGNoYW5uZWxbYWN0aW9uTmFtZV0obm9ybWFsaXplZFJhZGlvUmVxdWVzdHMsIHRhcmdldCk7XG59XG5cbmZ1bmN0aW9uIGJpbmRSZXF1ZXN0cyhjaGFubmVsLCBiaW5kaW5ncykge1xuICBpdGVyYXRlUmVwbGllcyh0aGlzLCBjaGFubmVsLCBiaW5kaW5ncywgJ3JlcGx5Jyk7XG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiB1bmJpbmRSZXF1ZXN0cyhjaGFubmVsLCBiaW5kaW5ncykge1xuICBpdGVyYXRlUmVwbGllcyh0aGlzLCBjaGFubmVsLCBiaW5kaW5ncywgJ3N0b3BSZXBseWluZycpO1xuICByZXR1cm4gdGhpcztcbn1cblxuZXhwb3J0IHtcbiAgYmluZFJlcXVlc3RzLFxuICB1bmJpbmRSZXF1ZXN0c1xufTtcbiIsImltcG9ydCBfIGZyb20gJ3VuZGVyc2NvcmUnO1xuXG4vLyBJbnRlcm5hbCB1dGlsaXR5IGZvciBzZXR0aW5nIG9wdGlvbnMgY29uc2lzdGVudGx5IGFjcm9zcyBNblxuY29uc3Qgc2V0T3B0aW9ucyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgdGhpcy5vcHRpb25zID0gXy5leHRlbmQoe30sIF8ucmVzdWx0KHRoaXMsICdvcHRpb25zJyksIG9wdGlvbnMpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgc2V0T3B0aW9ucztcbiIsImltcG9ydCBfc2V0T3B0aW9ucyBmcm9tICcuLi91dGlscy9zZXQtb3B0aW9ucyc7XG5pbXBvcnQgZ2V0T3B0aW9uIGZyb20gJy4uL2NvbW1vbi9nZXQtb3B0aW9uJztcbmltcG9ydCBtZXJnZU9wdGlvbnMgZnJvbSAnLi4vY29tbW9uL21lcmdlLW9wdGlvbnMnO1xuaW1wb3J0IG5vcm1hbGl6ZU1ldGhvZHMgZnJvbSAnLi4vY29tbW9uL25vcm1hbGl6ZS1tZXRob2RzJztcbmltcG9ydCB7XG4gIGJpbmRFdmVudHMsXG4gIHVuYmluZEV2ZW50c1xufSBmcm9tICcuLi9jb21tb24vYmluZC1ldmVudHMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgLy8gSW1wb3J0cyB0aGUgXCJub3JtYWxpemVNZXRob2RzXCIgdG8gdHJhbnNmb3JtIGhhc2hlcyBvZlxuICAvLyBldmVudHM9PmZ1bmN0aW9uIHJlZmVyZW5jZXMvbmFtZXMgdG8gYSBoYXNoIG9mIGV2ZW50cz0+ZnVuY3Rpb24gcmVmZXJlbmNlc1xuICBub3JtYWxpemVNZXRob2RzLFxuXG4gIF9zZXRPcHRpb25zLFxuXG4gIC8vIEEgaGFuZHkgd2F5IHRvIG1lcmdlIHBhc3NlZC1pbiBvcHRpb25zIG9udG8gdGhlIGluc3RhbmNlXG4gIG1lcmdlT3B0aW9ucyxcblxuICAvLyBFbmFibGUgZ2V0dGluZyBvcHRpb25zIGZyb20gdGhpcyBvciB0aGlzLm9wdGlvbnMgYnkgbmFtZS5cbiAgZ2V0T3B0aW9uLFxuXG4gIC8vIEVuYWJsZSBiaW5kaW5nIHZpZXcncyBldmVudHMgZnJvbSBhbm90aGVyIGVudGl0eS5cbiAgYmluZEV2ZW50cyxcblxuICAvLyBFbmFibGUgdW5iaW5kaW5nIHZpZXcncyBldmVudHMgZnJvbSBhbm90aGVyIGVudGl0eS5cbiAgdW5iaW5kRXZlbnRzXG59O1xuIiwiaW1wb3J0IF8gZnJvbSAndW5kZXJzY29yZSc7XG5pbXBvcnQgUmFkaW8gZnJvbSAnYmFja2JvbmUucmFkaW8nO1xuXG5pbXBvcnQge1xuICBiaW5kUmVxdWVzdHMsXG4gIHVuYmluZFJlcXVlc3RzXG59IGZyb20gJy4uL2NvbW1vbi9iaW5kLXJlcXVlc3RzJztcblxuaW1wb3J0IHtcbiAgYmluZEV2ZW50cyxcbiAgdW5iaW5kRXZlbnRzXG59IGZyb20gJy4uL2NvbW1vbi9iaW5kLWV2ZW50cyc7XG5cbmltcG9ydCBNYXJpb25ldHRlRXJyb3IgZnJvbSAnLi4vZXJyb3InO1xuXG4vLyBNaXhpbk9wdGlvbnNcbi8vIC0gY2hhbm5lbE5hbWVcbi8vIC0gcmFkaW9FdmVudHNcbi8vIC0gcmFkaW9SZXF1ZXN0c1xuXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgX2luaXRSYWRpbygpIHtcbiAgICBjb25zdCBjaGFubmVsTmFtZSA9IF8ucmVzdWx0KHRoaXMsICdjaGFubmVsTmFtZScpO1xuXG4gICAgaWYgKCFjaGFubmVsTmFtZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKCFSYWRpbykge1xuICAgICAgdGhyb3cgbmV3IE1hcmlvbmV0dGVFcnJvcih7XG4gICAgICAgIG5hbWU6ICdCYWNrYm9uZVJhZGlvTWlzc2luZycsXG4gICAgICAgIG1lc3NhZ2U6ICdUaGUgZGVwZW5kZW5jeSBcImJhY2tib25lLnJhZGlvXCIgaXMgbWlzc2luZy4nXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBjaGFubmVsID0gdGhpcy5fY2hhbm5lbCA9IFJhZGlvLmNoYW5uZWwoY2hhbm5lbE5hbWUpO1xuXG4gICAgY29uc3QgcmFkaW9FdmVudHMgPSBfLnJlc3VsdCh0aGlzLCAncmFkaW9FdmVudHMnKTtcbiAgICB0aGlzLmJpbmRFdmVudHMoY2hhbm5lbCwgcmFkaW9FdmVudHMpO1xuXG4gICAgY29uc3QgcmFkaW9SZXF1ZXN0cyA9IF8ucmVzdWx0KHRoaXMsICdyYWRpb1JlcXVlc3RzJyk7XG4gICAgdGhpcy5iaW5kUmVxdWVzdHMoY2hhbm5lbCwgcmFkaW9SZXF1ZXN0cyk7XG5cbiAgICB0aGlzLm9uKCdkZXN0cm95JywgdGhpcy5fZGVzdHJveVJhZGlvKTtcbiAgfSxcblxuICBfZGVzdHJveVJhZGlvKCkge1xuICAgIHRoaXMuX2NoYW5uZWwuc3RvcFJlcGx5aW5nKG51bGwsIG51bGwsIHRoaXMpO1xuICB9LFxuXG4gIGdldENoYW5uZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NoYW5uZWw7XG4gIH0sXG5cbiAgLy8gUHJveHkgYGJpbmRFdmVudHNgXG4gIGJpbmRFdmVudHM6IGJpbmRFdmVudHMsXG5cbiAgLy8gUHJveHkgYHVuYmluZEV2ZW50c2BcbiAgdW5iaW5kRXZlbnRzOiB1bmJpbmRFdmVudHMsXG5cbiAgLy8gUHJveHkgYGJpbmRSZXF1ZXN0c2BcbiAgYmluZFJlcXVlc3RzOiBiaW5kUmVxdWVzdHMsXG5cbiAgLy8gUHJveHkgYHVuYmluZFJlcXVlc3RzYFxuICB1bmJpbmRSZXF1ZXN0czogdW5iaW5kUmVxdWVzdHNcblxufTtcbiIsIi8vIE9iamVjdFxuLy8gLS0tLS0tXG5cbmltcG9ydCBfIGZyb20gJ3VuZGVyc2NvcmUnO1xuaW1wb3J0IEJhY2tib25lIGZyb20gJ2JhY2tib25lJztcbmltcG9ydCBleHRlbmQgZnJvbSAnLi91dGlscy9leHRlbmQnO1xuaW1wb3J0IHsgdHJpZ2dlck1ldGhvZCB9IGZyb20gJy4vY29tbW9uL3RyaWdnZXItbWV0aG9kJztcbmltcG9ydCBDb21tb25NaXhpbiBmcm9tICcuL21peGlucy9jb21tb24nO1xuaW1wb3J0IFJhZGlvTWl4aW4gZnJvbSAnLi9taXhpbnMvcmFkaW8nO1xuXG5jb25zdCBDbGFzc09wdGlvbnMgPSBbXG4gICdjaGFubmVsTmFtZScsXG4gICdyYWRpb0V2ZW50cycsXG4gICdyYWRpb1JlcXVlc3RzJ1xuXTtcblxuLy8gQSBCYXNlIENsYXNzIHRoYXQgb3RoZXIgQ2xhc3NlcyBzaG91bGQgZGVzY2VuZCBmcm9tLlxuLy8gT2JqZWN0IGJvcnJvd3MgbWFueSBjb252ZW50aW9ucyBhbmQgdXRpbGl0aWVzIGZyb20gQmFja2JvbmUuXG5jb25zdCBNYXJpb25ldHRlT2JqZWN0ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoJ29wdGlvbnMnKSkge1xuICAgIHRoaXMuX3NldE9wdGlvbnMob3B0aW9ucyk7XG4gIH1cbiAgdGhpcy5tZXJnZU9wdGlvbnMob3B0aW9ucywgQ2xhc3NPcHRpb25zKTtcbiAgdGhpcy5fc2V0Q2lkKCk7XG4gIHRoaXMuX2luaXRSYWRpbygpO1xuICB0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5cbk1hcmlvbmV0dGVPYmplY3QuZXh0ZW5kID0gZXh0ZW5kO1xuXG4vLyBPYmplY3QgTWV0aG9kc1xuLy8gLS0tLS0tLS0tLS0tLS1cblxuLy8gRW5zdXJlIGl0IGNhbiB0cmlnZ2VyIGV2ZW50cyB3aXRoIEJhY2tib25lLkV2ZW50c1xuXy5leHRlbmQoTWFyaW9uZXR0ZU9iamVjdC5wcm90b3R5cGUsIEJhY2tib25lLkV2ZW50cywgQ29tbW9uTWl4aW4sIFJhZGlvTWl4aW4sIHtcbiAgY2lkUHJlZml4OiAnbW5vJyxcblxuICAvLyBmb3IgcGFyaXR5IHdpdGggTWFyaW9uZXR0ZS5BYnN0cmFjdFZpZXcgbGlmZWN5bGVcbiAgX2lzRGVzdHJveWVkOiBmYWxzZSxcblxuICBpc0Rlc3Ryb3llZCgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNEZXN0cm95ZWQ7XG4gIH0sXG5cbiAgLy90aGlzIGlzIGEgbm9vcCBtZXRob2QgaW50ZW5kZWQgdG8gYmUgb3ZlcnJpZGRlbiBieSBjbGFzc2VzIHRoYXQgZXh0ZW5kIGZyb20gdGhpcyBiYXNlXG4gIGluaXRpYWxpemUoKSB7fSxcblxuICBfc2V0Q2lkKCkge1xuICAgIGlmICh0aGlzLmNpZCkgeyByZXR1cm47IH1cbiAgICB0aGlzLmNpZCA9IF8udW5pcXVlSWQodGhpcy5jaWRQcmVmaXgpO1xuICB9LFxuXG4gIGRlc3Ryb3koLi4uYXJncykge1xuICAgIGlmICh0aGlzLl9pc0Rlc3Ryb3llZCkgeyByZXR1cm4gdGhpczsgfVxuXG4gICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdiZWZvcmU6ZGVzdHJveScsIHRoaXMsIC4uLmFyZ3MpO1xuXG4gICAgdGhpcy5faXNEZXN0cm95ZWQgPSB0cnVlO1xuICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnZGVzdHJveScsIHRoaXMsIC4uLmFyZ3MpO1xuICAgIHRoaXMuc3RvcExpc3RlbmluZygpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgdHJpZ2dlck1ldGhvZFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IE1hcmlvbmV0dGVPYmplY3Q7XG4iLCIvLyBUZW1wbGF0ZSBDYWNoZVxuLy8gLS0tLS0tLS0tLS0tLS1cblxuaW1wb3J0IF8gZnJvbSAndW5kZXJzY29yZSc7XG5pbXBvcnQgQmFja2JvbmUgZnJvbSAnYmFja2JvbmUnO1xuaW1wb3J0IE1hcmlvbmV0dGVFcnJvciBmcm9tICcuL2Vycm9yJztcblxuLy8gTWFuYWdlIHRlbXBsYXRlcyBzdG9yZWQgaW4gYDxzY3JpcHQ+YCBibG9ja3MsXG4vLyBjYWNoaW5nIHRoZW0gZm9yIGZhc3RlciBhY2Nlc3MuXG5jb25zdCBUZW1wbGF0ZUNhY2hlID0gZnVuY3Rpb24odGVtcGxhdGVJZCkge1xuICB0aGlzLnRlbXBsYXRlSWQgPSB0ZW1wbGF0ZUlkO1xufTtcblxuLy8gVGVtcGxhdGVDYWNoZSBvYmplY3QtbGV2ZWwgbWV0aG9kcy4gTWFuYWdlIHRoZSB0ZW1wbGF0ZVxuLy8gY2FjaGVzIGZyb20gdGhlc2UgbWV0aG9kIGNhbGxzIGluc3RlYWQgb2YgY3JlYXRpbmdcbi8vIHlvdXIgb3duIFRlbXBsYXRlQ2FjaGUgaW5zdGFuY2VzXG5fLmV4dGVuZChUZW1wbGF0ZUNhY2hlLCB7XG5cbiAgdGVtcGxhdGVDYWNoZXM6IHt9LFxuXG4gIC8vIEdldCB0aGUgc3BlY2lmaWVkIHRlbXBsYXRlIGJ5IGlkLiBFaXRoZXJcbiAgLy8gcmV0cmlldmVzIHRoZSBjYWNoZWQgdmVyc2lvbiwgb3IgbG9hZHMgaXRcbiAgLy8gZnJvbSB0aGUgRE9NLlxuICBnZXQodGVtcGxhdGVJZCwgb3B0aW9ucykge1xuICAgIGxldCBjYWNoZWRUZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGVDYWNoZXNbdGVtcGxhdGVJZF07XG5cbiAgICBpZiAoIWNhY2hlZFRlbXBsYXRlKSB7XG4gICAgICBjYWNoZWRUZW1wbGF0ZSA9IG5ldyBUZW1wbGF0ZUNhY2hlKHRlbXBsYXRlSWQpO1xuICAgICAgdGhpcy50ZW1wbGF0ZUNhY2hlc1t0ZW1wbGF0ZUlkXSA9IGNhY2hlZFRlbXBsYXRlO1xuICAgIH1cblxuICAgIHJldHVybiBjYWNoZWRUZW1wbGF0ZS5sb2FkKG9wdGlvbnMpO1xuICB9LFxuXG4gIC8vIENsZWFyIHRlbXBsYXRlcyBmcm9tIHRoZSBjYWNoZS4gSWYgbm8gYXJndW1lbnRzXG4gIC8vIGFyZSBzcGVjaWZpZWQsIGNsZWFycyBhbGwgdGVtcGxhdGVzOlxuICAvLyBgY2xlYXIoKWBcbiAgLy9cbiAgLy8gSWYgYXJndW1lbnRzIGFyZSBzcGVjaWZpZWQsIGNsZWFycyBlYWNoIG9mIHRoZVxuICAvLyBzcGVjaWZpZWQgdGVtcGxhdGVzIGZyb20gdGhlIGNhY2hlOlxuICAvLyBgY2xlYXIoXCIjdDFcIiwgXCIjdDJcIiwgXCIuLi5cIilgXG4gIGNsZWFyKC4uLmFyZ3MpIHtcbiAgICBsZXQgaTtcbiAgICBjb25zdCBsZW5ndGggPSBhcmdzLmxlbmd0aDtcblxuICAgIGlmIChsZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZGVsZXRlIHRoaXMudGVtcGxhdGVDYWNoZXNbYXJnc1tpXV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudGVtcGxhdGVDYWNoZXMgPSB7fTtcbiAgICB9XG4gIH1cbn0pO1xuXG4vLyBUZW1wbGF0ZUNhY2hlIGluc3RhbmNlIG1ldGhvZHMsIGFsbG93aW5nIGVhY2hcbi8vIHRlbXBsYXRlIGNhY2hlIG9iamVjdCB0byBtYW5hZ2UgaXRzIG93biBzdGF0ZVxuLy8gYW5kIGtub3cgd2hldGhlciBvciBub3QgaXQgaGFzIGJlZW4gbG9hZGVkXG5fLmV4dGVuZChUZW1wbGF0ZUNhY2hlLnByb3RvdHlwZSwge1xuXG4gIC8vIEludGVybmFsIG1ldGhvZCB0byBsb2FkIHRoZSB0ZW1wbGF0ZVxuICBsb2FkKG9wdGlvbnMpIHtcbiAgICAvLyBHdWFyZCBjbGF1c2UgdG8gcHJldmVudCBsb2FkaW5nIHRoaXMgdGVtcGxhdGUgbW9yZSB0aGFuIG9uY2VcbiAgICBpZiAodGhpcy5jb21waWxlZFRlbXBsYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb21waWxlZFRlbXBsYXRlO1xuICAgIH1cblxuICAgIC8vIExvYWQgdGhlIHRlbXBsYXRlIGFuZCBjb21waWxlIGl0XG4gICAgY29uc3QgdGVtcGxhdGUgPSB0aGlzLmxvYWRUZW1wbGF0ZSh0aGlzLnRlbXBsYXRlSWQsIG9wdGlvbnMpO1xuICAgIHRoaXMuY29tcGlsZWRUZW1wbGF0ZSA9IHRoaXMuY29tcGlsZVRlbXBsYXRlKHRlbXBsYXRlLCBvcHRpb25zKTtcblxuICAgIHJldHVybiB0aGlzLmNvbXBpbGVkVGVtcGxhdGU7XG4gIH0sXG5cbiAgLy8gTG9hZCBhIHRlbXBsYXRlIGZyb20gdGhlIERPTSwgYnkgZGVmYXVsdC4gT3ZlcnJpZGVcbiAgLy8gdGhpcyBtZXRob2QgdG8gcHJvdmlkZSB5b3VyIG93biB0ZW1wbGF0ZSByZXRyaWV2YWxcbiAgLy8gRm9yIGFzeW5jaHJvbm91cyBsb2FkaW5nIHdpdGggQU1EL1JlcXVpcmVKUywgY29uc2lkZXJcbiAgLy8gdXNpbmcgYSB0ZW1wbGF0ZS1sb2FkZXIgcGx1Z2luIGFzIGRlc2NyaWJlZCBoZXJlOlxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWFyaW9uZXR0ZWpzL2JhY2tib25lLm1hcmlvbmV0dGUvd2lraS9Vc2luZy1tYXJpb25ldHRlLXdpdGgtcmVxdWlyZWpzXG4gIGxvYWRUZW1wbGF0ZSh0ZW1wbGF0ZUlkLCBvcHRpb25zKSB7XG4gICAgY29uc3QgJHRlbXBsYXRlID0gQmFja2JvbmUuJCh0ZW1wbGF0ZUlkKTtcblxuICAgIGlmICghJHRlbXBsYXRlLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IE1hcmlvbmV0dGVFcnJvcih7XG4gICAgICAgIG5hbWU6ICdOb1RlbXBsYXRlRXJyb3InLFxuICAgICAgICBtZXNzYWdlOiBgQ291bGQgbm90IGZpbmQgdGVtcGxhdGU6IFwiJHt0ZW1wbGF0ZUlkfVwiYFxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiAkdGVtcGxhdGUuaHRtbCgpO1xuICB9LFxuXG4gIC8vIFByZS1jb21waWxlIHRoZSB0ZW1wbGF0ZSBiZWZvcmUgY2FjaGluZyBpdC4gT3ZlcnJpZGVcbiAgLy8gdGhpcyBtZXRob2QgaWYgeW91IGRvIG5vdCBuZWVkIHRvIHByZS1jb21waWxlIGEgdGVtcGxhdGVcbiAgLy8gKEpTVCAvIFJlcXVpcmVKUyBmb3IgZXhhbXBsZSkgb3IgaWYgeW91IHdhbnQgdG8gY2hhbmdlXG4gIC8vIHRoZSB0ZW1wbGF0ZSBlbmdpbmUgdXNlZCAoSGFuZGViYXJzLCBldGMpLlxuICBjb21waWxlVGVtcGxhdGUocmF3VGVtcGxhdGUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gXy50ZW1wbGF0ZShyYXdUZW1wbGF0ZSwgb3B0aW9ucyk7XG4gIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBUZW1wbGF0ZUNhY2hlO1xuIiwiLy8gSW1wbGVtZW50YXRpb24gb2YgdGhlIGludm9rZSBtZXRob2QgKGh0dHA6Ly91bmRlcnNjb3JlanMub3JnLyNpbnZva2UpIHdpdGggc3VwcG9ydCBmb3Jcbi8vIGxvZGFzaCB2MywgdjQsIGFuZCB1bmRlcnNjb3JlLmpzXG5pbXBvcnQgXyBmcm9tICd1bmRlcnNjb3JlJztcblxuZXhwb3J0IGRlZmF1bHQgXy5pbnZva2VNYXAgfHwgXy5pbnZva2U7XG4iLCJpbXBvcnQgXyBmcm9tICd1bmRlcnNjb3JlJztcbmltcG9ydCBfaW52b2tlIGZyb20gJy4uL3V0aWxzL2ludm9rZSc7XG5pbXBvcnQgeyB0cmlnZ2VyTWV0aG9kIH0gZnJvbSAnLi4vY29tbW9uL3RyaWdnZXItbWV0aG9kJztcbmltcG9ydCBNYXJpb25ldHRlIGZyb20gJy4uL2JhY2tib25lLm1hcmlvbmV0dGUnO1xuXG4vLyBNaXhpbk9wdGlvbnNcbi8vIC0gYmVoYXZpb3JzXG5cbi8vIFRha2VzIGNhcmUgb2YgZ2V0dGluZyB0aGUgYmVoYXZpb3IgY2xhc3Ncbi8vIGdpdmVuIG9wdGlvbnMgYW5kIGEga2V5LlxuLy8gSWYgYSB1c2VyIHBhc3NlcyBpbiBvcHRpb25zLmJlaGF2aW9yQ2xhc3Ncbi8vIGRlZmF1bHQgdG8gdXNpbmcgdGhhdC5cbi8vIElmIGEgdXNlciBwYXNzZXMgaW4gYSBCZWhhdmlvciBDbGFzcyBkaXJlY3RseSwgdXNlIHRoYXRcbi8vIE90aGVyd2lzZSBkZWxlZ2F0ZSB0aGUgbG9va3VwIHRvIHRoZSB1c2VycyBgYmVoYXZpb3JzTG9va3VwYCBpbXBsZW1lbnRhdGlvbi5cbmZ1bmN0aW9uIGdldEJlaGF2aW9yQ2xhc3Mob3B0aW9ucywga2V5KSB7XG4gIGlmIChvcHRpb25zLmJlaGF2aW9yQ2xhc3MpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5iZWhhdmlvckNsYXNzO1xuICAgIC8vdHJlYXQgZnVuY3Rpb25zIGFzIGEgQmVoYXZpb3IgY29uc3RydWN0b3JcbiAgfSBlbHNlIGlmIChfLmlzRnVuY3Rpb24ob3B0aW9ucykpIHtcbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfVxuXG4gIC8vIGJlaGF2aW9yc0xvb2t1cCBjYW4gYmUgZWl0aGVyIGEgZmxhdCBvYmplY3Qgb3IgYSBtZXRob2RcbiAgaWYgKF8uaXNGdW5jdGlvbihNYXJpb25ldHRlLkJlaGF2aW9ycy5iZWhhdmlvcnNMb29rdXApKSB7XG4gICAgcmV0dXJuIE1hcmlvbmV0dGUuQmVoYXZpb3JzLmJlaGF2aW9yc0xvb2t1cChvcHRpb25zLCBrZXkpW2tleV07XG4gIH1cblxuICByZXR1cm4gTWFyaW9uZXR0ZS5CZWhhdmlvcnMuYmVoYXZpb3JzTG9va3VwW2tleV07XG59XG5cbi8vIEl0ZXJhdGUgb3ZlciB0aGUgYmVoYXZpb3JzIG9iamVjdCwgZm9yIGVhY2ggYmVoYXZpb3Jcbi8vIGluc3RhbnRpYXRlIGl0IGFuZCBnZXQgaXRzIGdyb3VwZWQgYmVoYXZpb3JzLlxuLy8gVGhpcyBhY2NlcHRzIGEgbGlzdCBvZiBiZWhhdmlvcnMgaW4gZWl0aGVyIGFuIG9iamVjdCBvciBhcnJheSBmb3JtXG5mdW5jdGlvbiBwYXJzZUJlaGF2aW9ycyh2aWV3LCBiZWhhdmlvcnMpIHtcbiAgcmV0dXJuIF8uY2hhaW4oYmVoYXZpb3JzKS5tYXAoZnVuY3Rpb24ob3B0aW9ucywga2V5KSB7XG4gICAgY29uc3QgQmVoYXZpb3JDbGFzcyA9IGdldEJlaGF2aW9yQ2xhc3Mob3B0aW9ucywga2V5KTtcbiAgICAvL2lmIHdlJ3JlIHBhc3NlZCBhIGNsYXNzIGRpcmVjdGx5IGluc3RlYWQgb2YgYW4gb2JqZWN0XG4gICAgY29uc3QgX29wdGlvbnMgPSBvcHRpb25zID09PSBCZWhhdmlvckNsYXNzID8ge30gOiBvcHRpb25zO1xuICAgIGNvbnN0IGJlaGF2aW9yID0gbmV3IEJlaGF2aW9yQ2xhc3MoX29wdGlvbnMsIHZpZXcpO1xuICAgIGNvbnN0IG5lc3RlZEJlaGF2aW9ycyA9IHBhcnNlQmVoYXZpb3JzKHZpZXcsIF8ucmVzdWx0KGJlaGF2aW9yLCAnYmVoYXZpb3JzJykpO1xuXG4gICAgcmV0dXJuIFtiZWhhdmlvcl0uY29uY2F0KG5lc3RlZEJlaGF2aW9ycyk7XG4gIH0pLmZsYXR0ZW4oKS52YWx1ZSgpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9pbml0QmVoYXZpb3JzKCkge1xuICAgIHRoaXMuX2JlaGF2aW9ycyA9IHRoaXMuX2dldEJlaGF2aW9ycygpO1xuICB9LFxuXG4gIF9nZXRCZWhhdmlvcnMoKSB7XG4gICAgY29uc3QgYmVoYXZpb3JzID0gXy5yZXN1bHQodGhpcywgJ2JlaGF2aW9ycycpO1xuXG4gICAgLy8gQmVoYXZpb3JzIGRlZmluZWQgb24gYSB2aWV3IGNhbiBiZSBhIGZsYXQgb2JqZWN0IGxpdGVyYWxcbiAgICAvLyBvciBpdCBjYW4gYmUgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gb2JqZWN0LlxuICAgIHJldHVybiBfLmlzT2JqZWN0KGJlaGF2aW9ycykgPyBwYXJzZUJlaGF2aW9ycyh0aGlzLCBiZWhhdmlvcnMpIDoge307XG4gIH0sXG5cbiAgX2dldEJlaGF2aW9yVHJpZ2dlcnMoKSB7XG4gICAgY29uc3QgdHJpZ2dlcnMgPSBfaW52b2tlKHRoaXMuX2JlaGF2aW9ycywgJ2dldFRyaWdnZXJzJyk7XG4gICAgcmV0dXJuIF8ucmVkdWNlKHRyaWdnZXJzLCBmdW5jdGlvbihtZW1vLCBfdHJpZ2dlcnMpIHtcbiAgICAgIHJldHVybiBfLmV4dGVuZChtZW1vLCBfdHJpZ2dlcnMpO1xuICAgIH0sIHt9KTtcbiAgfSxcblxuICBfZ2V0QmVoYXZpb3JFdmVudHMoKSB7XG4gICAgY29uc3QgZXZlbnRzID0gX2ludm9rZSh0aGlzLl9iZWhhdmlvcnMsICdnZXRFdmVudHMnKTtcbiAgICByZXR1cm4gXy5yZWR1Y2UoZXZlbnRzLCBmdW5jdGlvbihtZW1vLCBfZXZlbnRzKSB7XG4gICAgICByZXR1cm4gXy5leHRlbmQobWVtbywgX2V2ZW50cyk7XG4gICAgfSwge30pO1xuICB9LFxuXG4gIC8vIHByb3h5IGJlaGF2aW9yICRlbCB0byB0aGUgdmlldydzICRlbC5cbiAgX3Byb3h5QmVoYXZpb3JWaWV3UHJvcGVydGllcygpIHtcbiAgICBfaW52b2tlKHRoaXMuX2JlaGF2aW9ycywgJ3Byb3h5Vmlld1Byb3BlcnRpZXMnKTtcbiAgfSxcblxuICAvLyBkZWxlZ2F0ZSBtb2RlbEV2ZW50cyBhbmQgY29sbGVjdGlvbkV2ZW50c1xuICBfZGVsZWdhdGVCZWhhdmlvckVudGl0eUV2ZW50cygpIHtcbiAgICBfaW52b2tlKHRoaXMuX2JlaGF2aW9ycywgJ2RlbGVnYXRlRW50aXR5RXZlbnRzJyk7XG4gIH0sXG5cbiAgLy8gdW5kZWxlZ2F0ZSBtb2RlbEV2ZW50cyBhbmQgY29sbGVjdGlvbkV2ZW50c1xuICBfdW5kZWxlZ2F0ZUJlaGF2aW9yRW50aXR5RXZlbnRzKCkge1xuICAgIF9pbnZva2UodGhpcy5fYmVoYXZpb3JzLCAndW5kZWxlZ2F0ZUVudGl0eUV2ZW50cycpO1xuICB9LFxuXG4gIF9kZXN0cm95QmVoYXZpb3JzKC4uLmFyZ3MpIHtcbiAgICAvLyBDYWxsIGRlc3Ryb3kgb24gZWFjaCBiZWhhdmlvciBhZnRlclxuICAgIC8vIGRlc3Ryb3lpbmcgdGhlIHZpZXcuXG4gICAgLy8gVGhpcyB1bmJpbmRzIGV2ZW50IGxpc3RlbmVyc1xuICAgIC8vIHRoYXQgYmVoYXZpb3JzIGhhdmUgcmVnaXN0ZXJlZCBmb3IuXG4gICAgX2ludm9rZSh0aGlzLl9iZWhhdmlvcnMsICdkZXN0cm95JywgLi4uYXJncyk7XG4gIH0sXG5cbiAgLy8gUmVtb3ZlIGEgYmVoYXZpb3JcbiAgX3JlbW92ZUJlaGF2aW9yKGJlaGF2aW9yKSB7XG4gICAgLy8gRG9uJ3Qgd29ycnkgYWJvdXQgdGhlIGNsZWFuIHVwIGlmIHRoZSB2aWV3IGlzIGRlc3Ryb3llZFxuICAgIGlmICh0aGlzLl9pc0Rlc3Ryb3llZCkgeyByZXR1cm47IH1cbiAgICB0aGlzLl9iZWhhdmlvcnMgPSBfLndpdGhvdXQodGhpcy5fYmVoYXZpb3JzLCBiZWhhdmlvcik7XG4gIH0sXG5cbiAgX2JpbmRCZWhhdmlvclVJRWxlbWVudHMoKSB7XG4gICAgX2ludm9rZSh0aGlzLl9iZWhhdmlvcnMsICdiaW5kVUlFbGVtZW50cycpO1xuICB9LFxuXG4gIF91bmJpbmRCZWhhdmlvclVJRWxlbWVudHMoKSB7XG4gICAgX2ludm9rZSh0aGlzLl9iZWhhdmlvcnMsICd1bmJpbmRVSUVsZW1lbnRzJyk7XG4gIH0sXG5cbiAgX3RyaWdnZXJFdmVudE9uQmVoYXZpb3JzKCkge1xuICAgIGNvbnN0IGJlaGF2aW9ycyA9IHRoaXMuX2JlaGF2aW9ycztcbiAgICAvLyBVc2UgZ29vZCBvbCcgZm9yIGFzIHRoaXMgaXMgYSB2ZXJ5IGhvdCBmdW5jdGlvblxuICAgIGZvciAobGV0IGkgPSAwLCBsZW5ndGggPSBiZWhhdmlvcnMgJiYgYmVoYXZpb3JzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB0cmlnZ2VyTWV0aG9kLmFwcGx5KGJlaGF2aW9yc1tpXSwgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cbn07XG4iLCJpbXBvcnQgXyBmcm9tICd1bmRlcnNjb3JlJztcblxuaW1wb3J0IHtcbiAgYmluZEV2ZW50cyxcbiAgdW5iaW5kRXZlbnRzXG59IGZyb20gJy4uL2NvbW1vbi9iaW5kLWV2ZW50cyc7XG5cbi8vIE1peGluT3B0aW9uc1xuLy8gLSBjb2xsZWN0aW9uRXZlbnRzXG4vLyAtIG1vZGVsRXZlbnRzXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLy8gSGFuZGxlIGBtb2RlbEV2ZW50c2AsIGFuZCBgY29sbGVjdGlvbkV2ZW50c2AgY29uZmlndXJhdGlvblxuICBfZGVsZWdhdGVFbnRpdHlFdmVudHMobW9kZWwsIGNvbGxlY3Rpb24pIHtcbiAgICB0aGlzLl91bmRlbGVnYXRlRW50aXR5RXZlbnRzKG1vZGVsLCBjb2xsZWN0aW9uKTtcblxuICAgIGNvbnN0IG1vZGVsRXZlbnRzID0gXy5yZXN1bHQodGhpcywgJ21vZGVsRXZlbnRzJyk7XG4gICAgYmluZEV2ZW50cy5jYWxsKHRoaXMsIG1vZGVsLCBtb2RlbEV2ZW50cyk7XG5cbiAgICBjb25zdCBjb2xsZWN0aW9uRXZlbnRzID0gXy5yZXN1bHQodGhpcywgJ2NvbGxlY3Rpb25FdmVudHMnKTtcbiAgICBiaW5kRXZlbnRzLmNhbGwodGhpcywgY29sbGVjdGlvbiwgY29sbGVjdGlvbkV2ZW50cyk7XG4gIH0sXG5cbiAgX3VuZGVsZWdhdGVFbnRpdHlFdmVudHMobW9kZWwsIGNvbGxlY3Rpb24pIHtcbiAgICBjb25zdCBtb2RlbEV2ZW50cyA9IF8ucmVzdWx0KHRoaXMsICdtb2RlbEV2ZW50cycpO1xuICAgIHVuYmluZEV2ZW50cy5jYWxsKHRoaXMsIG1vZGVsLCBtb2RlbEV2ZW50cyk7XG5cbiAgICBjb25zdCBjb2xsZWN0aW9uRXZlbnRzID0gXy5yZXN1bHQodGhpcywgJ2NvbGxlY3Rpb25FdmVudHMnKTtcbiAgICB1bmJpbmRFdmVudHMuY2FsbCh0aGlzLCBjb2xsZWN0aW9uLCBjb2xsZWN0aW9uRXZlbnRzKTtcbiAgfVxufTtcbiIsImltcG9ydCBfIGZyb20gJ3VuZGVyc2NvcmUnO1xuXG4vLyBCb3Jyb3cgZXZlbnQgc3BsaXR0ZXIgZnJvbSBCYWNrYm9uZVxuY29uc3QgZGVsZWdhdGVFdmVudFNwbGl0dGVyID0gL14oXFxTKylcXHMqKC4qKSQvO1xuXG5mdW5jdGlvbiB1bmlxdWVOYW1lKGV2ZW50TmFtZSwgc2VsZWN0b3IpIHtcbiAgcmV0dXJuIGAkeyBldmVudE5hbWUgfSR7IF8udW5pcXVlSWQoJy5ldnQnKSB9ICR7IHNlbGVjdG9yIH1gO1xufVxuXG4vLyBTZXQgZXZlbnQgbmFtZSB0byBiZSBuYW1lc3BhY2VkIHVzaW5nIGEgdW5pcXVlIGluZGV4XG4vLyB0byBnZW5lcmF0ZSBhIG5vbiBjb2xsaWRpbmcgZXZlbnQgbmFtZXNwYWNlXG4vLyBodHRwOi8vYXBpLmpxdWVyeS5jb20vZXZlbnQubmFtZXNwYWNlL1xuY29uc3QgZ2V0VW5pcXVlRXZlbnROYW1lID0gZnVuY3Rpb24oZXZlbnROYW1lKSB7XG4gIGNvbnN0IG1hdGNoID0gZXZlbnROYW1lLm1hdGNoKGRlbGVnYXRlRXZlbnRTcGxpdHRlcik7XG4gIHJldHVybiB1bmlxdWVOYW1lKG1hdGNoWzFdLCBtYXRjaFsyXSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBnZXRVbmlxdWVFdmVudE5hbWU7XG4iLCIvLyBBZGQgRmVhdHVyZSBmbGFncyBoZXJlXG4vLyBlLmcuICdjbGFzcycgPT4gZmFsc2VcbmNvbnN0IEZFQVRVUkVTID0ge1xuICBjaGlsZFZpZXdFdmVudFByZWZpeDogdHJ1ZSxcbiAgdHJpZ2dlcnNTdG9wUHJvcGFnYXRpb246IHRydWUsXG4gIHRyaWdnZXJzUHJldmVudERlZmF1bHQ6IHRydWVcbn07XG5cbmZ1bmN0aW9uIGlzRW5hYmxlZChuYW1lKSB7XG4gIHJldHVybiAhIUZFQVRVUkVTW25hbWVdO1xufVxuXG5mdW5jdGlvbiBzZXRFbmFibGVkKG5hbWUsIHN0YXRlKSB7XG4gIHJldHVybiBGRUFUVVJFU1tuYW1lXSA9IHN0YXRlO1xufVxuXG5leHBvcnQge1xuICBGRUFUVVJFUyxcbiAgc2V0RW5hYmxlZCxcbiAgaXNFbmFibGVkXG59O1xuIiwiaW1wb3J0IF8gZnJvbSAndW5kZXJzY29yZSc7XG5pbXBvcnQgZ2V0VW5pcXVlRXZlbnROYW1lIGZyb20gJy4uL3V0aWxzL2dldC11bmlxdWUtZXZlbnQtbmFtZSc7XG5pbXBvcnQgeyBpc0VuYWJsZWQgfSBmcm9tICcuLi9jb25maWcvZmVhdHVyZXMnO1xuXG4vLyBJbnRlcm5hbCBtZXRob2QgdG8gY3JlYXRlIGFuIGV2ZW50IGhhbmRsZXIgZm9yIGEgZ2l2ZW4gYHRyaWdnZXJEZWZgIGxpa2Vcbi8vICdjbGljazpmb28nXG5mdW5jdGlvbiBidWlsZFZpZXdUcmlnZ2VyKHZpZXcsIHRyaWdnZXJEZWYpIHtcbiAgaWYgKF8uaXNTdHJpbmcodHJpZ2dlckRlZikpIHtcbiAgICB0cmlnZ2VyRGVmID0ge2V2ZW50OiB0cmlnZ2VyRGVmfTtcbiAgfVxuXG4gIGNvbnN0IGV2ZW50TmFtZSA9IHRyaWdnZXJEZWYuZXZlbnQ7XG5cbiAgbGV0IHNob3VsZFByZXZlbnREZWZhdWx0ID0gISF0cmlnZ2VyRGVmLnByZXZlbnREZWZhdWx0O1xuXG4gIGlmIChpc0VuYWJsZWQoJ3RyaWdnZXJzUHJldmVudERlZmF1bHQnKSkge1xuICAgIHNob3VsZFByZXZlbnREZWZhdWx0ID0gdHJpZ2dlckRlZi5wcmV2ZW50RGVmYXVsdCAhPT0gZmFsc2U7XG4gIH1cblxuICBsZXQgc2hvdWxkU3RvcFByb3BhZ2F0aW9uID0gISF0cmlnZ2VyRGVmLnN0b3BQcm9wYWdhdGlvbjtcblxuICBpZiAoaXNFbmFibGVkKCd0cmlnZ2Vyc1N0b3BQcm9wYWdhdGlvbicpKSB7XG4gICAgc2hvdWxkU3RvcFByb3BhZ2F0aW9uID0gdHJpZ2dlckRlZi5zdG9wUHJvcGFnYXRpb24gIT09IGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgaWYgKHNob3VsZFByZXZlbnREZWZhdWx0KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIGlmIChzaG91bGRTdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cblxuICAgIHZpZXcudHJpZ2dlck1ldGhvZChldmVudE5hbWUsIHZpZXcsIGV2ZW50KTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIC8vIENvbmZpZ3VyZSBgdHJpZ2dlcnNgIHRvIGZvcndhcmQgRE9NIGV2ZW50cyB0byB2aWV3XG4gIC8vIGV2ZW50cy4gYHRyaWdnZXJzOiB7XCJjbGljayAuZm9vXCI6IFwiZG86Zm9vXCJ9YFxuICBfZ2V0Vmlld1RyaWdnZXJzKHZpZXcsIHRyaWdnZXJzKSB7XG4gICAgLy8gQ29uZmlndXJlIHRoZSB0cmlnZ2VycywgcHJldmVudCBkZWZhdWx0XG4gICAgLy8gYWN0aW9uIGFuZCBzdG9wIHByb3BhZ2F0aW9uIG9mIERPTSBldmVudHNcbiAgICByZXR1cm4gXy5yZWR1Y2UodHJpZ2dlcnMsIChldmVudHMsIHZhbHVlLCBrZXkpID0+IHtcbiAgICAgIGtleSA9IGdldFVuaXF1ZUV2ZW50TmFtZShrZXkpO1xuICAgICAgZXZlbnRzW2tleV0gPSBidWlsZFZpZXdUcmlnZ2VyKHZpZXcsIHZhbHVlKTtcbiAgICAgIHJldHVybiBldmVudHM7XG4gICAgfSwge30pO1xuICB9XG5cbn07XG4iLCJpbXBvcnQgXyBmcm9tICd1bmRlcnNjb3JlJztcbi8vIGFsbG93cyBmb3IgdGhlIHVzZSBvZiB0aGUgQHVpLiBzeW50YXggd2l0aGluXG4vLyBhIGdpdmVuIGtleSBmb3IgdHJpZ2dlcnMgYW5kIGV2ZW50c1xuLy8gc3dhcHMgdGhlIEB1aSB3aXRoIHRoZSBhc3NvY2lhdGVkIHNlbGVjdG9yLlxuLy8gUmV0dXJucyBhIG5ldywgbm9uLW11dGF0ZWQsIHBhcnNlZCBldmVudHMgaGFzaC5cbmNvbnN0IG5vcm1hbGl6ZVVJS2V5cyA9IGZ1bmN0aW9uKGhhc2gsIHVpKSB7XG4gIHJldHVybiBfLnJlZHVjZShoYXNoLCAobWVtbywgdmFsLCBrZXkpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkS2V5ID0gbm9ybWFsaXplVUlTdHJpbmcoa2V5LCB1aSk7XG4gICAgbWVtb1tub3JtYWxpemVkS2V5XSA9IHZhbDtcbiAgICByZXR1cm4gbWVtbztcbiAgfSwge30pO1xufTtcblxuLy8gdXRpbGl0eSBtZXRob2QgZm9yIHBhcnNpbmcgQHVpLiBzeW50YXggc3RyaW5nc1xuLy8gaW50byBhc3NvY2lhdGVkIHNlbGVjdG9yXG5jb25zdCBub3JtYWxpemVVSVN0cmluZyA9IGZ1bmN0aW9uKHVpU3RyaW5nLCB1aSkge1xuICByZXR1cm4gdWlTdHJpbmcucmVwbGFjZSgvQHVpXFwuW2EtekEtWi1fJDAtOV0qL2csIChyKSA9PiB7XG4gICAgcmV0dXJuIHVpW3Iuc2xpY2UoNCldO1xuICB9KTtcbn07XG5cbi8vIGFsbG93cyBmb3IgdGhlIHVzZSBvZiB0aGUgQHVpLiBzeW50YXggd2l0aGluXG4vLyBhIGdpdmVuIHZhbHVlIGZvciByZWdpb25zXG4vLyBzd2FwcyB0aGUgQHVpIHdpdGggdGhlIGFzc29jaWF0ZWQgc2VsZWN0b3JcbmNvbnN0IG5vcm1hbGl6ZVVJVmFsdWVzID0gZnVuY3Rpb24oaGFzaCwgdWksIHByb3BlcnRpZXMpIHtcbiAgXy5lYWNoKGhhc2gsICh2YWwsIGtleSkgPT4ge1xuICAgIGlmIChfLmlzU3RyaW5nKHZhbCkpIHtcbiAgICAgIGhhc2hba2V5XSA9IG5vcm1hbGl6ZVVJU3RyaW5nKHZhbCwgdWkpO1xuICAgIH0gZWxzZSBpZiAoXy5pc09iamVjdCh2YWwpICYmIF8uaXNBcnJheShwcm9wZXJ0aWVzKSkge1xuICAgICAgXy5leHRlbmQodmFsLCBub3JtYWxpemVVSVZhbHVlcyhfLnBpY2sodmFsLCBwcm9wZXJ0aWVzKSwgdWkpKTtcbiAgICAgIC8qIFZhbHVlIGlzIGFuIG9iamVjdCwgYW5kIHdlIGdvdCBhbiBhcnJheSBvZiBlbWJlZGRlZCBwcm9wZXJ0eSBuYW1lcyB0byBub3JtYWxpemUuICovXG4gICAgICBfLmVhY2gocHJvcGVydGllcywgKHByb3BlcnR5KSA9PiB7XG4gICAgICAgIGNvbnN0IHByb3BlcnR5VmFsID0gdmFsW3Byb3BlcnR5XTtcbiAgICAgICAgaWYgKF8uaXNTdHJpbmcocHJvcGVydHlWYWwpKSB7XG4gICAgICAgICAgdmFsW3Byb3BlcnR5XSA9IG5vcm1hbGl6ZVVJU3RyaW5nKHByb3BlcnR5VmFsLCB1aSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBoYXNoO1xufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIC8vIG5vcm1hbGl6ZSB0aGUga2V5cyBvZiBwYXNzZWQgaGFzaCB3aXRoIHRoZSB2aWV3cyBgdWlgIHNlbGVjdG9ycy5cbiAgLy8gYHtcIkB1aS5mb29cIjogXCJiYXJcIn1gXG4gIG5vcm1hbGl6ZVVJS2V5cyhoYXNoKSB7XG4gICAgY29uc3QgdWlCaW5kaW5ncyA9IHRoaXMuX2dldFVJQmluZGluZ3MoKTtcbiAgICByZXR1cm4gbm9ybWFsaXplVUlLZXlzKGhhc2gsIHVpQmluZGluZ3MpO1xuICB9LFxuXG4gIC8vIG5vcm1hbGl6ZSB0aGUgcGFzc2VkIHN0cmluZyB3aXRoIHRoZSB2aWV3cyBgdWlgIHNlbGVjdG9ycy5cbiAgLy8gYFwiQHVpLmJhclwiYFxuICBub3JtYWxpemVVSVN0cmluZyh1aVN0cmluZykge1xuICAgIGNvbnN0IHVpQmluZGluZ3MgPSB0aGlzLl9nZXRVSUJpbmRpbmdzKCk7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZVVJU3RyaW5nKHVpU3RyaW5nLCB1aUJpbmRpbmdzKTtcbiAgfSxcblxuICAvLyBub3JtYWxpemUgdGhlIHZhbHVlcyBvZiBwYXNzZWQgaGFzaCB3aXRoIHRoZSB2aWV3cyBgdWlgIHNlbGVjdG9ycy5cbiAgLy8gYHtmb286IFwiQHVpLmJhclwifWBcbiAgbm9ybWFsaXplVUlWYWx1ZXMoaGFzaCwgcHJvcGVydGllcykge1xuICAgIGNvbnN0IHVpQmluZGluZ3MgPSB0aGlzLl9nZXRVSUJpbmRpbmdzKCk7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZVVJVmFsdWVzKGhhc2gsIHVpQmluZGluZ3MsIHByb3BlcnRpZXMpO1xuICB9LFxuXG4gIF9nZXRVSUJpbmRpbmdzKCkge1xuICAgIGNvbnN0IHVpQmluZGluZ3MgPSBfLnJlc3VsdCh0aGlzLCAnX3VpQmluZGluZ3MnKTtcbiAgICBjb25zdCB1aSA9IF8ucmVzdWx0KHRoaXMsICd1aScpO1xuICAgIHJldHVybiB1aUJpbmRpbmdzIHx8IHVpO1xuICB9LFxuXG4gIC8vIFRoaXMgbWV0aG9kIGJpbmRzIHRoZSBlbGVtZW50cyBzcGVjaWZpZWQgaW4gdGhlIFwidWlcIiBoYXNoIGluc2lkZSB0aGUgdmlldydzIGNvZGUgd2l0aFxuICAvLyB0aGUgYXNzb2NpYXRlZCBqUXVlcnkgc2VsZWN0b3JzLlxuICBfYmluZFVJRWxlbWVudHMoKSB7XG4gICAgaWYgKCF0aGlzLnVpKSB7IHJldHVybjsgfVxuXG4gICAgLy8gc3RvcmUgdGhlIHVpIGhhc2ggaW4gX3VpQmluZGluZ3Mgc28gdGhleSBjYW4gYmUgcmVzZXQgbGF0ZXJcbiAgICAvLyBhbmQgc28gcmUtcmVuZGVyaW5nIHRoZSB2aWV3IHdpbGwgYmUgYWJsZSB0byBmaW5kIHRoZSBiaW5kaW5nc1xuICAgIGlmICghdGhpcy5fdWlCaW5kaW5ncykge1xuICAgICAgdGhpcy5fdWlCaW5kaW5ncyA9IHRoaXMudWk7XG4gICAgfVxuXG4gICAgLy8gZ2V0IHRoZSBiaW5kaW5ncyByZXN1bHQsIGFzIGEgZnVuY3Rpb24gb3Igb3RoZXJ3aXNlXG4gICAgY29uc3QgYmluZGluZ3MgPSBfLnJlc3VsdCh0aGlzLCAnX3VpQmluZGluZ3MnKTtcblxuICAgIC8vIGVtcHR5IHRoZSB1aSBzbyB3ZSBkb24ndCBoYXZlIGFueXRoaW5nIHRvIHN0YXJ0IHdpdGhcbiAgICB0aGlzLl91aSA9IHt9O1xuXG4gICAgLy8gYmluZCBlYWNoIG9mIHRoZSBzZWxlY3RvcnNcbiAgICBfLmVhY2goYmluZGluZ3MsIChzZWxlY3Rvciwga2V5KSA9PiB7XG4gICAgICB0aGlzLl91aVtrZXldID0gdGhpcy4kKHNlbGVjdG9yKTtcbiAgICB9KTtcblxuICAgIHRoaXMudWkgPSB0aGlzLl91aTtcbiAgfSxcblxuICBfdW5iaW5kVUlFbGVtZW50cygpIHtcbiAgICBpZiAoIXRoaXMudWkgfHwgIXRoaXMuX3VpQmluZGluZ3MpIHsgcmV0dXJuOyB9XG5cbiAgICAvLyBkZWxldGUgYWxsIG9mIHRoZSBleGlzdGluZyB1aSBiaW5kaW5nc1xuICAgIF8uZWFjaCh0aGlzLnVpLCAoJGVsLCBuYW1lKSA9PiB7XG4gICAgICBkZWxldGUgdGhpcy51aVtuYW1lXTtcbiAgICB9KTtcblxuICAgIC8vIHJlc2V0IHRoZSB1aSBlbGVtZW50IHRvIHRoZSBvcmlnaW5hbCBiaW5kaW5ncyBjb25maWd1cmF0aW9uXG4gICAgdGhpcy51aSA9IHRoaXMuX3VpQmluZGluZ3M7XG4gICAgZGVsZXRlIHRoaXMuX3VpQmluZGluZ3M7XG4gICAgZGVsZXRlIHRoaXMuX3VpO1xuICB9LFxuXG4gIF9nZXRVSShuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuX3VpW25hbWVdO1xuICB9XG59O1xuIiwiLy8gRG9tQXBpXG4vLyAgLS0tLS0tLS0tXG5pbXBvcnQgXyBmcm9tICd1bmRlcnNjb3JlJztcbmltcG9ydCBCYWNrYm9uZSBmcm9tICdiYWNrYm9uZSc7XG5cbi8vIFBlcmZvcm1hbnQgbWV0aG9kIGZvciByZXR1cm5pbmcgdGhlIGpRdWVyeSBpbnN0YW5jZVxuZnVuY3Rpb24gZ2V0RWwoZWwpIHtcbiAgcmV0dXJuIGVsIGluc3RhbmNlb2YgQmFja2JvbmUuJCA/IGVsIDogQmFja2JvbmUuJChlbCk7XG59XG5cbi8vIFN0YXRpYyBzZXR0ZXJcbmV4cG9ydCBmdW5jdGlvbiBzZXREb21BcGkobWl4aW4pIHtcbiAgdGhpcy5wcm90b3R5cGUuRG9tID0gXy5leHRlbmQoe30sIHRoaXMucHJvdG90eXBlLkRvbSwgbWl4aW4pO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgLy8gUmV0dXJucyBhIG5ldyBIVE1MIERPTSBub2RlIGluc3RhbmNlXG4gIGNyZWF0ZUJ1ZmZlcigpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICB9LFxuXG4gIC8vIExvb2t1cCB0aGUgYHNlbGVjdG9yYCBzdHJpbmdcbiAgLy8gU2VsZWN0b3IgbWF5IGFsc28gYmUgYSBET00gZWxlbWVudFxuICAvLyBSZXR1cm5zIGFuIGFycmF5LWxpa2Ugb2JqZWN0IG9mIG5vZGVzXG4gIGdldEVsKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGdldEVsKHNlbGVjdG9yKTtcbiAgfSxcblxuICAvLyBGaW5kcyB0aGUgYHNlbGVjdG9yYCBzdHJpbmcgd2l0aCB0aGUgZWxcbiAgLy8gUmV0dXJucyBhbiBhcnJheS1saWtlIG9iamVjdCBvZiBub2Rlc1xuICBmaW5kRWwoZWwsIHNlbGVjdG9yLCBfJGVsID0gZ2V0RWwoZWwpKSB7XG4gICAgcmV0dXJuIF8kZWwuZmluZChzZWxlY3Rvcik7XG4gIH0sXG5cbiAgLy8gUmV0dXJucyB0cnVlIGlmIHRoZSBlbCBjb250YWlucyB0aGUgbm9kZSBjaGlsZEVsXG4gIGhhc0VsKGVsLCBjaGlsZEVsKSB7XG4gICAgcmV0dXJuIGVsLmNvbnRhaW5zKGNoaWxkRWwgJiYgY2hpbGRFbC5wYXJlbnROb2RlKTtcbiAgfSxcblxuICAvLyBEZXRhY2ggYGVsYCBmcm9tIHRoZSBET00gd2l0aG91dCByZW1vdmluZyBsaXN0ZW5lcnNcbiAgZGV0YWNoRWwoZWwsIF8kZWwgPSBnZXRFbChlbCkpIHtcbiAgICBfJGVsLmRldGFjaCgpO1xuICB9LFxuXG4gIC8vIFJlbW92ZSBgb2xkRWxgIGZyb20gdGhlIERPTSBhbmQgcHV0IGBuZXdFbGAgaW4gaXRzIHBsYWNlXG4gIHJlcGxhY2VFbChuZXdFbCwgb2xkRWwpIHtcbiAgICBpZiAobmV3RWwgPT09IG9sZEVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcGFyZW50ID0gb2xkRWwucGFyZW50Tm9kZTtcblxuICAgIGlmICghcGFyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcGFyZW50LnJlcGxhY2VDaGlsZChuZXdFbCwgb2xkRWwpO1xuICB9LFxuXG4gIC8vIFN3YXBzIHRoZSBsb2NhdGlvbiBvZiBgZWwxYCBhbmQgYGVsMmAgaW4gdGhlIERPTVxuICBzd2FwRWwoZWwxLCBlbDIpIHtcbiAgICBpZiAoZWwxID09PSBlbDIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwYXJlbnQxID0gZWwxLnBhcmVudE5vZGU7XG4gICAgY29uc3QgcGFyZW50MiA9IGVsMi5wYXJlbnROb2RlO1xuXG4gICAgaWYgKCFwYXJlbnQxIHx8ICFwYXJlbnQyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbmV4dDEgPSBlbDEubmV4dFNpYmxpbmc7XG4gICAgY29uc3QgbmV4dDIgPSBlbDIubmV4dFNpYmxpbmc7XG5cbiAgICBwYXJlbnQxLmluc2VydEJlZm9yZShlbDIsIG5leHQxKTtcbiAgICBwYXJlbnQyLmluc2VydEJlZm9yZShlbDEsIG5leHQyKTtcbiAgfSxcblxuICAvLyBSZXBsYWNlIHRoZSBjb250ZW50cyBvZiBgZWxgIHdpdGggdGhlIEhUTUwgc3RyaW5nIG9mIGBodG1sYFxuICBzZXRDb250ZW50cyhlbCwgaHRtbCwgXyRlbCA9IGdldEVsKGVsKSkge1xuICAgIF8kZWwuaHRtbChodG1sKTtcbiAgfSxcblxuICAvLyBUYWtlcyB0aGUgRE9NIG5vZGUgYGVsYCBhbmQgYXBwZW5kcyB0aGUgRE9NIG5vZGUgYGNvbnRlbnRzYFxuICAvLyB0byB0aGUgZW5kIG9mIHRoZSBlbGVtZW50J3MgY29udGVudHMuXG4gIGFwcGVuZENvbnRlbnRzKGVsLCBjb250ZW50cywge18kZWwgPSBnZXRFbChlbCksIF8kY29udGVudHMgPSBnZXRFbChjb250ZW50cyl9ID0ge30pIHtcbiAgICBfJGVsLmFwcGVuZChfJGNvbnRlbnRzKTtcbiAgfSxcblxuICAvLyBEb2VzIHRoZSBlbCBoYXZlIGNoaWxkIG5vZGVzXG4gIGhhc0NvbnRlbnRzKGVsKSB7XG4gICAgcmV0dXJuIGVsLmhhc0NoaWxkTm9kZXMoKTtcbiAgfSxcblxuICAvLyBSZW1vdmUgdGhlIGlubmVyIGNvbnRlbnRzIG9mIGBlbGAgZnJvbSB0aGUgRE9NIHdoaWxlIGxlYXZpbmdcbiAgLy8gYGVsYCBpdHNlbGYgaW4gdGhlIERPTS5cbiAgZGV0YWNoQ29udGVudHMoZWwsIF8kZWwgPSBnZXRFbChlbCkpIHtcbiAgICBfJGVsLmNvbnRlbnRzKCkuZGV0YWNoKCk7XG4gIH1cbn07XG4iLCIvLyBWaWV3TWl4aW5cbi8vICAtLS0tLS0tLS1cblxuaW1wb3J0IEJhY2tib25lIGZyb20gJ2JhY2tib25lJztcbmltcG9ydCBfIGZyb20gJ3VuZGVyc2NvcmUnO1xuaW1wb3J0IHsgdHJpZ2dlck1ldGhvZCB9IGZyb20gJy4uL2NvbW1vbi90cmlnZ2VyLW1ldGhvZCc7XG5pbXBvcnQgQmVoYXZpb3JzTWl4aW4gZnJvbSAnLi9iZWhhdmlvcnMnO1xuaW1wb3J0IENvbW1vbk1peGluIGZyb20gJy4vY29tbW9uJztcbmltcG9ydCBEZWxlZ2F0ZUVudGl0eUV2ZW50c01peGluIGZyb20gJy4vZGVsZWdhdGUtZW50aXR5LWV2ZW50cyc7XG5pbXBvcnQgVHJpZ2dlcnNNaXhpbiBmcm9tICcuL3RyaWdnZXJzJztcbmltcG9ydCBVSU1peGluIGZyb20gJy4vdWknO1xuaW1wb3J0IHsgaXNFbmFibGVkIH0gZnJvbSAnLi4vY29uZmlnL2ZlYXR1cmVzJztcbmltcG9ydCBEb21BcGkgZnJvbSAnLi4vY29uZmlnL2RvbSc7XG5cbi8vIE1peGluT3B0aW9uc1xuLy8gLSBiZWhhdmlvcnNcbi8vIC0gY2hpbGRWaWV3RXZlbnRQcmVmaXhcbi8vIC0gY2hpbGRWaWV3RXZlbnRzXG4vLyAtIGNoaWxkVmlld1RyaWdnZXJzXG4vLyAtIGNvbGxlY3Rpb25FdmVudHNcbi8vIC0gbW9kZWxFdmVudHNcbi8vIC0gdHJpZ2dlcnNcbi8vIC0gdWlcblxuXG5jb25zdCBWaWV3TWl4aW4gPSB7XG4gIERvbTogRG9tQXBpLFxuXG4gIHN1cHBvcnRzUmVuZGVyTGlmZWN5Y2xlOiB0cnVlLFxuICBzdXBwb3J0c0Rlc3Ryb3lMaWZlY3ljbGU6IHRydWUsXG5cbiAgX2lzRGVzdHJveWVkOiBmYWxzZSxcblxuICBpc0Rlc3Ryb3llZCgpIHtcbiAgICByZXR1cm4gISF0aGlzLl9pc0Rlc3Ryb3llZDtcbiAgfSxcblxuICBfaXNSZW5kZXJlZDogZmFsc2UsXG5cbiAgaXNSZW5kZXJlZCgpIHtcbiAgICByZXR1cm4gISF0aGlzLl9pc1JlbmRlcmVkO1xuICB9LFxuXG4gIF9pc0F0dGFjaGVkOiBmYWxzZSxcblxuICBpc0F0dGFjaGVkKCkge1xuICAgIHJldHVybiAhIXRoaXMuX2lzQXR0YWNoZWQ7XG4gIH0sXG5cbiAgLy8gT3ZlcnJpZGluZyBCYWNrYm9uZS5WaWV3J3MgYGRlbGVnYXRlRXZlbnRzYCB0byBoYW5kbGVcbiAgLy8gYGV2ZW50c2AgYW5kIGB0cmlnZ2Vyc2BcbiAgZGVsZWdhdGVFdmVudHMoZXZlbnRzQXJnKSB7XG5cbiAgICB0aGlzLl9wcm94eUJlaGF2aW9yVmlld1Byb3BlcnRpZXMoKTtcbiAgICB0aGlzLl9idWlsZEV2ZW50UHJveGllcygpO1xuXG4gICAgY29uc3Qgdmlld0V2ZW50cyA9IHRoaXMuX2dldEV2ZW50cyhldmVudHNBcmcpO1xuXG4gICAgaWYgKHR5cGVvZiBldmVudHNBcmcgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLmV2ZW50cyA9IHZpZXdFdmVudHM7XG4gICAgfVxuXG4gICAgY29uc3QgY29tYmluZWRFdmVudHMgPSBfLmV4dGVuZCh7fSxcbiAgICAgIHRoaXMuX2dldEJlaGF2aW9yRXZlbnRzKCksXG4gICAgICB2aWV3RXZlbnRzLFxuICAgICAgdGhpcy5fZ2V0QmVoYXZpb3JUcmlnZ2VycygpLFxuICAgICAgdGhpcy5nZXRUcmlnZ2VycygpXG4gICAgKTtcblxuICAgIEJhY2tib25lLlZpZXcucHJvdG90eXBlLmRlbGVnYXRlRXZlbnRzLmNhbGwodGhpcywgY29tYmluZWRFdmVudHMpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgX2dldEV2ZW50cyhldmVudHNBcmcpIHtcbiAgICBjb25zdCBldmVudHMgPSBldmVudHNBcmcgfHwgdGhpcy5ldmVudHM7XG5cbiAgICBpZiAoXy5pc0Z1bmN0aW9uKGV2ZW50cykpIHtcbiAgICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZVVJS2V5cyhldmVudHMuY2FsbCh0aGlzKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMubm9ybWFsaXplVUlLZXlzKGV2ZW50cyk7XG4gIH0sXG5cbiAgLy8gQ29uZmlndXJlIGB0cmlnZ2Vyc2AgdG8gZm9yd2FyZCBET00gZXZlbnRzIHRvIHZpZXdcbiAgLy8gZXZlbnRzLiBgdHJpZ2dlcnM6IHtcImNsaWNrIC5mb29cIjogXCJkbzpmb29cIn1gXG4gIGdldFRyaWdnZXJzKCkge1xuICAgIGlmICghdGhpcy50cmlnZ2VycykgeyByZXR1cm47IH1cblxuICAgIC8vIEFsbG93IGB0cmlnZ2Vyc2AgdG8gYmUgY29uZmlndXJlZCBhcyBhIGZ1bmN0aW9uXG4gICAgY29uc3QgdHJpZ2dlcnMgPSB0aGlzLm5vcm1hbGl6ZVVJS2V5cyhfLnJlc3VsdCh0aGlzLCAndHJpZ2dlcnMnKSk7XG5cbiAgICAvLyBDb25maWd1cmUgdGhlIHRyaWdnZXJzLCBwcmV2ZW50IGRlZmF1bHRcbiAgICAvLyBhY3Rpb24gYW5kIHN0b3AgcHJvcGFnYXRpb24gb2YgRE9NIGV2ZW50c1xuICAgIHJldHVybiB0aGlzLl9nZXRWaWV3VHJpZ2dlcnModGhpcywgdHJpZ2dlcnMpO1xuICB9LFxuXG4gIC8vIEhhbmRsZSBgbW9kZWxFdmVudHNgLCBhbmQgYGNvbGxlY3Rpb25FdmVudHNgIGNvbmZpZ3VyYXRpb25cbiAgZGVsZWdhdGVFbnRpdHlFdmVudHMoKSB7XG4gICAgdGhpcy5fZGVsZWdhdGVFbnRpdHlFdmVudHModGhpcy5tb2RlbCwgdGhpcy5jb2xsZWN0aW9uKTtcblxuICAgIC8vIGJpbmQgZWFjaCBiZWhhdmlvcnMgbW9kZWwgYW5kIGNvbGxlY3Rpb24gZXZlbnRzXG4gICAgdGhpcy5fZGVsZWdhdGVCZWhhdmlvckVudGl0eUV2ZW50cygpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLy8gSGFuZGxlIHVuYmluZGluZyBgbW9kZWxFdmVudHNgLCBhbmQgYGNvbGxlY3Rpb25FdmVudHNgIGNvbmZpZ3VyYXRpb25cbiAgdW5kZWxlZ2F0ZUVudGl0eUV2ZW50cygpIHtcbiAgICB0aGlzLl91bmRlbGVnYXRlRW50aXR5RXZlbnRzKHRoaXMubW9kZWwsIHRoaXMuY29sbGVjdGlvbik7XG5cbiAgICAvLyB1bmJpbmQgZWFjaCBiZWhhdmlvcnMgbW9kZWwgYW5kIGNvbGxlY3Rpb24gZXZlbnRzXG4gICAgdGhpcy5fdW5kZWxlZ2F0ZUJlaGF2aW9yRW50aXR5RXZlbnRzKCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvLyBIYW5kbGUgZGVzdHJveWluZyB0aGUgdmlldyBhbmQgaXRzIGNoaWxkcmVuLlxuICBkZXN0cm95KC4uLmFyZ3MpIHtcbiAgICBpZiAodGhpcy5faXNEZXN0cm95ZWQpIHsgcmV0dXJuIHRoaXM7IH1cbiAgICBjb25zdCBzaG91bGRUcmlnZ2VyRGV0YWNoID0gdGhpcy5faXNBdHRhY2hlZCAmJiAhdGhpcy5fc2hvdWxkRGlzYWJsZUV2ZW50cztcblxuICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnYmVmb3JlOmRlc3Ryb3knLCB0aGlzLCAuLi5hcmdzKTtcbiAgICBpZiAoc2hvdWxkVHJpZ2dlckRldGFjaCkge1xuICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdiZWZvcmU6ZGV0YWNoJywgdGhpcyk7XG4gICAgfVxuXG4gICAgLy8gdW5iaW5kIFVJIGVsZW1lbnRzXG4gICAgdGhpcy51bmJpbmRVSUVsZW1lbnRzKCk7XG5cbiAgICAvLyByZW1vdmUgdGhlIHZpZXcgZnJvbSB0aGUgRE9NXG4gICAgdGhpcy5fcmVtb3ZlRWxlbWVudCgpO1xuXG4gICAgaWYgKHNob3VsZFRyaWdnZXJEZXRhY2gpIHtcbiAgICAgIHRoaXMuX2lzQXR0YWNoZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnZGV0YWNoJywgdGhpcyk7XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIGNoaWxkcmVuIGFmdGVyIHRoZSByZW1vdmUgdG8gcHJldmVudCBleHRyYSBwYWludHNcbiAgICB0aGlzLl9yZW1vdmVDaGlsZHJlbigpO1xuXG4gICAgdGhpcy5faXNEZXN0cm95ZWQgPSB0cnVlO1xuICAgIHRoaXMuX2lzUmVuZGVyZWQgPSBmYWxzZTtcblxuICAgIC8vIERlc3Ryb3kgYmVoYXZpb3JzIGFmdGVyIF9pc0Rlc3Ryb3llZCBmbGFnXG4gICAgdGhpcy5fZGVzdHJveUJlaGF2aW9ycyguLi5hcmdzKTtcblxuICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnZGVzdHJveScsIHRoaXMsIC4uLmFyZ3MpO1xuXG4gICAgdGhpcy5zdG9wTGlzdGVuaW5nKCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvLyBFcXVhdGVzIHRvIHRoaXMuJGVsLnJlbW92ZVxuICBfcmVtb3ZlRWxlbWVudCgpIHtcbiAgICB0aGlzLiRlbC5vZmYoKS5yZW1vdmVEYXRhKCk7XG4gICAgdGhpcy5Eb20uZGV0YWNoRWwodGhpcy5lbCwgdGhpcy4kZWwpO1xuICB9LFxuXG4gIGJpbmRVSUVsZW1lbnRzKCkge1xuICAgIHRoaXMuX2JpbmRVSUVsZW1lbnRzKCk7XG4gICAgdGhpcy5fYmluZEJlaGF2aW9yVUlFbGVtZW50cygpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLy8gVGhpcyBtZXRob2QgdW5iaW5kcyB0aGUgZWxlbWVudHMgc3BlY2lmaWVkIGluIHRoZSBcInVpXCIgaGFzaFxuICB1bmJpbmRVSUVsZW1lbnRzKCkge1xuICAgIHRoaXMuX3VuYmluZFVJRWxlbWVudHMoKTtcbiAgICB0aGlzLl91bmJpbmRCZWhhdmlvclVJRWxlbWVudHMoKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIGdldFVJKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0VUkobmFtZSk7XG4gIH0sXG5cbiAgLy8gdXNlZCBhcyB0aGUgcHJlZml4IGZvciBjaGlsZCB2aWV3IGV2ZW50c1xuICAvLyB0aGF0IGFyZSBmb3J3YXJkZWQgdGhyb3VnaCB0aGUgbGF5b3V0dmlld1xuICBjaGlsZFZpZXdFdmVudFByZWZpeCgpIHtcbiAgICByZXR1cm4gaXNFbmFibGVkKCdjaGlsZFZpZXdFdmVudFByZWZpeCcpID8gJ2NoaWxkdmlldycgOiBmYWxzZTtcbiAgfSxcblxuICAvLyBpbXBvcnQgdGhlIGB0cmlnZ2VyTWV0aG9kYCB0byB0cmlnZ2VyIGV2ZW50cyB3aXRoIGNvcnJlc3BvbmRpbmdcbiAgLy8gbWV0aG9kcyBpZiB0aGUgbWV0aG9kIGV4aXN0c1xuICB0cmlnZ2VyTWV0aG9kKCkge1xuICAgIGNvbnN0IHJldCA9IHRyaWdnZXJNZXRob2QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMuX3RyaWdnZXJFdmVudE9uQmVoYXZpb3JzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICByZXR1cm4gcmV0O1xuICB9LFxuXG4gIC8vIENhY2hlIGBjaGlsZFZpZXdFdmVudHNgIGFuZCBgY2hpbGRWaWV3VHJpZ2dlcnNgXG4gIF9idWlsZEV2ZW50UHJveGllcygpIHtcbiAgICB0aGlzLl9jaGlsZFZpZXdFdmVudHMgPSBfLnJlc3VsdCh0aGlzLCAnY2hpbGRWaWV3RXZlbnRzJyk7XG4gICAgdGhpcy5fY2hpbGRWaWV3VHJpZ2dlcnMgPSBfLnJlc3VsdCh0aGlzLCAnY2hpbGRWaWV3VHJpZ2dlcnMnKTtcbiAgfSxcblxuICBfcHJveHlDaGlsZFZpZXdFdmVudHModmlldykge1xuICAgIHRoaXMubGlzdGVuVG8odmlldywgJ2FsbCcsIHRoaXMuX2NoaWxkVmlld0V2ZW50SGFuZGxlcik7XG4gIH0sXG5cbiAgX2NoaWxkVmlld0V2ZW50SGFuZGxlcihldmVudE5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBjaGlsZFZpZXdFdmVudHMgPSB0aGlzLm5vcm1hbGl6ZU1ldGhvZHModGhpcy5fY2hpbGRWaWV3RXZlbnRzKTtcblxuICAgIC8vIGNhbGwgY29sbGVjdGlvblZpZXcgY2hpbGRWaWV3RXZlbnQgaWYgZGVmaW5lZFxuICAgIGlmICh0eXBlb2YgY2hpbGRWaWV3RXZlbnRzICE9PSAndW5kZWZpbmVkJyAmJiBfLmlzRnVuY3Rpb24oY2hpbGRWaWV3RXZlbnRzW2V2ZW50TmFtZV0pKSB7XG4gICAgICBjaGlsZFZpZXdFdmVudHNbZXZlbnROYW1lXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG5cbiAgICAvLyB1c2UgdGhlIHBhcmVudCB2aWV3J3MgcHJveHlFdmVudCBoYW5kbGVyc1xuICAgIGNvbnN0IGNoaWxkVmlld1RyaWdnZXJzID0gdGhpcy5fY2hpbGRWaWV3VHJpZ2dlcnM7XG5cbiAgICAvLyBDYWxsIHRoZSBldmVudCB3aXRoIHRoZSBwcm94eSBuYW1lIG9uIHRoZSBwYXJlbnQgbGF5b3V0XG4gICAgaWYgKGNoaWxkVmlld1RyaWdnZXJzICYmIF8uaXNTdHJpbmcoY2hpbGRWaWV3VHJpZ2dlcnNbZXZlbnROYW1lXSkpIHtcbiAgICAgIHRoaXMudHJpZ2dlck1ldGhvZChjaGlsZFZpZXdUcmlnZ2Vyc1tldmVudE5hbWVdLCAuLi5hcmdzKTtcbiAgICB9XG5cbiAgICBjb25zdCBwcmVmaXggPSBfLnJlc3VsdCh0aGlzLCAnY2hpbGRWaWV3RXZlbnRQcmVmaXgnKTtcblxuICAgIGlmIChwcmVmaXggIT09IGZhbHNlKSB7XG4gICAgICBjb25zdCBjaGlsZEV2ZW50TmFtZSA9IHByZWZpeCArICc6JyArIGV2ZW50TmFtZTtcblxuICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKGNoaWxkRXZlbnROYW1lLCAuLi5hcmdzKTtcbiAgICB9XG4gIH1cbn07XG5cbl8uZXh0ZW5kKFZpZXdNaXhpbiwgQmVoYXZpb3JzTWl4aW4sIENvbW1vbk1peGluLCBEZWxlZ2F0ZUVudGl0eUV2ZW50c01peGluLCBUcmlnZ2Vyc01peGluLCBVSU1peGluKTtcblxuZXhwb3J0IGRlZmF1bHQgVmlld01peGluO1xuIiwiaW1wb3J0IHsgdHJpZ2dlck1ldGhvZE9uIH0gZnJvbSAnLi4vY29tbW9uL3RyaWdnZXItbWV0aG9kJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlclZpZXcodmlldykge1xuICBpZiAodmlldy5faXNSZW5kZXJlZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghdmlldy5zdXBwb3J0c1JlbmRlckxpZmVjeWNsZSkge1xuICAgIHRyaWdnZXJNZXRob2RPbih2aWV3LCAnYmVmb3JlOnJlbmRlcicsIHZpZXcpO1xuICB9XG5cbiAgdmlldy5yZW5kZXIoKTtcblxuICBpZiAoIXZpZXcuc3VwcG9ydHNSZW5kZXJMaWZlY3ljbGUpIHtcbiAgICB2aWV3Ll9pc1JlbmRlcmVkID0gdHJ1ZTtcbiAgICB0cmlnZ2VyTWV0aG9kT24odmlldywgJ3JlbmRlcicsIHZpZXcpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95Vmlldyh2aWV3KSB7XG4gIGlmICh2aWV3LmRlc3Ryb3kpIHtcbiAgICB2aWV3LmRlc3Ryb3koKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIXZpZXcuc3VwcG9ydHNEZXN0cm95TGlmZWN5Y2xlKSB7XG4gICAgdHJpZ2dlck1ldGhvZE9uKHZpZXcsICdiZWZvcmU6ZGVzdHJveScsIHZpZXcpO1xuICB9XG5cbiAgY29uc3Qgc2hvdWxkVHJpZ2dlckRldGFjaCA9IHZpZXcuX2lzQXR0YWNoZWQgJiYgIXZpZXcuX3Nob3VsZERpc2FibGVFdmVudHM7XG5cbiAgaWYgKHNob3VsZFRyaWdnZXJEZXRhY2gpIHtcbiAgICB0cmlnZ2VyTWV0aG9kT24odmlldywgJ2JlZm9yZTpkZXRhY2gnLCB2aWV3KTtcbiAgfVxuXG4gIHZpZXcucmVtb3ZlKCk7XG5cbiAgaWYgKHNob3VsZFRyaWdnZXJEZXRhY2gpIHtcbiAgICB2aWV3Ll9pc0F0dGFjaGVkID0gZmFsc2U7XG4gICAgdHJpZ2dlck1ldGhvZE9uKHZpZXcsICdkZXRhY2gnLCB2aWV3KTtcbiAgfVxuXG4gIHZpZXcuX2lzRGVzdHJveWVkID0gdHJ1ZTtcblxuICBpZiAoIXZpZXcuc3VwcG9ydHNEZXN0cm95TGlmZWN5Y2xlKSB7XG4gICAgdHJpZ2dlck1ldGhvZE9uKHZpZXcsICdkZXN0cm95Jywgdmlldyk7XG4gIH1cbn1cbiIsIi8vIFJlZ2lvblxuLy8gLS0tLS0tXG5cbmltcG9ydCBfIGZyb20gJ3VuZGVyc2NvcmUnO1xuaW1wb3J0IEJhY2tib25lIGZyb20gJ2JhY2tib25lJztcbmltcG9ydCBkZXByZWNhdGUgZnJvbSAnLi91dGlscy9kZXByZWNhdGUnO1xuaW1wb3J0IHsgcmVuZGVyVmlldywgZGVzdHJveVZpZXcgfSBmcm9tICcuL2NvbW1vbi92aWV3JztcbmltcG9ydCBtb25pdG9yVmlld0V2ZW50cyBmcm9tICcuL2NvbW1vbi9tb25pdG9yLXZpZXctZXZlbnRzJztcbmltcG9ydCBpc05vZGVBdHRhY2hlZCBmcm9tICcuL2NvbW1vbi9pcy1ub2RlLWF0dGFjaGVkJztcbmltcG9ydCB7IHRyaWdnZXJNZXRob2RPbiB9IGZyb20gJy4vY29tbW9uL3RyaWdnZXItbWV0aG9kJztcbmltcG9ydCBNYXJpb25ldHRlT2JqZWN0IGZyb20gJy4vb2JqZWN0JztcbmltcG9ydCBNYXJpb25ldHRlRXJyb3IgZnJvbSAnLi9lcnJvcic7XG5pbXBvcnQgVmlldyBmcm9tICcuL3ZpZXcnO1xuaW1wb3J0IERvbUFwaSwgeyBzZXREb21BcGkgfSBmcm9tICcuL2NvbmZpZy9kb20nO1xuXG5jb25zdCBDbGFzc09wdGlvbnMgPSBbXG4gICdhbGxvd01pc3NpbmdFbCcsXG4gICdwYXJlbnRFbCcsXG4gICdyZXBsYWNlRWxlbWVudCdcbl07XG5cbmNvbnN0IFJlZ2lvbiA9IE1hcmlvbmV0dGVPYmplY3QuZXh0ZW5kKHtcbiAgRG9tOiBEb21BcGksXG5cbiAgY2lkUHJlZml4OiAnbW5yJyxcbiAgcmVwbGFjZUVsZW1lbnQ6IGZhbHNlLFxuICBfaXNSZXBsYWNlZDogZmFsc2UsXG4gIF9pc1N3YXBwaW5nVmlldzogZmFsc2UsXG5cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuX3NldE9wdGlvbnMob3B0aW9ucyk7XG5cbiAgICB0aGlzLm1lcmdlT3B0aW9ucyhvcHRpb25zLCBDbGFzc09wdGlvbnMpO1xuXG4gICAgLy8gZ2V0T3B0aW9uIG5lY2Vzc2FyeSBiZWNhdXNlIG9wdGlvbnMuZWwgbWF5IGJlIHBhc3NlZCBhcyB1bmRlZmluZWRcbiAgICB0aGlzLl9pbml0RWwgPSB0aGlzLmVsID0gdGhpcy5nZXRPcHRpb24oJ2VsJyk7XG5cbiAgICAvLyBIYW5kbGUgd2hlbiB0aGlzLmVsIGlzIHBhc3NlZCBpbiBhcyBhICQgd3JhcHBlZCBlbGVtZW50LlxuICAgIHRoaXMuZWwgPSB0aGlzLmVsIGluc3RhbmNlb2YgQmFja2JvbmUuJCA/IHRoaXMuZWxbMF0gOiB0aGlzLmVsO1xuXG4gICAgaWYgKCF0aGlzLmVsKSB7XG4gICAgICB0aHJvdyBuZXcgTWFyaW9uZXR0ZUVycm9yKHtcbiAgICAgICAgbmFtZTogJ05vRWxFcnJvcicsXG4gICAgICAgIG1lc3NhZ2U6ICdBbiBcImVsXCIgbXVzdCBiZSBzcGVjaWZpZWQgZm9yIGEgcmVnaW9uLidcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuJGVsID0gdGhpcy5nZXRFbCh0aGlzLmVsKTtcbiAgICBNYXJpb25ldHRlT2JqZWN0LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gIH0sXG5cbiAgLy8gRGlzcGxheXMgYSBiYWNrYm9uZSB2aWV3IGluc3RhbmNlIGluc2lkZSBvZiB0aGUgcmVnaW9uLiBIYW5kbGVzIGNhbGxpbmcgdGhlIGByZW5kZXJgXG4gIC8vIG1ldGhvZCBmb3IgeW91LiBSZWFkcyBjb250ZW50IGRpcmVjdGx5IGZyb20gdGhlIGBlbGAgYXR0cmlidXRlLiBUaGUgYHByZXZlbnREZXN0cm95YFxuICAvLyBvcHRpb24gY2FuIGJlIHVzZWQgdG8gcHJldmVudCBhIHZpZXcgZnJvbSB0aGUgb2xkIHZpZXcgYmVpbmcgZGVzdHJveWVkIG9uIHNob3cuXG4gIHNob3codmlldywgb3B0aW9ucykge1xuICAgIGlmICghdGhpcy5fZW5zdXJlRWxlbWVudChvcHRpb25zKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZpZXcgPSB0aGlzLl9nZXRWaWV3KHZpZXcsIG9wdGlvbnMpO1xuXG4gICAgaWYgKHZpZXcgPT09IHRoaXMuY3VycmVudFZpZXcpIHsgcmV0dXJuIHRoaXM7IH1cblxuICAgIHRoaXMuX2lzU3dhcHBpbmdWaWV3ID0gISF0aGlzLmN1cnJlbnRWaWV3O1xuXG4gICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdiZWZvcmU6c2hvdycsIHRoaXMsIHZpZXcsIG9wdGlvbnMpO1xuXG4gICAgLy8gQXNzdW1lIGFuIGF0dGFjaGVkIHZpZXcgaXMgYWxyZWFkeSBpbiB0aGUgcmVnaW9uIGZvciBwcmUtZXhpc3RpbmcgRE9NXG4gICAgaWYgKCF2aWV3Ll9pc0F0dGFjaGVkKSB7XG4gICAgICB0aGlzLmVtcHR5KG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHRoaXMuX3NldHVwQ2hpbGRWaWV3KHZpZXcpO1xuXG4gICAgdGhpcy5jdXJyZW50VmlldyA9IHZpZXc7XG5cbiAgICByZW5kZXJWaWV3KHZpZXcpO1xuXG4gICAgdGhpcy5fYXR0YWNoVmlldyh2aWV3LCBvcHRpb25zKTtcblxuICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnc2hvdycsIHRoaXMsIHZpZXcsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5faXNTd2FwcGluZ1ZpZXcgPSBmYWxzZTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIF9zZXR1cENoaWxkVmlldyh2aWV3KSB7XG4gICAgbW9uaXRvclZpZXdFdmVudHModmlldyk7XG5cbiAgICB0aGlzLl9wcm94eUNoaWxkVmlld0V2ZW50cyh2aWV3KTtcblxuICAgIC8vIFdlIG5lZWQgdG8gbGlzdGVuIGZvciBpZiBhIHZpZXcgaXMgZGVzdHJveWVkIGluIGEgd2F5IG90aGVyIHRoYW4gdGhyb3VnaCB0aGUgcmVnaW9uLlxuICAgIC8vIElmIHRoaXMgaGFwcGVucyB3ZSBuZWVkIHRvIHJlbW92ZSB0aGUgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50VmlldyBzaW5jZSBvbmNlIGEgdmlld1xuICAgIC8vIGhhcyBiZWVuIGRlc3Ryb3llZCB3ZSBjYW4gbm90IHJldXNlIGl0LlxuICAgIHZpZXcub24oJ2Rlc3Ryb3knLCB0aGlzLl9lbXB0eSwgdGhpcyk7XG4gIH0sXG5cbiAgX3Byb3h5Q2hpbGRWaWV3RXZlbnRzKHZpZXcpIHtcbiAgICBjb25zdCBwYXJlbnRWaWV3ID0gdGhpcy5fcGFyZW50VmlldztcblxuICAgIGlmICghcGFyZW50VmlldykgeyByZXR1cm47IH1cblxuICAgIHBhcmVudFZpZXcuX3Byb3h5Q2hpbGRWaWV3RXZlbnRzKHZpZXcpO1xuICB9LFxuXG4gIC8vIElmIHRoZSByZWdpb25zIHBhcmVudCB2aWV3IGlzIG5vdCBtb25pdG9yaW5nIGl0cyBhdHRhY2gvZGV0YWNoIGV2ZW50c1xuICBfc2hvdWxkRGlzYWJsZU1vbml0b3JpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BhcmVudFZpZXcgJiYgdGhpcy5fcGFyZW50Vmlldy5tb25pdG9yVmlld0V2ZW50cyA9PT0gZmFsc2U7XG4gIH0sXG5cbiAgX2F0dGFjaFZpZXcodmlldywgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3Qgc2hvdWxkVHJpZ2dlckF0dGFjaCA9ICF2aWV3Ll9pc0F0dGFjaGVkICYmIGlzTm9kZUF0dGFjaGVkKHRoaXMuZWwpICYmICF0aGlzLl9zaG91bGREaXNhYmxlTW9uaXRvcmluZygpO1xuICAgIGNvbnN0IHNob3VsZFJlcGxhY2VFbCA9IHR5cGVvZiBvcHRpb25zLnJlcGxhY2VFbGVtZW50ID09PSAndW5kZWZpbmVkJyA/ICEhXy5yZXN1bHQodGhpcywgJ3JlcGxhY2VFbGVtZW50JykgOiAhIW9wdGlvbnMucmVwbGFjZUVsZW1lbnQ7XG5cbiAgICBpZiAoc2hvdWxkVHJpZ2dlckF0dGFjaCkge1xuICAgICAgdHJpZ2dlck1ldGhvZE9uKHZpZXcsICdiZWZvcmU6YXR0YWNoJywgdmlldyk7XG4gICAgfVxuXG4gICAgaWYgKHNob3VsZFJlcGxhY2VFbCkge1xuICAgICAgdGhpcy5fcmVwbGFjZUVsKHZpZXcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmF0dGFjaEh0bWwodmlldyk7XG4gICAgfVxuXG4gICAgaWYgKHNob3VsZFRyaWdnZXJBdHRhY2gpIHtcbiAgICAgIHZpZXcuX2lzQXR0YWNoZWQgPSB0cnVlO1xuICAgICAgdHJpZ2dlck1ldGhvZE9uKHZpZXcsICdhdHRhY2gnLCB2aWV3KTtcbiAgICB9XG4gIH0sXG5cbiAgX2Vuc3VyZUVsZW1lbnQob3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KHRoaXMuZWwpKSB7XG4gICAgICB0aGlzLiRlbCA9IHRoaXMuZ2V0RWwodGhpcy5lbCk7XG4gICAgICB0aGlzLmVsID0gdGhpcy4kZWxbMF07XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLiRlbCB8fCB0aGlzLiRlbC5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnN0IGFsbG93TWlzc2luZ0VsID0gdHlwZW9mIG9wdGlvbnMuYWxsb3dNaXNzaW5nRWwgPT09ICd1bmRlZmluZWQnID8gISFfLnJlc3VsdCh0aGlzLCAnYWxsb3dNaXNzaW5nRWwnKSA6ICEhb3B0aW9ucy5hbGxvd01pc3NpbmdFbDtcblxuICAgICAgaWYgKGFsbG93TWlzc2luZ0VsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBNYXJpb25ldHRlRXJyb3IoYEFuIFwiZWxcIiBtdXN0IGV4aXN0IGluIERPTSBmb3IgdGhpcyByZWdpb24gJHt0aGlzLmNpZH1gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG5cbiAgX2dldFZpZXcodmlldykge1xuICAgIGlmICghdmlldykge1xuICAgICAgdGhyb3cgbmV3IE1hcmlvbmV0dGVFcnJvcih7XG4gICAgICAgIG5hbWU6ICdWaWV3Tm90VmFsaWQnLFxuICAgICAgICBtZXNzYWdlOiAnVGhlIHZpZXcgcGFzc2VkIGlzIHVuZGVmaW5lZCBhbmQgdGhlcmVmb3JlIGludmFsaWQuIFlvdSBtdXN0IHBhc3MgYSB2aWV3IGluc3RhbmNlIHRvIHNob3cuJ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHZpZXcuX2lzRGVzdHJveWVkKSB7XG4gICAgICB0aHJvdyBuZXcgTWFyaW9uZXR0ZUVycm9yKHtcbiAgICAgICAgbmFtZTogJ1ZpZXdEZXN0cm95ZWRFcnJvcicsXG4gICAgICAgIG1lc3NhZ2U6IGBWaWV3IChjaWQ6IFwiJHt2aWV3LmNpZH1cIikgaGFzIGFscmVhZHkgYmVlbiBkZXN0cm95ZWQgYW5kIGNhbm5vdCBiZSB1c2VkLmBcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh2aWV3IGluc3RhbmNlb2YgQmFja2JvbmUuVmlldykge1xuICAgICAgcmV0dXJuIHZpZXc7XG4gICAgfVxuXG4gICAgY29uc3Qgdmlld09wdGlvbnMgPSB0aGlzLl9nZXRWaWV3T3B0aW9ucyh2aWV3KTtcblxuICAgIHJldHVybiBuZXcgVmlldyh2aWV3T3B0aW9ucyk7XG4gIH0sXG5cbiAgLy8gVGhpcyBhbGxvd3MgZm9yIGEgdGVtcGxhdGUgb3IgYSBzdGF0aWMgc3RyaW5nIHRvIGJlXG4gIC8vIHVzZWQgYXMgYSB0ZW1wbGF0ZVxuICBfZ2V0Vmlld09wdGlvbnModmlld09wdGlvbnMpIHtcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKHZpZXdPcHRpb25zKSkge1xuICAgICAgcmV0dXJuIHsgdGVtcGxhdGU6IHZpZXdPcHRpb25zIH07XG4gICAgfVxuXG4gICAgaWYgKF8uaXNPYmplY3Qodmlld09wdGlvbnMpKSB7XG4gICAgICByZXR1cm4gdmlld09wdGlvbnM7XG4gICAgfVxuXG4gICAgY29uc3QgdGVtcGxhdGUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHZpZXdPcHRpb25zOyB9O1xuXG4gICAgcmV0dXJuIHsgdGVtcGxhdGUgfTtcbiAgfSxcblxuICAvLyBPdmVycmlkZSB0aGlzIG1ldGhvZCB0byBjaGFuZ2UgaG93IHRoZSByZWdpb24gZmluZHMgdGhlIERPTSBlbGVtZW50IHRoYXQgaXQgbWFuYWdlcy4gUmV0dXJuXG4gIC8vIGEgalF1ZXJ5IHNlbGVjdG9yIG9iamVjdCBzY29wZWQgdG8gYSBwcm92aWRlZCBwYXJlbnQgZWwgb3IgdGhlIGRvY3VtZW50IGlmIG5vbmUgZXhpc3RzLlxuICBnZXRFbChlbCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBfLnJlc3VsdCh0aGlzLCAncGFyZW50RWwnKTtcblxuICAgIGlmIChjb250ZXh0ICYmIF8uaXNTdHJpbmcoZWwpKSB7XG4gICAgICBjb25zdCAkZWwgPSB0aGlzLkRvbS5maW5kRWwoY29udGV4dCwgZWwpO1xuICAgICAgaWYgKCRlbC5sZW5ndGgpIHsgcmV0dXJuICRlbDsgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLkRvbS5nZXRFbChlbCk7XG4gIH0sXG5cbiAgX3JlcGxhY2VFbCh2aWV3KSB7XG4gICAgLy8gYWx3YXlzIHJlc3RvcmUgdGhlIGVsIHRvIGVuc3VyZSB0aGUgcmVnaW9ucyBlbCBpcyBwcmVzZW50IGJlZm9yZSByZXBsYWNpbmdcbiAgICB0aGlzLl9yZXN0b3JlRWwoKTtcblxuICAgIHZpZXcub24oJ2JlZm9yZTpkZXN0cm95JywgdGhpcy5fcmVzdG9yZUVsLCB0aGlzKTtcblxuICAgIHRoaXMuRG9tLnJlcGxhY2VFbCh2aWV3LmVsLCB0aGlzLmVsKTtcblxuICAgIHRoaXMuX2lzUmVwbGFjZWQgPSB0cnVlO1xuICB9LFxuXG4gIC8vIFJlc3RvcmUgdGhlIHJlZ2lvbidzIGVsZW1lbnQgaW4gdGhlIERPTS5cbiAgX3Jlc3RvcmVFbCgpIHtcbiAgICAvLyBUaGVyZSBpcyBub3RoaW5nIHRvIHJlcGxhY2VcbiAgICBpZiAoIXRoaXMuX2lzUmVwbGFjZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB2aWV3ID0gdGhpcy5jdXJyZW50VmlldztcblxuICAgIGlmICghdmlldykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2RldGFjaFZpZXcodmlldyk7XG5cbiAgICB0aGlzLl9pc1JlcGxhY2VkID0gZmFsc2U7XG4gIH0sXG5cbiAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoZSByZWdpb24ncyBlbCB3YXMgcmVwbGFjZWQuXG4gIGlzUmVwbGFjZWQoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5faXNSZXBsYWNlZDtcbiAgfSxcblxuICAvLyBDaGVjayB0byBzZWUgaWYgYSB2aWV3IGlzIGJlaW5nIHN3YXBwZWQgYnkgYW5vdGhlclxuICBpc1N3YXBwaW5nVmlldygpIHtcbiAgICByZXR1cm4gISF0aGlzLl9pc1N3YXBwaW5nVmlldztcbiAgfSxcblxuICAvLyBPdmVycmlkZSB0aGlzIG1ldGhvZCB0byBjaGFuZ2UgaG93IHRoZSBuZXcgdmlldyBpcyBhcHBlbmRlZCB0byB0aGUgYCRlbGAgdGhhdCB0aGVcbiAgLy8gcmVnaW9uIGlzIG1hbmFnaW5nXG4gIGF0dGFjaEh0bWwodmlldykge1xuICAgIHRoaXMuRG9tLmFwcGVuZENvbnRlbnRzKHRoaXMuZWwsIHZpZXcuZWwsIHtfJGVsOiB0aGlzLiRlbCwgXyRjb250ZW50czogdmlldy4kZWx9KTtcbiAgfSxcblxuICAvLyBEZXN0cm95IHRoZSBjdXJyZW50IHZpZXcsIGlmIHRoZXJlIGlzIG9uZS4gSWYgdGhlcmUgaXMgbm8gY3VycmVudCB2aWV3LCBpdCBkb2VzXG4gIC8vIG5vdGhpbmcgYW5kIHJldHVybnMgaW1tZWRpYXRlbHkuXG4gIGVtcHR5KG9wdGlvbnMgPSB7IGFsbG93TWlzc2luZ0VsOiB0cnVlIH0pIHtcbiAgICBjb25zdCB2aWV3ID0gdGhpcy5jdXJyZW50VmlldztcblxuICAgIC8vIElmIHRoZXJlIGlzIG5vIHZpZXcgaW4gdGhlIHJlZ2lvbiB3ZSBzaG91bGQgb25seSBkZXRhY2ggY3VycmVudCBodG1sXG4gICAgaWYgKCF2aWV3KSB7XG4gICAgICBpZiAodGhpcy5fZW5zdXJlRWxlbWVudChvcHRpb25zKSkge1xuICAgICAgICB0aGlzLmRldGFjaEh0bWwoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNvbnN0IHNob3VsZERlc3Ryb3kgPSAhb3B0aW9ucy5wcmV2ZW50RGVzdHJveTtcblxuICAgIGlmICghc2hvdWxkRGVzdHJveSkge1xuICAgICAgZGVwcmVjYXRlKCdUaGUgcHJldmVudERlc3Ryb3kgb3B0aW9uIGlzIGRlcHJlY2F0ZWQuIFVzZSBSZWdpb24jZGV0YWNoVmlldycpO1xuICAgIH1cblxuICAgIHRoaXMuX2VtcHR5KHZpZXcsIHNob3VsZERlc3Ryb3kpO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIF9lbXB0eSh2aWV3LCBzaG91bGREZXN0cm95KSB7XG4gICAgdmlldy5vZmYoJ2Rlc3Ryb3knLCB0aGlzLl9lbXB0eSwgdGhpcyk7XG4gICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdiZWZvcmU6ZW1wdHknLCB0aGlzLCB2aWV3KTtcblxuICAgIHRoaXMuX3Jlc3RvcmVFbCgpO1xuXG4gICAgZGVsZXRlIHRoaXMuY3VycmVudFZpZXc7XG5cbiAgICBpZiAoIXZpZXcuX2lzRGVzdHJveWVkKSB7XG4gICAgICBpZiAoc2hvdWxkRGVzdHJveSkge1xuICAgICAgICB0aGlzLnJlbW92ZVZpZXcodmlldyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9kZXRhY2hWaWV3KHZpZXcpO1xuICAgICAgfVxuICAgICAgdGhpcy5fc3RvcENoaWxkVmlld0V2ZW50cyh2aWV3KTtcbiAgICB9XG5cbiAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ2VtcHR5JywgdGhpcywgdmlldyk7XG4gIH0sXG5cbiAgX3N0b3BDaGlsZFZpZXdFdmVudHModmlldykge1xuICAgIGNvbnN0IHBhcmVudFZpZXcgPSB0aGlzLl9wYXJlbnRWaWV3O1xuXG4gICAgaWYgKCFwYXJlbnRWaWV3KSB7IHJldHVybjsgfVxuXG4gICAgdGhpcy5fcGFyZW50Vmlldy5zdG9wTGlzdGVuaW5nKHZpZXcpO1xuICB9LFxuXG4gIGRlc3Ryb3lWaWV3KHZpZXcpIHtcbiAgICBpZiAodmlldy5faXNEZXN0cm95ZWQpIHtcbiAgICAgIHJldHVybiB2aWV3O1xuICAgIH1cblxuICAgIHZpZXcuX3Nob3VsZERpc2FibGVFdmVudHMgPSB0aGlzLl9zaG91bGREaXNhYmxlTW9uaXRvcmluZygpO1xuICAgIGRlc3Ryb3lWaWV3KHZpZXcpO1xuICAgIHJldHVybiB2aWV3O1xuICB9LFxuXG4gIHJlbW92ZVZpZXcodmlldykge1xuICAgIHRoaXMuZGVzdHJveVZpZXcodmlldyk7XG4gIH0sXG5cbiAgLy8gRW1wdGllcyB0aGUgUmVnaW9uIHdpdGhvdXQgZGVzdHJveWluZyB0aGUgdmlld1xuICAvLyBSZXR1cm5zIHRoZSBkZXRhY2hlZCB2aWV3XG4gIGRldGFjaFZpZXcoKSB7XG4gICAgY29uc3QgdmlldyA9IHRoaXMuY3VycmVudFZpZXc7XG5cbiAgICBpZiAoIXZpZXcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9lbXB0eSh2aWV3KTtcblxuICAgIHJldHVybiB2aWV3O1xuICB9LFxuXG4gIF9kZXRhY2hWaWV3KHZpZXcpIHtcbiAgICBjb25zdCBzaG91bGRUcmlnZ2VyRGV0YWNoID0gdmlldy5faXNBdHRhY2hlZCAmJiAhdGhpcy5fc2hvdWxkRGlzYWJsZU1vbml0b3JpbmcoKTs7XG4gICAgY29uc3Qgc2hvdWxkUmVzdG9yZUVsID0gdGhpcy5faXNSZXBsYWNlZDtcbiAgICBpZiAoc2hvdWxkVHJpZ2dlckRldGFjaCkge1xuICAgICAgdHJpZ2dlck1ldGhvZE9uKHZpZXcsICdiZWZvcmU6ZGV0YWNoJywgdmlldyk7XG4gICAgfVxuXG4gICAgaWYgKHNob3VsZFJlc3RvcmVFbCkge1xuICAgICAgdGhpcy5Eb20ucmVwbGFjZUVsKHRoaXMuZWwsIHZpZXcuZWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRldGFjaEh0bWwoKTtcbiAgICB9XG5cbiAgICBpZiAoc2hvdWxkVHJpZ2dlckRldGFjaCkge1xuICAgICAgdmlldy5faXNBdHRhY2hlZCA9IGZhbHNlO1xuICAgICAgdHJpZ2dlck1ldGhvZE9uKHZpZXcsICdkZXRhY2gnLCB2aWV3KTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gT3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gY2hhbmdlIGhvdyB0aGUgcmVnaW9uIGRldGFjaGVzIGN1cnJlbnQgY29udGVudFxuICBkZXRhY2hIdG1sKCkge1xuICAgIHRoaXMuRG9tLmRldGFjaENvbnRlbnRzKHRoaXMuZWwsIHRoaXMuJGVsKTtcbiAgfSxcblxuICAvLyBDaGVja3Mgd2hldGhlciBhIHZpZXcgaXMgY3VycmVudGx5IHByZXNlbnQgd2l0aGluIHRoZSByZWdpb24uIFJldHVybnMgYHRydWVgIGlmIHRoZXJlIGlzXG4gIC8vIGFuZCBgZmFsc2VgIGlmIG5vIHZpZXcgaXMgcHJlc2VudC5cbiAgaGFzVmlldygpIHtcbiAgICByZXR1cm4gISF0aGlzLmN1cnJlbnRWaWV3O1xuICB9LFxuXG4gIC8vIFJlc2V0IHRoZSByZWdpb24gYnkgZGVzdHJveWluZyBhbnkgZXhpc3RpbmcgdmlldyBhbmQgY2xlYXJpbmcgb3V0IHRoZSBjYWNoZWQgYCRlbGAuXG4gIC8vIFRoZSBuZXh0IHRpbWUgYSB2aWV3IGlzIHNob3duIHZpYSB0aGlzIHJlZ2lvbiwgdGhlIHJlZ2lvbiB3aWxsIHJlLXF1ZXJ5IHRoZSBET00gZm9yXG4gIC8vIHRoZSByZWdpb24ncyBgZWxgLlxuICByZXNldChvcHRpb25zKSB7XG4gICAgdGhpcy5lbXB0eShvcHRpb25zKTtcblxuICAgIGlmICh0aGlzLiRlbCkge1xuICAgICAgdGhpcy5lbCA9IHRoaXMuX2luaXRFbDtcbiAgICB9XG5cbiAgICBkZWxldGUgdGhpcy4kZWw7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgZGVzdHJveShvcHRpb25zKSB7XG4gICAgaWYgKHRoaXMuX2lzRGVzdHJveWVkKSB7IHJldHVybiB0aGlzOyB9XG5cbiAgICB0aGlzLnJlc2V0KG9wdGlvbnMpO1xuXG4gICAgaWYgKHRoaXMuX25hbWUpIHtcbiAgICAgIHRoaXMuX3BhcmVudFZpZXcuX3JlbW92ZVJlZmVyZW5jZXModGhpcy5fbmFtZSk7XG4gICAgfVxuICAgIGRlbGV0ZSB0aGlzLl9wYXJlbnRWaWV3O1xuICAgIGRlbGV0ZSB0aGlzLl9uYW1lO1xuXG4gICAgcmV0dXJuIE1hcmlvbmV0dGVPYmplY3QucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxufSwge1xuICBzZXREb21BcGlcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBSZWdpb247XG4iLCJpbXBvcnQgXyBmcm9tICd1bmRlcnNjb3JlJztcbmltcG9ydCBkZXByZWNhdGUgZnJvbSAnLi4vdXRpbHMvZGVwcmVjYXRlJztcbmltcG9ydCBNYXJpb25ldHRlRXJyb3IgZnJvbSAnLi4vZXJyb3InO1xuaW1wb3J0IFJlZ2lvbiBmcm9tICcuLi9yZWdpb24nO1xuXG4vLyByZXR1cm4gdGhlIHJlZ2lvbiBpbnN0YW5jZSBmcm9tIHRoZSBkZWZpbml0aW9uXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihkZWZpbml0aW9uLCBkZWZhdWx0cykge1xuICBpZiAoZGVmaW5pdGlvbiBpbnN0YW5jZW9mIFJlZ2lvbikge1xuICAgIHJldHVybiBkZWZpbml0aW9uO1xuICB9XG5cbiAgcmV0dXJuIGJ1aWxkUmVnaW9uRnJvbURlZmluaXRpb24oZGVmaW5pdGlvbiwgZGVmYXVsdHMpO1xufVxuXG5mdW5jdGlvbiBidWlsZFJlZ2lvbkZyb21EZWZpbml0aW9uKGRlZmluaXRpb24sIGRlZmF1bHRzKSB7XG4gIGNvbnN0IG9wdHMgPSBfLmV4dGVuZCh7fSwgZGVmYXVsdHMpO1xuXG4gIGlmIChfLmlzU3RyaW5nKGRlZmluaXRpb24pKSB7XG4gICAgXy5leHRlbmQob3B0cywgeyBlbDogZGVmaW5pdGlvbiB9KTtcblxuICAgIHJldHVybiBidWlsZFJlZ2lvbkZyb21PYmplY3Qob3B0cyk7XG4gIH1cblxuICBpZiAoXy5pc0Z1bmN0aW9uKGRlZmluaXRpb24pKSB7XG4gICAgXy5leHRlbmQob3B0cywgeyByZWdpb25DbGFzczogZGVmaW5pdGlvbiB9KTtcblxuICAgIHJldHVybiBidWlsZFJlZ2lvbkZyb21PYmplY3Qob3B0cyk7XG4gIH1cblxuICBpZiAoXy5pc09iamVjdChkZWZpbml0aW9uKSkge1xuICAgIGlmIChkZWZpbml0aW9uLnNlbGVjdG9yKSB7XG4gICAgICBkZXByZWNhdGUoJ1RoZSBzZWxlY3RvciBvcHRpb24gb24gYSBSZWdpb24gZGVmaW5pdGlvbiBvYmplY3QgaXMgZGVwcmVjYXRlZC4gVXNlIGVsIHRvIHBhc3MgYSBzZWxlY3RvciBzdHJpbmcnKTtcbiAgICB9XG5cbiAgICBfLmV4dGVuZChvcHRzLCB7IGVsOiBkZWZpbml0aW9uLnNlbGVjdG9yIH0sIGRlZmluaXRpb24pO1xuXG4gICAgcmV0dXJuIGJ1aWxkUmVnaW9uRnJvbU9iamVjdChvcHRzKTtcbiAgfVxuXG4gIHRocm93IG5ldyBNYXJpb25ldHRlRXJyb3Ioe1xuICAgIG1lc3NhZ2U6ICdJbXByb3BlciByZWdpb24gY29uZmlndXJhdGlvbiB0eXBlLicsXG4gICAgdXJsOiAnbWFyaW9uZXR0ZS5yZWdpb24uaHRtbCNyZWdpb24tY29uZmlndXJhdGlvbi10eXBlcydcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkUmVnaW9uRnJvbU9iamVjdChkZWZpbml0aW9uKSB7XG4gIGNvbnN0IFJlZ2lvbkNsYXNzID0gZGVmaW5pdGlvbi5yZWdpb25DbGFzc1xuXG4gIGNvbnN0IG9wdGlvbnMgPSBfLm9taXQoZGVmaW5pdGlvbiwgJ3JlZ2lvbkNsYXNzJyk7XG5cbiAgcmV0dXJuIG5ldyBSZWdpb25DbGFzcyhvcHRpb25zKTtcbn1cbiIsImltcG9ydCBfIGZyb20gJ3VuZGVyc2NvcmUnO1xuaW1wb3J0IF9pbnZva2UgZnJvbSAnLi4vdXRpbHMvaW52b2tlJztcbmltcG9ydCBidWlsZFJlZ2lvbiBmcm9tICcuLi9jb21tb24vYnVpbGQtcmVnaW9uJztcbmltcG9ydCBSZWdpb24gZnJvbSAnLi4vcmVnaW9uJztcblxuLy8gTWl4aW5PcHRpb25zXG4vLyAtIHJlZ2lvbnNcbi8vIC0gcmVnaW9uQ2xhc3NcblxuZXhwb3J0IGRlZmF1bHQge1xuICByZWdpb25DbGFzczogUmVnaW9uLFxuXG4gIC8vIEludGVybmFsIG1ldGhvZCB0byBpbml0aWFsaXplIHRoZSByZWdpb25zIHRoYXQgaGF2ZSBiZWVuIGRlZmluZWQgaW4gYVxuICAvLyBgcmVnaW9uc2AgYXR0cmlidXRlIG9uIHRoaXMgVmlldy5cbiAgX2luaXRSZWdpb25zKCkge1xuXG4gICAgLy8gaW5pdCByZWdpb25zIGhhc2hcbiAgICB0aGlzLnJlZ2lvbnMgPSB0aGlzLnJlZ2lvbnMgfHwge307XG4gICAgdGhpcy5fcmVnaW9ucyA9IHt9O1xuXG4gICAgdGhpcy5hZGRSZWdpb25zKF8ucmVzdWx0KHRoaXMsICdyZWdpb25zJykpO1xuICB9LFxuXG4gIC8vIEludGVybmFsIG1ldGhvZCB0byByZS1pbml0aWFsaXplIGFsbCBvZiB0aGUgcmVnaW9ucyBieSB1cGRhdGluZ1xuICAvLyB0aGUgYGVsYCB0aGF0IHRoZXkgcG9pbnQgdG9cbiAgX3JlSW5pdFJlZ2lvbnMoKSB7XG4gICAgX2ludm9rZSh0aGlzLl9yZWdpb25zLCAncmVzZXQnKTtcbiAgfSxcblxuICAvLyBBZGQgYSBzaW5nbGUgcmVnaW9uLCBieSBuYW1lLCB0byB0aGUgVmlld1xuICBhZGRSZWdpb24obmFtZSwgZGVmaW5pdGlvbikge1xuICAgIGNvbnN0IHJlZ2lvbnMgPSB7fTtcbiAgICByZWdpb25zW25hbWVdID0gZGVmaW5pdGlvbjtcbiAgICByZXR1cm4gdGhpcy5hZGRSZWdpb25zKHJlZ2lvbnMpW25hbWVdO1xuICB9LFxuXG4gIC8vIEFkZCBtdWx0aXBsZSByZWdpb25zIGFzIGEge25hbWU6IGRlZmluaXRpb24sIG5hbWUyOiBkZWYyfSBvYmplY3QgbGl0ZXJhbFxuICBhZGRSZWdpb25zKHJlZ2lvbnMpIHtcbiAgICAvLyBJZiB0aGVyZSdzIG5vdGhpbmcgdG8gYWRkLCBzdG9wIGhlcmUuXG4gICAgaWYgKF8uaXNFbXB0eShyZWdpb25zKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIE5vcm1hbGl6ZSByZWdpb24gc2VsZWN0b3JzIGhhc2ggdG8gYWxsb3dcbiAgICAvLyBhIHVzZXIgdG8gdXNlIHRoZSBAdWkuIHN5bnRheC5cbiAgICByZWdpb25zID0gdGhpcy5ub3JtYWxpemVVSVZhbHVlcyhyZWdpb25zLCBbJ3NlbGVjdG9yJywgJ2VsJ10pO1xuXG4gICAgLy8gQWRkIHRoZSByZWdpb25zIGRlZmluaXRpb25zIHRvIHRoZSByZWdpb25zIHByb3BlcnR5XG4gICAgdGhpcy5yZWdpb25zID0gXy5leHRlbmQoe30sIHRoaXMucmVnaW9ucywgcmVnaW9ucyk7XG5cbiAgICByZXR1cm4gdGhpcy5fYWRkUmVnaW9ucyhyZWdpb25zKTtcbiAgfSxcblxuICAvLyBpbnRlcm5hbCBtZXRob2QgdG8gYnVpbGQgYW5kIGFkZCByZWdpb25zXG4gIF9hZGRSZWdpb25zKHJlZ2lvbkRlZmluaXRpb25zKSB7XG4gICAgY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgICByZWdpb25DbGFzczogdGhpcy5yZWdpb25DbGFzcyxcbiAgICAgIHBhcmVudEVsOiBfLnBhcnRpYWwoXy5yZXN1bHQsIHRoaXMsICdlbCcpXG4gICAgfTtcblxuICAgIHJldHVybiBfLnJlZHVjZShyZWdpb25EZWZpbml0aW9ucywgKHJlZ2lvbnMsIGRlZmluaXRpb24sIG5hbWUpID0+IHtcbiAgICAgIHJlZ2lvbnNbbmFtZV0gPSBidWlsZFJlZ2lvbihkZWZpbml0aW9uLCBkZWZhdWx0cyk7XG4gICAgICB0aGlzLl9hZGRSZWdpb24ocmVnaW9uc1tuYW1lXSwgbmFtZSk7XG4gICAgICByZXR1cm4gcmVnaW9ucztcbiAgICB9LCB7fSk7XG4gIH0sXG5cbiAgX2FkZFJlZ2lvbihyZWdpb24sIG5hbWUpIHtcbiAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ2JlZm9yZTphZGQ6cmVnaW9uJywgdGhpcywgbmFtZSwgcmVnaW9uKTtcblxuICAgIHJlZ2lvbi5fcGFyZW50VmlldyA9IHRoaXM7XG4gICAgcmVnaW9uLl9uYW1lID0gbmFtZTtcblxuICAgIHRoaXMuX3JlZ2lvbnNbbmFtZV0gPSByZWdpb247XG5cbiAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ2FkZDpyZWdpb24nLCB0aGlzLCBuYW1lLCByZWdpb24pO1xuICB9LFxuXG4gIC8vIFJlbW92ZSBhIHNpbmdsZSByZWdpb24gZnJvbSB0aGUgVmlldywgYnkgbmFtZVxuICByZW1vdmVSZWdpb24obmFtZSkge1xuICAgIGNvbnN0IHJlZ2lvbiA9IHRoaXMuX3JlZ2lvbnNbbmFtZV07XG5cbiAgICB0aGlzLl9yZW1vdmVSZWdpb24ocmVnaW9uLCBuYW1lKTtcblxuICAgIHJldHVybiByZWdpb247XG4gIH0sXG5cbiAgLy8gUmVtb3ZlIGFsbCByZWdpb25zIGZyb20gdGhlIFZpZXdcbiAgcmVtb3ZlUmVnaW9ucygpIHtcbiAgICBjb25zdCByZWdpb25zID0gdGhpcy5fZ2V0UmVnaW9ucygpO1xuXG4gICAgXy5lYWNoKHRoaXMuX3JlZ2lvbnMsIF8uYmluZCh0aGlzLl9yZW1vdmVSZWdpb24sIHRoaXMpKTtcblxuICAgIHJldHVybiByZWdpb25zO1xuICB9LFxuXG4gIF9yZW1vdmVSZWdpb24ocmVnaW9uLCBuYW1lKSB7XG4gICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdiZWZvcmU6cmVtb3ZlOnJlZ2lvbicsIHRoaXMsIG5hbWUsIHJlZ2lvbik7XG5cbiAgICByZWdpb24uZGVzdHJveSgpO1xuXG4gICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdyZW1vdmU6cmVnaW9uJywgdGhpcywgbmFtZSwgcmVnaW9uKTtcbiAgfSxcblxuICAvLyBDYWxsZWQgaW4gYSByZWdpb24ncyBkZXN0cm95XG4gIF9yZW1vdmVSZWZlcmVuY2VzKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5yZWdpb25zW25hbWVdO1xuICAgIGRlbGV0ZSB0aGlzLl9yZWdpb25zW25hbWVdO1xuICB9LFxuXG4gIC8vIEVtcHR5IGFsbCByZWdpb25zIGluIHRoZSByZWdpb24gbWFuYWdlciwgYnV0XG4gIC8vIGxlYXZlIHRoZW0gYXR0YWNoZWRcbiAgZW1wdHlSZWdpb25zKCkge1xuICAgIGNvbnN0IHJlZ2lvbnMgPSB0aGlzLmdldFJlZ2lvbnMoKTtcbiAgICBfaW52b2tlKHJlZ2lvbnMsICdlbXB0eScpO1xuICAgIHJldHVybiByZWdpb25zO1xuICB9LFxuXG4gIC8vIENoZWNrcyB0byBzZWUgaWYgdmlldyBjb250YWlucyByZWdpb25cbiAgLy8gQWNjZXB0cyB0aGUgcmVnaW9uIG5hbWVcbiAgLy8gaGFzUmVnaW9uKCdtYWluJylcbiAgaGFzUmVnaW9uKG5hbWUpIHtcbiAgICByZXR1cm4gISF0aGlzLmdldFJlZ2lvbihuYW1lKTtcbiAgfSxcblxuICAvLyBQcm92aWRlcyBhY2Nlc3MgdG8gcmVnaW9uc1xuICAvLyBBY2NlcHRzIHRoZSByZWdpb24gbmFtZVxuICAvLyBnZXRSZWdpb24oJ21haW4nKVxuICBnZXRSZWdpb24obmFtZSkge1xuICAgIGlmICghdGhpcy5faXNSZW5kZXJlZCkge1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3JlZ2lvbnNbbmFtZV07XG4gIH0sXG5cbiAgLy8gR2V0IGFsbCByZWdpb25zXG4gIF9nZXRSZWdpb25zKCkge1xuICAgIHJldHVybiBfLmNsb25lKHRoaXMuX3JlZ2lvbnMpO1xuICB9LFxuXG4gIGdldFJlZ2lvbnMoKSB7XG4gICAgaWYgKCF0aGlzLl9pc1JlbmRlcmVkKSB7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fZ2V0UmVnaW9ucygpO1xuICB9LFxuXG4gIHNob3dDaGlsZFZpZXcobmFtZSwgdmlldywgLi4uYXJncykge1xuICAgIGNvbnN0IHJlZ2lvbiA9IHRoaXMuZ2V0UmVnaW9uKG5hbWUpO1xuICAgIHJldHVybiByZWdpb24uc2hvdyh2aWV3LCAuLi5hcmdzKTtcbiAgfSxcblxuICBkZXRhY2hDaGlsZFZpZXcobmFtZSkge1xuICAgIHJldHVybiB0aGlzLmdldFJlZ2lvbihuYW1lKS5kZXRhY2hWaWV3KCk7XG4gIH0sXG5cbiAgZ2V0Q2hpbGRWaWV3KG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRSZWdpb24obmFtZSkuY3VycmVudFZpZXc7XG4gIH1cblxufTtcbiIsIi8vIFJlbmRlcmVyXG4vLyAtLS0tLS0tLVxuXG5pbXBvcnQgXyBmcm9tICd1bmRlcnNjb3JlJztcbmltcG9ydCBNYXJpb25ldHRlRXJyb3IgZnJvbSAnLi4vZXJyb3InO1xuaW1wb3J0IFRlbXBsYXRlQ2FjaGUgZnJvbSAnLi4vdGVtcGxhdGUtY2FjaGUnO1xuXG4vLyBSZW5kZXIgYSB0ZW1wbGF0ZSB3aXRoIGRhdGEgYnkgcGFzc2luZyBpbiB0aGUgdGVtcGxhdGVcbi8vIHNlbGVjdG9yIGFuZCB0aGUgZGF0YSB0byByZW5kZXIuXG5jb25zdCBSZW5kZXJlciA9IHtcblxuICAvLyBSZW5kZXIgYSB0ZW1wbGF0ZSB3aXRoIGRhdGEuIFRoZSBgdGVtcGxhdGVgIHBhcmFtZXRlciBpc1xuICAvLyBwYXNzZWQgdG8gdGhlIGBUZW1wbGF0ZUNhY2hlYCBvYmplY3QgdG8gcmV0cmlldmUgdGhlXG4gIC8vIHRlbXBsYXRlIGZ1bmN0aW9uLiBPdmVycmlkZSB0aGlzIG1ldGhvZCB0byBwcm92aWRlIHlvdXIgb3duXG4gIC8vIGN1c3RvbSByZW5kZXJpbmcgYW5kIHRlbXBsYXRlIGhhbmRsaW5nIGZvciBhbGwgb2YgTWFyaW9uZXR0ZS5cbiAgcmVuZGVyKHRlbXBsYXRlLCBkYXRhKSB7XG4gICAgaWYgKCF0ZW1wbGF0ZSkge1xuICAgICAgdGhyb3cgbmV3IE1hcmlvbmV0dGVFcnJvcih7XG4gICAgICAgIG5hbWU6ICdUZW1wbGF0ZU5vdEZvdW5kRXJyb3InLFxuICAgICAgICBtZXNzYWdlOiAnQ2Fubm90IHJlbmRlciB0aGUgdGVtcGxhdGUgc2luY2UgaXRzIGZhbHNlLCBudWxsIG9yIHVuZGVmaW5lZC4nXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCB0ZW1wbGF0ZUZ1bmMgPSBfLmlzRnVuY3Rpb24odGVtcGxhdGUpID8gdGVtcGxhdGUgOiBUZW1wbGF0ZUNhY2hlLmdldCh0ZW1wbGF0ZSk7XG5cbiAgICByZXR1cm4gdGVtcGxhdGVGdW5jKGRhdGEpO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBSZW5kZXJlcjtcbiIsIi8vIFZpZXdcbi8vIC0tLS0tLS0tLVxuXG5pbXBvcnQgXyBmcm9tICd1bmRlcnNjb3JlJztcbmltcG9ydCBCYWNrYm9uZSBmcm9tICdiYWNrYm9uZSc7XG5pbXBvcnQgZGVwcmVjYXRlIGZyb20gJy4vdXRpbHMvZGVwcmVjYXRlJztcbmltcG9ydCBpc05vZGVBdHRhY2hlZCBmcm9tICcuL2NvbW1vbi9pcy1ub2RlLWF0dGFjaGVkJztcbmltcG9ydCBtb25pdG9yVmlld0V2ZW50cyBmcm9tICcuL2NvbW1vbi9tb25pdG9yLXZpZXctZXZlbnRzJztcbmltcG9ydCBWaWV3TWl4aW4gZnJvbSAnLi9taXhpbnMvdmlldyc7XG5pbXBvcnQgUmVnaW9uc01peGluIGZyb20gJy4vbWl4aW5zL3JlZ2lvbnMnO1xuaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4vY29uZmlnL3JlbmRlcmVyJztcbmltcG9ydCB7IHNldERvbUFwaSB9IGZyb20gJy4vY29uZmlnL2RvbSc7XG5cbmNvbnN0IENsYXNzT3B0aW9ucyA9IFtcbiAgJ2JlaGF2aW9ycycsXG4gICdjaGlsZFZpZXdFdmVudFByZWZpeCcsXG4gICdjaGlsZFZpZXdFdmVudHMnLFxuICAnY2hpbGRWaWV3VHJpZ2dlcnMnLFxuICAnY29sbGVjdGlvbkV2ZW50cycsXG4gICdldmVudHMnLFxuICAnbW9kZWxFdmVudHMnLFxuICAncmVnaW9uQ2xhc3MnLFxuICAncmVnaW9ucycsXG4gICd0ZW1wbGF0ZScsXG4gICd0ZW1wbGF0ZUNvbnRleHQnLFxuICAndHJpZ2dlcnMnLFxuICAndWknXG5dO1xuXG4vLyBUaGUgc3RhbmRhcmQgdmlldy4gSW5jbHVkZXMgdmlldyBldmVudHMsIGF1dG9tYXRpYyByZW5kZXJpbmdcbi8vIG9mIFVuZGVyc2NvcmUgdGVtcGxhdGVzLCBuZXN0ZWQgdmlld3MsIGFuZCBtb3JlLlxuY29uc3QgVmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5yZW5kZXIgPSBfLmJpbmQodGhpcy5yZW5kZXIsIHRoaXMpO1xuXG4gICAgdGhpcy5fc2V0T3B0aW9ucyhvcHRpb25zKTtcblxuICAgIHRoaXMubWVyZ2VPcHRpb25zKG9wdGlvbnMsIENsYXNzT3B0aW9ucyk7XG5cbiAgICBtb25pdG9yVmlld0V2ZW50cyh0aGlzKTtcblxuICAgIHRoaXMuX2luaXRCZWhhdmlvcnMoKTtcbiAgICB0aGlzLl9pbml0UmVnaW9ucygpO1xuXG4gICAgY29uc3QgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgYXJnc1swXSA9IHRoaXMub3B0aW9ucztcbiAgICBCYWNrYm9uZS5WaWV3LnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmdzKTtcblxuICAgIHRoaXMuZGVsZWdhdGVFbnRpdHlFdmVudHMoKTtcblxuICAgIHRoaXMuX3RyaWdnZXJFdmVudE9uQmVoYXZpb3JzKCdpbml0aWFsaXplJywgdGhpcyk7XG4gIH0sXG5cbiAgLy8gU2VyaWFsaXplIHRoZSB2aWV3J3MgbW9kZWwgKm9yKiBjb2xsZWN0aW9uLCBpZlxuICAvLyBpdCBleGlzdHMsIGZvciB0aGUgdGVtcGxhdGVcbiAgc2VyaWFsaXplRGF0YSgpIHtcbiAgICBpZiAoIXRoaXMubW9kZWwgJiYgIXRoaXMuY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cblxuICAgIC8vIElmIHdlIGhhdmUgYSBtb2RlbCwgd2Ugc2VyaWFsaXplIHRoYXRcbiAgICBpZiAodGhpcy5tb2RlbCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2VyaWFsaXplTW9kZWwoKTtcbiAgICB9XG5cbiAgICAvLyBPdGhlcndpc2UsIHdlIHNlcmlhbGl6ZSB0aGUgY29sbGVjdGlvbixcbiAgICAvLyBtYWtpbmcgaXQgYXZhaWxhYmxlIHVuZGVyIHRoZSBgaXRlbXNgIHByb3BlcnR5XG4gICAgcmV0dXJuIHtcbiAgICAgIGl0ZW1zOiB0aGlzLnNlcmlhbGl6ZUNvbGxlY3Rpb24oKVxuICAgIH07XG4gIH0sXG5cbiAgLy8gUHJlcGFyZXMgdGhlIHNwZWNpYWwgYG1vZGVsYCBwcm9wZXJ0eSBvZiBhIHZpZXdcbiAgLy8gZm9yIGJlaW5nIGRpc3BsYXllZCBpbiB0aGUgdGVtcGxhdGUuIEJ5IGRlZmF1bHRcbiAgLy8gd2Ugc2ltcGx5IGNsb25lIHRoZSBhdHRyaWJ1dGVzLiBPdmVycmlkZSB0aGlzIGlmXG4gIC8vIHlvdSBuZWVkIGEgY3VzdG9tIHRyYW5zZm9ybWF0aW9uIGZvciB5b3VyIHZpZXcncyBtb2RlbFxuICBzZXJpYWxpemVNb2RlbCgpIHtcbiAgICBpZiAoIXRoaXMubW9kZWwpIHsgcmV0dXJuIHt9OyB9XG4gICAgcmV0dXJuIF8uY2xvbmUodGhpcy5tb2RlbC5hdHRyaWJ1dGVzKTtcbiAgfSxcblxuICAvLyBTZXJpYWxpemUgYSBjb2xsZWN0aW9uIGJ5IGNsb25pbmcgZWFjaCBvZlxuICAvLyBpdHMgbW9kZWwncyBhdHRyaWJ1dGVzXG4gIHNlcmlhbGl6ZUNvbGxlY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLmNvbGxlY3Rpb24pIHsgcmV0dXJuIHt9OyB9XG4gICAgcmV0dXJuIHRoaXMuY29sbGVjdGlvbi5tYXAoZnVuY3Rpb24obW9kZWwpIHsgcmV0dXJuIF8uY2xvbmUobW9kZWwuYXR0cmlidXRlcyk7IH0pO1xuICB9LFxuXG4gIC8vIE92ZXJyaWRpbmcgQmFja2JvbmUuVmlldydzIGBzZXRFbGVtZW50YCB0byBoYW5kbGVcbiAgLy8gaWYgYW4gZWwgd2FzIHByZXZpb3VzbHkgZGVmaW5lZC4gSWYgc28sIHRoZSB2aWV3IG1pZ2h0IGJlXG4gIC8vIHJlbmRlcmVkIG9yIGF0dGFjaGVkIG9uIHNldEVsZW1lbnQuXG4gIHNldEVsZW1lbnQoKSB7XG4gICAgY29uc3QgaGFzRWwgPSAhIXRoaXMuZWw7XG5cbiAgICBCYWNrYm9uZS5WaWV3LnByb3RvdHlwZS5zZXRFbGVtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICBpZiAoaGFzRWwpIHtcbiAgICAgIHRoaXMuX2lzUmVuZGVyZWQgPSB0aGlzLkRvbS5oYXNDb250ZW50cyh0aGlzLmVsKTtcbiAgICAgIHRoaXMuX2lzQXR0YWNoZWQgPSBpc05vZGVBdHRhY2hlZCh0aGlzLmVsKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5faXNSZW5kZXJlZCkge1xuICAgICAgdGhpcy5iaW5kVUlFbGVtZW50cygpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8vIFJlbmRlciB0aGUgdmlldywgZGVmYXVsdGluZyB0byB1bmRlcnNjb3JlLmpzIHRlbXBsYXRlcy5cbiAgLy8gWW91IGNhbiBvdmVycmlkZSB0aGlzIGluIHlvdXIgdmlldyBkZWZpbml0aW9uIHRvIHByb3ZpZGVcbiAgLy8gYSB2ZXJ5IHNwZWNpZmljIHJlbmRlcmluZyBmb3IgeW91ciB2aWV3LiBJbiBnZW5lcmFsLCB0aG91Z2gsXG4gIC8vIHlvdSBzaG91bGQgb3ZlcnJpZGUgdGhlIGBNYXJpb25ldHRlLlJlbmRlcmVyYCBvYmplY3QgdG9cbiAgLy8gY2hhbmdlIGhvdyBNYXJpb25ldHRlIHJlbmRlcnMgdmlld3MuXG4gIC8vIFN1YnNlcXVlbnQgcmVuZGVycyBhZnRlciB0aGUgZmlyc3Qgd2lsbCByZS1yZW5kZXIgYWxsIG5lc3RlZFxuICAvLyB2aWV3cy5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLl9pc0Rlc3Ryb3llZCkgeyByZXR1cm4gdGhpczsgfVxuXG4gICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdiZWZvcmU6cmVuZGVyJywgdGhpcyk7XG5cbiAgICAvLyBJZiB0aGlzIGlzIG5vdCB0aGUgZmlyc3QgcmVuZGVyIGNhbGwsIHRoZW4gd2UgbmVlZCB0b1xuICAgIC8vIHJlLWluaXRpYWxpemUgdGhlIGBlbGAgZm9yIGVhY2ggcmVnaW9uXG4gICAgaWYgKHRoaXMuX2lzUmVuZGVyZWQpIHtcbiAgICAgIHRoaXMuX3JlSW5pdFJlZ2lvbnMoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9yZW5kZXJUZW1wbGF0ZSgpO1xuICAgIHRoaXMuYmluZFVJRWxlbWVudHMoKTtcblxuICAgIHRoaXMuX2lzUmVuZGVyZWQgPSB0cnVlO1xuICAgIHRoaXMudHJpZ2dlck1ldGhvZCgncmVuZGVyJywgdGhpcyk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvLyBJbnRlcm5hbCBtZXRob2QgdG8gcmVuZGVyIHRoZSB0ZW1wbGF0ZSB3aXRoIHRoZSBzZXJpYWxpemVkIGRhdGFcbiAgLy8gYW5kIHRlbXBsYXRlIGNvbnRleHQgdmlhIHRoZSBgTWFyaW9uZXR0ZS5SZW5kZXJlcmAgb2JqZWN0LlxuICBfcmVuZGVyVGVtcGxhdGUoKSB7XG4gICAgY29uc3QgdGVtcGxhdGUgPSB0aGlzLmdldFRlbXBsYXRlKCk7XG5cbiAgICAvLyBBbGxvdyB0ZW1wbGF0ZS1sZXNzIHZpZXdzXG4gICAgaWYgKHRlbXBsYXRlID09PSBmYWxzZSkge1xuICAgICAgZGVwcmVjYXRlKCd0ZW1wbGF0ZTpmYWxzZSBpcyBkZXByZWNhdGVkLiAgVXNlIF8ubm9vcC4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBBZGQgaW4gZW50aXR5IGRhdGEgYW5kIHRlbXBsYXRlIGNvbnRleHRcbiAgICBjb25zdCBkYXRhID0gdGhpcy5taXhpblRlbXBsYXRlQ29udGV4dCh0aGlzLnNlcmlhbGl6ZURhdGEoKSk7XG5cbiAgICAvLyBSZW5kZXIgYW5kIGFkZCB0byBlbFxuICAgIGNvbnN0IGh0bWwgPSB0aGlzLl9yZW5kZXJIdG1sKHRlbXBsYXRlLCBkYXRhKTtcbiAgICB0aGlzLmF0dGFjaEVsQ29udGVudChodG1sKTtcbiAgfSxcblxuICAvLyBSZW5kZXJzIHRoZSBkYXRhIGludG8gdGhlIHRlbXBsYXRlXG4gIF9yZW5kZXJIdG1sKHRlbXBsYXRlLCBkYXRhKSB7XG4gICAgcmV0dXJuIFJlbmRlcmVyLnJlbmRlcih0ZW1wbGF0ZSwgZGF0YSwgdGhpcyk7XG4gIH0sXG5cbiAgLy8gR2V0IHRoZSB0ZW1wbGF0ZSBmb3IgdGhpcyB2aWV3XG4gIC8vIGluc3RhbmNlLiBZb3UgY2FuIHNldCBhIGB0ZW1wbGF0ZWAgYXR0cmlidXRlIGluIHRoZSB2aWV3XG4gIC8vIGRlZmluaXRpb24gb3IgcGFzcyBhIGB0ZW1wbGF0ZTogXCJ3aGF0ZXZlclwiYCBwYXJhbWV0ZXIgaW5cbiAgLy8gdG8gdGhlIGNvbnN0cnVjdG9yIG9wdGlvbnMuXG4gIGdldFRlbXBsYXRlKCkge1xuICAgIHJldHVybiB0aGlzLnRlbXBsYXRlO1xuICB9LFxuXG4gIC8vIE1peCBpbiB0ZW1wbGF0ZSBjb250ZXh0IG1ldGhvZHMuIExvb2tzIGZvciBhXG4gIC8vIGB0ZW1wbGF0ZUNvbnRleHRgIGF0dHJpYnV0ZSwgd2hpY2ggY2FuIGVpdGhlciBiZSBhblxuICAvLyBvYmplY3QgbGl0ZXJhbCwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gb2JqZWN0XG4gIC8vIGxpdGVyYWwuIEFsbCBtZXRob2RzIGFuZCBhdHRyaWJ1dGVzIGZyb20gdGhpcyBvYmplY3RcbiAgLy8gYXJlIGNvcGllcyB0byB0aGUgb2JqZWN0IHBhc3NlZCBpbi5cbiAgbWl4aW5UZW1wbGF0ZUNvbnRleHQodGFyZ2V0ID0ge30pIHtcbiAgICBjb25zdCB0ZW1wbGF0ZUNvbnRleHQgPSBfLnJlc3VsdCh0aGlzLCAndGVtcGxhdGVDb250ZXh0Jyk7XG4gICAgcmV0dXJuIF8uZXh0ZW5kKHRhcmdldCwgdGVtcGxhdGVDb250ZXh0KTtcbiAgfSxcblxuICAvLyBBdHRhY2hlcyB0aGUgY29udGVudCBvZiBhIGdpdmVuIHZpZXcuXG4gIC8vIFRoaXMgbWV0aG9kIGNhbiBiZSBvdmVycmlkZGVuIHRvIG9wdGltaXplIHJlbmRlcmluZyxcbiAgLy8gb3IgdG8gcmVuZGVyIGluIGEgbm9uIHN0YW5kYXJkIHdheS5cbiAgLy9cbiAgLy8gRm9yIGV4YW1wbGUsIHVzaW5nIGBpbm5lckhUTUxgIGluc3RlYWQgb2YgYCRlbC5odG1sYFxuICAvL1xuICAvLyBgYGBqc1xuICAvLyBhdHRhY2hFbENvbnRlbnQoaHRtbCkge1xuICAvLyAgIHRoaXMuZWwuaW5uZXJIVE1MID0gaHRtbDtcbiAgLy8gICByZXR1cm4gdGhpcztcbiAgLy8gfVxuICAvLyBgYGBcbiAgYXR0YWNoRWxDb250ZW50KGh0bWwpIHtcbiAgICB0aGlzLkRvbS5zZXRDb250ZW50cyh0aGlzLmVsLCBodG1sLCB0aGlzLiRlbCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvLyBjYWxsZWQgYnkgVmlld01peGluIGRlc3Ryb3lcbiAgX3JlbW92ZUNoaWxkcmVuKCkge1xuICAgIHRoaXMucmVtb3ZlUmVnaW9ucygpO1xuICB9LFxuXG4gIF9nZXRJbW1lZGlhdGVDaGlsZHJlbigpIHtcbiAgICByZXR1cm4gXy5jaGFpbih0aGlzLl9nZXRSZWdpb25zKCkpXG4gICAgICAubWFwKCdjdXJyZW50VmlldycpXG4gICAgICAuY29tcGFjdCgpXG4gICAgICAudmFsdWUoKTtcbiAgfVxufSwge1xuICAvLyBTZXRzIHRoZSByZW5kZXJlciBmb3IgdGhlIE1hcmlvbmV0dGUuVmlldyBjbGFzc1xuICBzZXRSZW5kZXJlcihyZW5kZXJlcikge1xuICAgIHRoaXMucHJvdG90eXBlLl9yZW5kZXJIdG1sID0gcmVuZGVyZXI7XG4gIH0sXG5cbiAgc2V0RG9tQXBpXG59KTtcblxuXy5leHRlbmQoVmlldy5wcm90b3R5cGUsIFZpZXdNaXhpbiwgUmVnaW9uc01peGluKTtcblxuZXhwb3J0IGRlZmF1bHQgVmlldztcbiIsIi8vIE1peCBpbiBtZXRob2RzIGZyb20gVW5kZXJzY29yZSwgZm9yIGl0ZXJhdGlvbiwgYW5kIG90aGVyXG4vLyBjb2xsZWN0aW9uIHJlbGF0ZWQgZmVhdHVyZXMuXG4vLyBCb3Jyb3dpbmcgdGhpcyBjb2RlIGZyb20gQmFja2JvbmUuQ29sbGVjdGlvbjpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXNoa2VuYXMvYmFja2JvbmUvYmxvYi8xLjEuMi9iYWNrYm9uZS5qcyNMOTYyXG5cbmltcG9ydCBfIGZyb20gJ3VuZGVyc2NvcmUnO1xuXG5jb25zdCBtZXRob2RzID0gWydmb3JFYWNoJywgJ2VhY2gnLCAnbWFwJywgJ2ZpbmQnLCAnZGV0ZWN0JywgJ2ZpbHRlcicsXG4gICAgICAgICAgICAgICAgJ3NlbGVjdCcsICdyZWplY3QnLCAnZXZlcnknLCAnYWxsJywgJ3NvbWUnLCAnYW55JywgJ2luY2x1ZGUnLFxuICAgICAgICAgICAgICAgICdjb250YWlucycsICdpbnZva2UnLCAndG9BcnJheScsICdmaXJzdCcsICdpbml0aWFsJywgJ3Jlc3QnLFxuICAgICAgICAgICAgICAgICdsYXN0JywgJ3dpdGhvdXQnLCAnaXNFbXB0eScsICdwbHVjaycsICdyZWR1Y2UnLCAncGFydGl0aW9uJ107XG5cbmNvbnN0IGVtdWxhdGVDb2xsZWN0aW9uID0gZnVuY3Rpb24ob2JqZWN0LCBsaXN0UHJvcGVydHkpIHtcbiAgXy5lYWNoKG1ldGhvZHMsIGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgIG9iamVjdFttZXRob2RdID0gZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCBsaXN0ID0gXy5yZXN1bHQodGhpcywgbGlzdFByb3BlcnR5KTtcbiAgICAgIGNvbnN0IGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgcmV0dXJuIF9bbWV0aG9kXS5hcHBseShfLCBbbGlzdF0uY29uY2F0KGFyZ3MpKTtcbiAgICB9O1xuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGVtdWxhdGVDb2xsZWN0aW9uO1xuIiwiaW1wb3J0IF8gZnJvbSAndW5kZXJzY29yZSc7XG5pbXBvcnQgZW11bGF0ZUNvbGxlY3Rpb24gZnJvbSAnLi91dGlscy9lbXVsYXRlLWNvbGxlY3Rpb24nO1xuXG4vLyBQcm92aWRlIGEgY29udGFpbmVyIHRvIHN0b3JlLCByZXRyaWV2ZSBhbmRcbi8vIHNodXQgZG93biBjaGlsZCB2aWV3cy5cbmNvbnN0IENvbnRhaW5lciA9IGZ1bmN0aW9uKHZpZXdzKSB7XG4gIHRoaXMuX3ZpZXdzID0ge307XG4gIHRoaXMuX2luZGV4QnlNb2RlbCA9IHt9O1xuICB0aGlzLl9pbmRleEJ5Q3VzdG9tID0ge307XG4gIHRoaXMuX3VwZGF0ZUxlbmd0aCgpO1xuXG4gIF8uZWFjaCh2aWV3cywgXy5iaW5kKHRoaXMuYWRkLCB0aGlzKSk7XG59O1xuXG5lbXVsYXRlQ29sbGVjdGlvbihDb250YWluZXIucHJvdG90eXBlLCAnX2dldFZpZXdzJyk7XG5cbi8vIENvbnRhaW5lciBNZXRob2RzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLVxuXG5fLmV4dGVuZChDb250YWluZXIucHJvdG90eXBlLCB7XG5cbiAgX2dldFZpZXdzKCkge1xuICAgIHJldHVybiBfLnZhbHVlcyh0aGlzLl92aWV3cyk7XG4gIH0sXG5cbiAgLy8gQWRkIGEgdmlldyB0byB0aGlzIGNvbnRhaW5lci4gU3RvcmVzIHRoZSB2aWV3XG4gIC8vIGJ5IGBjaWRgIGFuZCBtYWtlcyBpdCBzZWFyY2hhYmxlIGJ5IHRoZSBtb2RlbFxuICAvLyBjaWQgKGFuZCBtb2RlbCBpdHNlbGYpLiBPcHRpb25hbGx5IHNwZWNpZnlcbiAgLy8gYSBjdXN0b20ga2V5IHRvIHN0b3JlIGFuIHJldHJpZXZlIHRoZSB2aWV3LlxuICBhZGQodmlldywgY3VzdG9tSW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkKHZpZXcsIGN1c3RvbUluZGV4KS5fdXBkYXRlTGVuZ3RoKCk7XG4gIH0sXG5cbiAgLy8gVG8gYmUgdXNlZCB3aGVuIGF2b2lkaW5nIGNhbGwgX3VwZGF0ZUxlbmd0aFxuICAvLyBXaGVuIHlvdSBhcmUgZG9uZSBhZGRpbmcgYWxsIHlvdXIgbmV3IHZpZXdzXG4gIC8vIGNhbGwgX3VwZGF0ZUxlbmd0aFxuICBfYWRkKHZpZXcsIGN1c3RvbUluZGV4KSB7XG4gICAgY29uc3Qgdmlld0NpZCA9IHZpZXcuY2lkO1xuXG4gICAgLy8gc3RvcmUgdGhlIHZpZXdcbiAgICB0aGlzLl92aWV3c1t2aWV3Q2lkXSA9IHZpZXc7XG5cbiAgICAvLyBpbmRleCBpdCBieSBtb2RlbFxuICAgIGlmICh2aWV3Lm1vZGVsKSB7XG4gICAgICB0aGlzLl9pbmRleEJ5TW9kZWxbdmlldy5tb2RlbC5jaWRdID0gdmlld0NpZDtcbiAgICB9XG5cbiAgICAvLyBpbmRleCBieSBjdXN0b21cbiAgICBpZiAoY3VzdG9tSW5kZXgpIHtcbiAgICAgIHRoaXMuX2luZGV4QnlDdXN0b21bY3VzdG9tSW5kZXhdID0gdmlld0NpZDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvLyBGaW5kIGEgdmlldyBieSB0aGUgbW9kZWwgdGhhdCB3YXMgYXR0YWNoZWQgdG9cbiAgLy8gaXQuIFVzZXMgdGhlIG1vZGVsJ3MgYGNpZGAgdG8gZmluZCBpdC5cbiAgZmluZEJ5TW9kZWwobW9kZWwpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kQnlNb2RlbENpZChtb2RlbC5jaWQpO1xuICB9LFxuXG4gIC8vIEZpbmQgYSB2aWV3IGJ5IHRoZSBgY2lkYCBvZiB0aGUgbW9kZWwgdGhhdCB3YXMgYXR0YWNoZWQgdG9cbiAgLy8gaXQuIFVzZXMgdGhlIG1vZGVsJ3MgYGNpZGAgdG8gZmluZCB0aGUgdmlldyBgY2lkYCBhbmRcbiAgLy8gcmV0cmlldmUgdGhlIHZpZXcgdXNpbmcgaXQuXG4gIGZpbmRCeU1vZGVsQ2lkKG1vZGVsQ2lkKSB7XG4gICAgY29uc3Qgdmlld0NpZCA9IHRoaXMuX2luZGV4QnlNb2RlbFttb2RlbENpZF07XG4gICAgcmV0dXJuIHRoaXMuZmluZEJ5Q2lkKHZpZXdDaWQpO1xuICB9LFxuXG4gIC8vIEZpbmQgYSB2aWV3IGJ5IGEgY3VzdG9tIGluZGV4ZXIuXG4gIGZpbmRCeUN1c3RvbShpbmRleCkge1xuICAgIGNvbnN0IHZpZXdDaWQgPSB0aGlzLl9pbmRleEJ5Q3VzdG9tW2luZGV4XTtcbiAgICByZXR1cm4gdGhpcy5maW5kQnlDaWQodmlld0NpZCk7XG4gIH0sXG5cbiAgLy8gRmluZCBieSBpbmRleC4gVGhpcyBpcyBub3QgZ3VhcmFudGVlZCB0byBiZSBhXG4gIC8vIHN0YWJsZSBpbmRleC5cbiAgZmluZEJ5SW5kZXgoaW5kZXgpIHtcbiAgICByZXR1cm4gXy52YWx1ZXModGhpcy5fdmlld3MpW2luZGV4XTtcbiAgfSxcblxuICAvLyByZXRyaWV2ZSBhIHZpZXcgYnkgaXRzIGBjaWRgIGRpcmVjdGx5XG4gIGZpbmRCeUNpZChjaWQpIHtcbiAgICByZXR1cm4gdGhpcy5fdmlld3NbY2lkXTtcbiAgfSxcblxuICAvLyBSZW1vdmUgYSB2aWV3XG4gIHJlbW92ZSh2aWV3KSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlbW92ZSh2aWV3KS5fdXBkYXRlTGVuZ3RoKCk7XG4gIH0sXG5cbiAgLy8gVG8gYmUgdXNlZCB3aGVuIGF2b2lkaW5nIGNhbGwgX3VwZGF0ZUxlbmd0aFxuICAvLyBXaGVuIHlvdSBhcmUgZG9uZSBhZGRpbmcgYWxsIHlvdXIgbmV3IHZpZXdzXG4gIC8vIGNhbGwgX3VwZGF0ZUxlbmd0aFxuICBfcmVtb3ZlKHZpZXcpIHtcbiAgICBjb25zdCB2aWV3Q2lkID0gdmlldy5jaWQ7XG5cbiAgICAvLyBkZWxldGUgbW9kZWwgaW5kZXhcbiAgICBpZiAodmlldy5tb2RlbCkge1xuICAgICAgZGVsZXRlIHRoaXMuX2luZGV4QnlNb2RlbFt2aWV3Lm1vZGVsLmNpZF07XG4gICAgfVxuXG4gICAgLy8gZGVsZXRlIGN1c3RvbSBpbmRleFxuICAgIF8uc29tZSh0aGlzLl9pbmRleEJ5Q3VzdG9tLCBfLmJpbmQoZnVuY3Rpb24oY2lkLCBrZXkpIHtcbiAgICAgIGlmIChjaWQgPT09IHZpZXdDaWQpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2luZGV4QnlDdXN0b21ba2V5XTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSwgdGhpcykpO1xuXG4gICAgLy8gcmVtb3ZlIHRoZSB2aWV3IGZyb20gdGhlIGNvbnRhaW5lclxuICAgIGRlbGV0ZSB0aGlzLl92aWV3c1t2aWV3Q2lkXTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8vIFVwZGF0ZSB0aGUgYC5sZW5ndGhgIGF0dHJpYnV0ZSBvbiB0aGlzIGNvbnRhaW5lclxuICBfdXBkYXRlTGVuZ3RoKCkge1xuICAgIHRoaXMubGVuZ3RoID0gXy5zaXplKHRoaXMuX3ZpZXdzKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQ29udGFpbmVyO1xuIiwiLy8gQ29sbGVjdGlvbiBWaWV3XG4vLyAtLS0tLS0tLS0tLS0tLS1cblxuaW1wb3J0IF8gZnJvbSAndW5kZXJzY29yZSc7XG5pbXBvcnQgQmFja2JvbmUgZnJvbSAnYmFja2JvbmUnO1xuaW1wb3J0IHsgcmVuZGVyVmlldywgZGVzdHJveVZpZXcgfSBmcm9tICcuL2NvbW1vbi92aWV3JztcbmltcG9ydCBpc05vZGVBdHRhY2hlZCBmcm9tICcuL2NvbW1vbi9pcy1ub2RlLWF0dGFjaGVkJztcbmltcG9ydCBtb25pdG9yVmlld0V2ZW50cyBmcm9tICcuL2NvbW1vbi9tb25pdG9yLXZpZXctZXZlbnRzJztcbmltcG9ydCB7IHRyaWdnZXJNZXRob2RPbiB9IGZyb20gJy4vY29tbW9uL3RyaWdnZXItbWV0aG9kJztcbmltcG9ydCBDaGlsZFZpZXdDb250YWluZXIgZnJvbSAnLi9jaGlsZC12aWV3LWNvbnRhaW5lcic7XG5pbXBvcnQgTWFyaW9uZXR0ZUVycm9yIGZyb20gJy4vZXJyb3InO1xuaW1wb3J0IFZpZXdNaXhpbiBmcm9tICcuL21peGlucy92aWV3JztcbmltcG9ydCB7IHNldERvbUFwaSB9IGZyb20gJy4vY29uZmlnL2RvbSc7XG5cbmNvbnN0IENsYXNzT3B0aW9ucyA9IFtcbiAgJ2JlaGF2aW9ycycsXG4gICdjaGlsZFZpZXcnLFxuICAnY2hpbGRWaWV3RXZlbnRQcmVmaXgnLFxuICAnY2hpbGRWaWV3RXZlbnRzJyxcbiAgJ2NoaWxkVmlld09wdGlvbnMnLFxuICAnY2hpbGRWaWV3VHJpZ2dlcnMnLFxuICAnY29sbGVjdGlvbkV2ZW50cycsXG4gICdldmVudHMnLFxuICAnZmlsdGVyJyxcbiAgJ2VtcHR5VmlldycsXG4gICdlbXB0eVZpZXdPcHRpb25zJyxcbiAgJ21vZGVsRXZlbnRzJyxcbiAgJ3Jlb3JkZXJPblNvcnQnLFxuICAnc29ydCcsXG4gICd0cmlnZ2VycycsXG4gICd1aScsXG4gICd2aWV3Q29tcGFyYXRvcidcbl07XG5cbi8vIEEgdmlldyB0aGF0IGl0ZXJhdGVzIG92ZXIgYSBCYWNrYm9uZS5Db2xsZWN0aW9uXG4vLyBhbmQgcmVuZGVycyBhbiBpbmRpdmlkdWFsIGNoaWxkIHZpZXcgZm9yIGVhY2ggbW9kZWwuXG5jb25zdCBDb2xsZWN0aW9uVmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcblxuICAvLyBmbGFnIGZvciBtYWludGFpbmluZyB0aGUgc29ydGVkIG9yZGVyIG9mIHRoZSBjb2xsZWN0aW9uXG4gIHNvcnQ6IHRydWUsXG5cbiAgLy8gY29uc3RydWN0b3JcbiAgLy8gb3B0aW9uIHRvIHBhc3MgYHtzb3J0OiBmYWxzZX1gIHRvIHByZXZlbnQgdGhlIGBDb2xsZWN0aW9uVmlld2AgZnJvbVxuICAvLyBtYWludGFpbmluZyB0aGUgc29ydGVkIG9yZGVyIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAvLyBUaGlzIHdpbGwgZmFsbGJhY2sgb250byBhcHBlbmRpbmcgY2hpbGRWaWV3J3MgdG8gdGhlIGVuZC5cbiAgLy9cbiAgLy8gb3B0aW9uIHRvIHBhc3MgYHt2aWV3Q29tcGFyYXRvcjogY29tcEZ1bmN0aW9uKCl9YCB0byBhbGxvdyB0aGUgYENvbGxlY3Rpb25WaWV3YFxuICAvLyB0byB1c2UgYSBjdXN0b20gc29ydCBvcmRlciBmb3IgdGhlIGNvbGxlY3Rpb24uXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLnJlbmRlciA9IF8uYmluZCh0aGlzLnJlbmRlciwgdGhpcyk7XG5cbiAgICB0aGlzLl9zZXRPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgdGhpcy5tZXJnZU9wdGlvbnMob3B0aW9ucywgQ2xhc3NPcHRpb25zKTtcblxuICAgIG1vbml0b3JWaWV3RXZlbnRzKHRoaXMpO1xuXG4gICAgdGhpcy5faW5pdEJlaGF2aW9ycygpO1xuICAgIHRoaXMub25jZSgncmVuZGVyJywgdGhpcy5faW5pdGlhbEV2ZW50cyk7XG4gICAgdGhpcy5faW5pdENoaWxkVmlld1N0b3JhZ2UoKTtcbiAgICB0aGlzLl9idWZmZXJlZENoaWxkcmVuID0gW107XG5cbiAgICBjb25zdCBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICBhcmdzWzBdID0gdGhpcy5vcHRpb25zO1xuICAgIEJhY2tib25lLlZpZXcucHJvdG90eXBlLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXG4gICAgdGhpcy5kZWxlZ2F0ZUVudGl0eUV2ZW50cygpO1xuXG4gICAgdGhpcy5fdHJpZ2dlckV2ZW50T25CZWhhdmlvcnMoJ2luaXRpYWxpemUnLCB0aGlzKTtcbiAgfSxcblxuICAvLyBJbnN0ZWFkIG9mIGluc2VydGluZyBlbGVtZW50cyBvbmUgYnkgb25lIGludG8gdGhlIHBhZ2UsIGl0J3MgbXVjaCBtb3JlIHBlcmZvcm1hbnQgdG8gaW5zZXJ0XG4gIC8vIGVsZW1lbnRzIGludG8gYSBkb2N1bWVudCBmcmFnbWVudCBhbmQgdGhlbiBpbnNlcnQgdGhhdCBkb2N1bWVudCBmcmFnbWVudCBpbnRvIHRoZSBwYWdlXG4gIF9zdGFydEJ1ZmZlcmluZygpIHtcbiAgICB0aGlzLl9pc0J1ZmZlcmluZyA9IHRydWU7XG4gIH0sXG5cbiAgX2VuZEJ1ZmZlcmluZygpIHtcbiAgICBjb25zdCBzaG91bGRUcmlnZ2VyQXR0YWNoID0gdGhpcy5faXNBdHRhY2hlZCAmJiB0aGlzLm1vbml0b3JWaWV3RXZlbnRzICE9PSBmYWxzZTtcbiAgICBjb25zdCB0cmlnZ2VyT25DaGlsZHJlbiA9IHNob3VsZFRyaWdnZXJBdHRhY2ggPyB0aGlzLl9nZXRJbW1lZGlhdGVDaGlsZHJlbigpIDogW107XG5cbiAgICB0aGlzLl9pc0J1ZmZlcmluZyA9IGZhbHNlO1xuXG4gICAgXy5lYWNoKHRyaWdnZXJPbkNoaWxkcmVuLCBjaGlsZCA9PiB7XG4gICAgICB0cmlnZ2VyTWV0aG9kT24oY2hpbGQsICdiZWZvcmU6YXR0YWNoJywgY2hpbGQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5hdHRhY2hCdWZmZXIodGhpcywgdGhpcy5fY3JlYXRlQnVmZmVyKCkpO1xuXG4gICAgXy5lYWNoKHRyaWdnZXJPbkNoaWxkcmVuLCBjaGlsZCA9PiB7XG4gICAgICBjaGlsZC5faXNBdHRhY2hlZCA9IHRydWU7XG4gICAgICB0cmlnZ2VyTWV0aG9kT24oY2hpbGQsICdhdHRhY2gnLCBjaGlsZCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9idWZmZXJlZENoaWxkcmVuID0gW107XG4gIH0sXG5cbiAgX2dldEltbWVkaWF0ZUNoaWxkcmVuKCkge1xuICAgIHJldHVybiBfLnZhbHVlcyh0aGlzLmNoaWxkcmVuLl92aWV3cyk7XG4gIH0sXG5cbiAgLy8gQ29uZmlndXJlZCB0aGUgaW5pdGlhbCBldmVudHMgdGhhdCB0aGUgY29sbGVjdGlvbiB2aWV3IGJpbmRzIHRvLlxuICBfaW5pdGlhbEV2ZW50cygpIHtcbiAgICBpZiAodGhpcy5jb2xsZWN0aW9uKSB7XG4gICAgICB0aGlzLmxpc3RlblRvKHRoaXMuY29sbGVjdGlvbiwgJ2FkZCcsIHRoaXMuX29uQ29sbGVjdGlvbkFkZCk7XG4gICAgICB0aGlzLmxpc3RlblRvKHRoaXMuY29sbGVjdGlvbiwgJ3VwZGF0ZScsIHRoaXMuX29uQ29sbGVjdGlvblVwZGF0ZSk7XG4gICAgICB0aGlzLmxpc3RlblRvKHRoaXMuY29sbGVjdGlvbiwgJ3Jlc2V0JywgdGhpcy5yZW5kZXIpO1xuXG4gICAgICBpZiAodGhpcy5zb3J0KSB7XG4gICAgICAgIHRoaXMubGlzdGVuVG8odGhpcy5jb2xsZWN0aW9uLCAnc29ydCcsIHRoaXMuX3NvcnRWaWV3cyk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8vIEhhbmRsZSBhIGNoaWxkIGFkZGVkIHRvIHRoZSBjb2xsZWN0aW9uXG4gIF9vbkNvbGxlY3Rpb25BZGQoY2hpbGQsIGNvbGxlY3Rpb24sIG9wdHMpIHtcbiAgICAvLyBgaW5kZXhgIGlzIHByZXNlbnQgd2hlbiBhZGRpbmcgd2l0aCBgYXRgIHNpbmNlIEJCIDEuMjsgaW5kZXhPZiBmYWxsYmFjayBmb3IgPCAxLjJcbiAgICBsZXQgaW5kZXggPSBvcHRzLmF0ICE9PSB1bmRlZmluZWQgJiYgKG9wdHMuaW5kZXggfHwgY29sbGVjdGlvbi5pbmRleE9mKGNoaWxkKSk7XG5cbiAgICAvLyBXaGVuIGZpbHRlcmVkIG9yIHdoZW4gdGhlcmUgaXMgbm8gaW5pdGlhbCBpbmRleCwgY2FsY3VsYXRlIGluZGV4LlxuICAgIGlmICh0aGlzLmZpbHRlciB8fCBpbmRleCA9PT0gZmFsc2UpIHtcbiAgICAgIGluZGV4ID0gXy5pbmRleE9mKHRoaXMuX2ZpbHRlcmVkU29ydGVkTW9kZWxzKGluZGV4KSwgY2hpbGQpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zaG91bGRBZGRDaGlsZChjaGlsZCwgaW5kZXgpKSB7XG4gICAgICB0aGlzLl9kZXN0cm95RW1wdHlWaWV3KCk7XG4gICAgICB0aGlzLl9hZGRDaGlsZChjaGlsZCwgaW5kZXgpXG4gICAgfVxuICB9LFxuXG4gIC8vIEhhbmRsZSBjb2xsZWN0aW9uIHVwZGF0ZSBtb2RlbCByZW1vdmFsc1xuICBfb25Db2xsZWN0aW9uVXBkYXRlKGNvbGxlY3Rpb24sIG9wdGlvbnMpIHtcbiAgICBjb25zdCBjaGFuZ2VzID0gb3B0aW9ucy5jaGFuZ2VzO1xuICAgIHRoaXMuX3JlbW92ZUNoaWxkTW9kZWxzKGNoYW5nZXMucmVtb3ZlZCk7XG4gIH0sXG5cbiAgLy8gUmVtb3ZlIHRoZSBjaGlsZCB2aWV3cyBhbmQgZGVzdHJveSB0aGVtLlxuICAvLyBUaGlzIGZ1bmN0aW9uIGFsc28gdXBkYXRlcyB0aGUgaW5kaWNlcyBvZiBsYXRlciB2aWV3c1xuICAvLyBpbiB0aGUgY29sbGVjdGlvbiBpbiBvcmRlciB0byBrZWVwIHRoZSBjaGlsZHJlbiBpbiBzeW5jIHdpdGggdGhlIGNvbGxlY3Rpb24uXG4gIC8vIFwibW9kZWxzXCIgaXMgYW4gYXJyYXkgb2YgbW9kZWxzIGFuZCB0aGUgY29ycmVzcG9uZGluZyB2aWV3c1xuICAvLyB3aWxsIGJlIHJlbW92ZWQgYW5kIGRlc3Ryb3llZCBmcm9tIHRoZSBDb2xsZWN0aW9uVmlld1xuICBfcmVtb3ZlQ2hpbGRNb2RlbHMobW9kZWxzKSB7XG4gICAgLy8gVXNlZCB0byBkZXRlcm1pbmUgd2hlcmUgdG8gdXBkYXRlIHRoZSByZW1haW5pbmdcbiAgICAvLyBzaWJsaW5nIHZpZXcgaW5kaWNlcyBhZnRlciB0aGVzZSB2aWV3cyBhcmUgcmVtb3ZlZC5cbiAgICBjb25zdCByZW1vdmVkVmlld3MgPSB0aGlzLl9nZXRSZW1vdmVkVmlld3MobW9kZWxzKTtcblxuICAgIGlmICghcmVtb3ZlZFZpZXdzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuY2hpbGRyZW4uX3VwZGF0ZUxlbmd0aCgpO1xuXG4gICAgLy8gZGVjcmVtZW50IHRoZSBpbmRleCBvZiB2aWV3cyBhZnRlciB0aGlzIG9uZVxuICAgIHRoaXMuX3VwZGF0ZUluZGljZXMocmVtb3ZlZFZpZXdzLCBmYWxzZSk7XG5cbiAgICBpZiAodGhpcy5pc0VtcHR5KCkpIHtcbiAgICAgIHRoaXMuX3Nob3dFbXB0eVZpZXcoKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gUmV0dXJucyB0aGUgdmlld3MgdGhhdCB3aWxsIGJlIHVzZWQgZm9yIHJlLWluZGV4aW5nXG4gIC8vIHRocm91Z2ggQ29sbGVjdGlvblZpZXcjX3VwZGF0ZUluZGljZXMuXG4gIF9nZXRSZW1vdmVkVmlld3MobW9kZWxzKSB7XG5cbiAgICAvLyBSZXR1cm5pbmcgYSB2aWV3IG1lYW5zIHNvbWV0aGluZyB3YXMgcmVtb3ZlZC5cbiAgICByZXR1cm4gXy5yZWR1Y2UobW9kZWxzLCAocmVtb3ZpbmdWaWV3cywgbW9kZWwpID0+IHtcbiAgICAgIGNvbnN0IHZpZXcgPSBtb2RlbCAmJiB0aGlzLmNoaWxkcmVuLmZpbmRCeU1vZGVsKG1vZGVsKTtcblxuICAgICAgaWYgKCF2aWV3IHx8IHZpZXcuX2lzRGVzdHJveWVkKSB7XG4gICAgICAgIHJldHVybiByZW1vdmluZ1ZpZXdzO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9yZW1vdmVDaGlsZFZpZXcodmlldyk7XG5cbiAgICAgIHJlbW92aW5nVmlld3MucHVzaCh2aWV3KTtcblxuICAgICAgcmV0dXJuIHJlbW92aW5nVmlld3M7XG4gICAgfSwgW10pO1xuICB9LFxuXG4gIF9yZW1vdmVDaGlsZFZpZXcodmlldykge1xuICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnYmVmb3JlOnJlbW92ZTpjaGlsZCcsIHRoaXMsIHZpZXcpO1xuXG4gICAgdGhpcy5jaGlsZHJlbi5fcmVtb3ZlKHZpZXcpO1xuICAgIHZpZXcuX3Nob3VsZERpc2FibGVFdmVudHMgPSB0aGlzLm1vbml0b3JWaWV3RXZlbnRzID09PSBmYWxzZTtcbiAgICBkZXN0cm95Vmlldyh2aWV3KTtcblxuICAgIHRoaXMuc3RvcExpc3RlbmluZyh2aWV3KTtcbiAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ3JlbW92ZTpjaGlsZCcsIHRoaXMsIHZpZXcpO1xuICB9LFxuXG4gIC8vIE92ZXJyaWRpbmcgQmFja2JvbmUuVmlldydzIGBzZXRFbGVtZW50YCB0byBoYW5kbGVcbiAgLy8gaWYgYW4gZWwgd2FzIHByZXZpb3VzbHkgZGVmaW5lZC4gSWYgc28sIHRoZSB2aWV3IG1pZ2h0IGJlXG4gIC8vIGF0dGFjaGVkIG9uIHNldEVsZW1lbnQuXG4gIHNldEVsZW1lbnQoKSB7XG4gICAgY29uc3QgaGFzRWwgPSAhIXRoaXMuZWw7XG5cbiAgICBCYWNrYm9uZS5WaWV3LnByb3RvdHlwZS5zZXRFbGVtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICBpZiAoaGFzRWwpIHtcbiAgICAgIHRoaXMuX2lzQXR0YWNoZWQgPSBpc05vZGVBdHRhY2hlZCh0aGlzLmVsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvLyBSZW5kZXIgY2hpbGRyZW4gdmlld3MuIE92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIHByb3ZpZGUgeW91ciBvd24gaW1wbGVtZW50YXRpb24gb2YgYVxuICAvLyByZW5kZXIgZnVuY3Rpb24gZm9yIHRoZSBjb2xsZWN0aW9uIHZpZXcuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5faXNEZXN0cm95ZWQpIHsgcmV0dXJuIHRoaXM7IH1cbiAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ2JlZm9yZTpyZW5kZXInLCB0aGlzKTtcbiAgICB0aGlzLl9yZW5kZXJDaGlsZHJlbigpO1xuICAgIHRoaXMuX2lzUmVuZGVyZWQgPSB0cnVlO1xuICAgIHRoaXMudHJpZ2dlck1ldGhvZCgncmVuZGVyJywgdGhpcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLy8gQW4gZWZmaWNpZW50IHJlbmRlcmluZyB1c2VkIGZvciBmaWx0ZXJpbmcuIEluc3RlYWQgb2YgbW9kaWZ5aW5nIHRoZSB3aG9sZSBET00gZm9yIHRoZVxuICAvLyBjb2xsZWN0aW9uIHZpZXcsIHdlIGFyZSBvbmx5IGFkZGluZyBvciByZW1vdmluZyB0aGUgcmVsYXRlZCBjaGlsZHJlblZpZXdzLlxuICBzZXRGaWx0ZXIoZmlsdGVyLCB7cHJldmVudFJlbmRlcn0gPSB7fSkge1xuICAgIGNvbnN0IGNhbkJlUmVuZGVyZWQgPSB0aGlzLl9pc1JlbmRlcmVkICYmICF0aGlzLl9pc0Rlc3Ryb3llZDtcbiAgICBjb25zdCBmaWx0ZXJDaGFuZ2VkID0gdGhpcy5maWx0ZXIgIT09IGZpbHRlcjtcbiAgICBjb25zdCBzaG91bGRSZW5kZXIgPSBjYW5CZVJlbmRlcmVkICYmIGZpbHRlckNoYW5nZWQgJiYgIXByZXZlbnRSZW5kZXI7XG5cbiAgICBpZiAoc2hvdWxkUmVuZGVyKSB7XG4gICAgICBjb25zdCBwcmV2aW91c01vZGVscyA9IHRoaXMuX2ZpbHRlcmVkU29ydGVkTW9kZWxzKCk7XG4gICAgICB0aGlzLmZpbHRlciA9IGZpbHRlcjtcbiAgICAgIGNvbnN0IG1vZGVscyA9IHRoaXMuX2ZpbHRlcmVkU29ydGVkTW9kZWxzKCk7XG4gICAgICB0aGlzLl9hcHBseU1vZGVsRGVsdGFzKG1vZGVscywgcHJldmlvdXNNb2RlbHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmZpbHRlciA9IGZpbHRlcjtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvLyBgcmVtb3ZlRmlsdGVyYCBpcyBhY3R1YWxseSBhbiBhbGlhcyBmb3IgcmVtb3ZpbmcgZmlsdGVycy5cbiAgcmVtb3ZlRmlsdGVyKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5zZXRGaWx0ZXIobnVsbCwgb3B0aW9ucyk7XG4gIH0sXG5cbiAgLy8gQ2FsY3VsYXRlIGFuZCBhcHBseSBkaWZmZXJlbmNlIGJ5IGNpZCBiZXR3ZWVuIGBtb2RlbHNgIGFuZCBgcHJldmlvdXNNb2RlbHNgLlxuICBfYXBwbHlNb2RlbERlbHRhcyhtb2RlbHMsIHByZXZpb3VzTW9kZWxzKSB7XG4gICAgY29uc3QgY3VycmVudElkcyA9IHt9O1xuICAgIF8uZWFjaChtb2RlbHMsIChtb2RlbCwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGFkZGVkQ2hpbGROb3RFeGlzdHMgPSAhdGhpcy5jaGlsZHJlbi5maW5kQnlNb2RlbChtb2RlbCk7XG4gICAgICBpZiAoYWRkZWRDaGlsZE5vdEV4aXN0cykge1xuICAgICAgICB0aGlzLl9vbkNvbGxlY3Rpb25BZGQobW9kZWwsIHRoaXMuY29sbGVjdGlvbiwge2F0OiBpbmRleH0pO1xuICAgICAgfVxuICAgICAgY3VycmVudElkc1ttb2RlbC5jaWRdID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlbW92ZU1vZGVscyA9IF8uZmlsdGVyKHByZXZpb3VzTW9kZWxzLCAocHJldk1vZGVsKSA9PiB7XG4gICAgICByZXR1cm4gIWN1cnJlbnRJZHNbcHJldk1vZGVsLmNpZF0gJiYgdGhpcy5jaGlsZHJlbi5maW5kQnlNb2RlbChwcmV2TW9kZWwpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fcmVtb3ZlQ2hpbGRNb2RlbHMocmVtb3ZlTW9kZWxzKTtcbiAgfSxcblxuICAvLyBSZW9yZGVyIERPTSBhZnRlciBzb3J0aW5nLiBXaGVuIHlvdXIgZWxlbWVudCdzIHJlbmRlcmluZyBkbyBub3QgdXNlIHRoZWlyIGluZGV4LFxuICAvLyB5b3UgY2FuIHBhc3MgcmVvcmRlck9uU29ydDogdHJ1ZSB0byBvbmx5IHJlb3JkZXIgdGhlIERPTSBhZnRlciBhIHNvcnQgaW5zdGVhZCBvZlxuICAvLyByZW5kZXJpbmcgYWxsIHRoZSBjb2xsZWN0aW9uVmlldy5cbiAgcmVvcmRlcigpIHtcbiAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47XG4gICAgY29uc3QgbW9kZWxzID0gdGhpcy5fZmlsdGVyZWRTb3J0ZWRNb2RlbHMoKTtcblxuICAgIGlmICghbW9kZWxzLmxlbmd0aCAmJiB0aGlzLl9zaG93aW5nRW1wdHlWaWV3KSB7IHJldHVybiB0aGlzOyB9XG5cbiAgICBjb25zdCBhbnlNb2RlbHNBZGRlZCA9IF8uc29tZShtb2RlbHMsIGZ1bmN0aW9uKG1vZGVsKSB7XG4gICAgICByZXR1cm4gIWNoaWxkcmVuLmZpbmRCeU1vZGVsKG1vZGVsKTtcbiAgICB9KTtcblxuICAgIC8vIElmIHRoZXJlIGFyZSBhbnkgbmV3IG1vZGVscyBhZGRlZCBkdWUgdG8gZmlsdGVyaW5nIHdlIG5lZWQgdG8gYWRkIGNoaWxkIHZpZXdzLFxuICAgIC8vIHNvIHJlbmRlciBhcyBub3JtYWwuXG4gICAgaWYgKGFueU1vZGVsc0FkZGVkKSB7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH0gZWxzZSB7XG5cbiAgICAgIGNvbnN0IGZpbHRlcmVkT3V0TW9kZWxzID0gW107XG5cbiAgICAgIC8vIEdldCB0aGUgRE9NIG5vZGVzIGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZSBtb2RlbHMgYW5kXG4gICAgICAvLyBmaW5kIHRoZSBtb2RlbCB0aGF0IHdlcmUgY2hpbGRyZW4gYmVmb3JlIGJ1dCBhcmVuJ3QgaW4gdGhpcyBuZXcgb3JkZXIuXG4gICAgICBjb25zdCBlbHNUb1Jlb3JkZXIgPSBfLnJlZHVjZSh0aGlzLmNoaWxkcmVuLl92aWV3cywgZnVuY3Rpb24odmlld0Vscywgdmlldykge1xuICAgICAgICBjb25zdCBpbmRleCA9IF8uaW5kZXhPZihtb2RlbHMsIHZpZXcubW9kZWwpO1xuXG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICBmaWx0ZXJlZE91dE1vZGVscy5wdXNoKHZpZXcubW9kZWwpO1xuICAgICAgICAgIHJldHVybiB2aWV3RWxzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmlldy5faW5kZXggPSBpbmRleDtcblxuICAgICAgICB2aWV3RWxzW2luZGV4XSA9IHZpZXcuZWw7XG5cbiAgICAgICAgcmV0dXJuIHZpZXdFbHM7XG4gICAgICB9LCBuZXcgQXJyYXkobW9kZWxzLmxlbmd0aCkpO1xuXG4gICAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ2JlZm9yZTpyZW9yZGVyJywgdGhpcyk7XG5cbiAgICAgIGNvbnN0IGVsQnVmZmVyID0gdGhpcy5Eb20uY3JlYXRlQnVmZmVyKCk7XG5cbiAgICAgIF8uZWFjaChlbHNUb1Jlb3JkZXIsIChlbCkgPT4ge1xuICAgICAgICB0aGlzLkRvbS5hcHBlbmRDb250ZW50cyhlbEJ1ZmZlciwgZWwpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFNpbmNlIGFwcGVuZCBtb3ZlcyBlbGVtZW50cyB0aGF0IGFyZSBhbHJlYWR5IGluIHRoZSBET00sIGFwcGVuZGluZyB0aGUgZWxlbWVudHNcbiAgICAgIC8vIHdpbGwgZWZmZWN0aXZlbHkgcmVvcmRlciB0aGVtLlxuICAgICAgdGhpcy5fYXBwZW5kUmVvcmRlcmVkQ2hpbGRyZW4oZWxCdWZmZXIpO1xuXG4gICAgICAvLyByZW1vdmUgYW55IHZpZXdzIHRoYXQgaGF2ZSBiZWVuIGZpbHRlcmVkIG91dFxuICAgICAgdGhpcy5fcmVtb3ZlQ2hpbGRNb2RlbHMoZmlsdGVyZWRPdXRNb2RlbHMpO1xuXG4gICAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ3Jlb3JkZXInLCB0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLy8gUmVuZGVyIHZpZXcgYWZ0ZXIgc29ydGluZy4gT3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gY2hhbmdlIGhvdyB0aGUgdmlldyByZW5kZXJzXG4gIC8vIGFmdGVyIGEgYHNvcnRgIG9uIHRoZSBjb2xsZWN0aW9uLlxuICByZXNvcnRWaWV3KCkge1xuICAgIGlmICh0aGlzLnJlb3JkZXJPblNvcnQpIHtcbiAgICAgIHRoaXMucmVvcmRlcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9yZW5kZXJDaGlsZHJlbigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvLyBJbnRlcm5hbCBtZXRob2QuIFRoaXMgY2hlY2tzIGZvciBhbnkgY2hhbmdlcyBpbiB0aGUgb3JkZXIgb2YgdGhlIGNvbGxlY3Rpb24uXG4gIC8vIElmIHRoZSBpbmRleCBvZiBhbnkgdmlldyBkb2Vzbid0IG1hdGNoLCBpdCB3aWxsIHJlbmRlci5cbiAgX3NvcnRWaWV3cygpIHtcbiAgICBjb25zdCBtb2RlbHMgPSB0aGlzLl9maWx0ZXJlZFNvcnRlZE1vZGVscygpO1xuXG4gICAgLy8gY2hlY2sgZm9yIGFueSBjaGFuZ2VzIGluIHNvcnQgb3JkZXIgb2Ygdmlld3NcbiAgICBjb25zdCBvcmRlckNoYW5nZWQgPSBfLmZpbmQobW9kZWxzLCAoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLmNoaWxkcmVuLmZpbmRCeU1vZGVsKGl0ZW0pO1xuICAgICAgcmV0dXJuICF2aWV3IHx8IHZpZXcuX2luZGV4ICE9PSBpbmRleDtcbiAgICB9KTtcblxuICAgIGlmIChvcmRlckNoYW5nZWQpIHtcbiAgICAgIHRoaXMucmVzb3J0VmlldygpO1xuICAgIH1cbiAgfSxcblxuICAvLyBJbnRlcm5hbCByZWZlcmVuY2UgdG8gd2hhdCBpbmRleCBhIGBlbXB0eVZpZXdgIGlzLlxuICBfZW1wdHlWaWV3SW5kZXg6IC0xLFxuXG4gIC8vIEludGVybmFsIG1ldGhvZC4gU2VwYXJhdGVkIHNvIHRoYXQgQ29tcG9zaXRlVmlldyBjYW4gYXBwZW5kIHRvIHRoZSBjaGlsZFZpZXdDb250YWluZXJcbiAgLy8gaWYgbmVjZXNzYXJ5XG4gIF9hcHBlbmRSZW9yZGVyZWRDaGlsZHJlbihjaGlsZHJlbikge1xuICAgIHRoaXMuRG9tLmFwcGVuZENvbnRlbnRzKHRoaXMuZWwsIGNoaWxkcmVuLCB7XyRlbDogdGhpcy4kZWx9KTtcbiAgfSxcblxuICAvLyBJbnRlcm5hbCBtZXRob2QuIFNlcGFyYXRlZCBzbyB0aGF0IENvbXBvc2l0ZVZpZXcgY2FuIGhhdmUgbW9yZSBjb250cm9sIG92ZXIgZXZlbnRzXG4gIC8vIGJlaW5nIHRyaWdnZXJlZCwgYXJvdW5kIHRoZSByZW5kZXJpbmcgcHJvY2Vzc1xuICBfcmVuZGVyQ2hpbGRyZW4oKSB7XG4gICAgaWYgKHRoaXMuX2lzUmVuZGVyZWQpIHtcbiAgICAgIHRoaXMuX2Rlc3Ryb3lFbXB0eVZpZXcoKTtcbiAgICAgIHRoaXMuX2Rlc3Ryb3lDaGlsZHJlbigpO1xuICAgIH1cblxuICAgIGNvbnN0IG1vZGVscyA9IHRoaXMuX2ZpbHRlcmVkU29ydGVkTW9kZWxzKCk7XG4gICAgaWYgKHRoaXMuaXNFbXB0eSh7cHJvY2Vzc2VkTW9kZWxzOiBtb2RlbHN9KSkge1xuICAgICAgdGhpcy5fc2hvd0VtcHR5VmlldygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ2JlZm9yZTpyZW5kZXI6Y2hpbGRyZW4nLCB0aGlzKTtcbiAgICAgIHRoaXMuX3N0YXJ0QnVmZmVyaW5nKCk7XG4gICAgICB0aGlzLl9zaG93Q29sbGVjdGlvbihtb2RlbHMpO1xuICAgICAgdGhpcy5fZW5kQnVmZmVyaW5nKCk7XG4gICAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ3JlbmRlcjpjaGlsZHJlbicsIHRoaXMpO1xuICAgIH1cbiAgfSxcblxuICBfY3JlYXRlVmlldyhtb2RlbCwgaW5kZXgpIHtcbiAgICBjb25zdCBDaGlsZFZpZXcgPSB0aGlzLl9nZXRDaGlsZFZpZXcobW9kZWwpO1xuICAgIGNvbnN0IGNoaWxkVmlld09wdGlvbnMgPSB0aGlzLl9nZXRDaGlsZFZpZXdPcHRpb25zKG1vZGVsLCBpbmRleCk7XG4gICAgY29uc3QgdmlldyA9IHRoaXMuYnVpbGRDaGlsZFZpZXcobW9kZWwsIENoaWxkVmlldywgY2hpbGRWaWV3T3B0aW9ucyk7XG4gICAgcmV0dXJuIHZpZXc7XG4gIH0sXG5cbiAgX3NldHVwQ2hpbGRWaWV3KHZpZXcsIGluZGV4KSB7XG4gICAgbW9uaXRvclZpZXdFdmVudHModmlldyk7XG5cbiAgICAvLyBzZXQgdXAgdGhlIGNoaWxkIHZpZXcgZXZlbnQgZm9yd2FyZGluZ1xuICAgIHRoaXMuX3Byb3h5Q2hpbGRWaWV3RXZlbnRzKHZpZXcpO1xuXG4gICAgaWYgKHRoaXMuc29ydCkge1xuICAgICAgdmlldy5faW5kZXggPSBpbmRleDtcbiAgICB9XG4gIH0sXG5cbiAgLy8gSW50ZXJuYWwgbWV0aG9kIHRvIGxvb3AgdGhyb3VnaCBjb2xsZWN0aW9uIGFuZCBzaG93IGVhY2ggY2hpbGQgdmlldy5cbiAgX3Nob3dDb2xsZWN0aW9uKG1vZGVscykge1xuICAgIF8uZWFjaChtb2RlbHMsIF8uYmluZCh0aGlzLl9hZGRDaGlsZCwgdGhpcykpO1xuICAgIHRoaXMuY2hpbGRyZW4uX3VwZGF0ZUxlbmd0aCgpO1xuICB9LFxuXG4gIC8vIEFsbG93IHRoZSBjb2xsZWN0aW9uIHRvIGJlIHNvcnRlZCBieSBhIGN1c3RvbSB2aWV3IGNvbXBhcmF0b3JcbiAgX2ZpbHRlcmVkU29ydGVkTW9kZWxzKGFkZGVkQXQpIHtcbiAgICBpZiAoIXRoaXMuY29sbGVjdGlvbiB8fCAhdGhpcy5jb2xsZWN0aW9uLmxlbmd0aCkgeyByZXR1cm4gW107IH1cblxuICAgIGNvbnN0IHZpZXdDb21wYXJhdG9yID0gdGhpcy5nZXRWaWV3Q29tcGFyYXRvcigpO1xuICAgIGxldCBtb2RlbHMgPSB0aGlzLmNvbGxlY3Rpb24ubW9kZWxzO1xuICAgIGFkZGVkQXQgPSBNYXRoLm1pbihNYXRoLm1heChhZGRlZEF0LCAwKSwgbW9kZWxzLmxlbmd0aCAtIDEpO1xuXG4gICAgaWYgKHZpZXdDb21wYXJhdG9yKSB7XG4gICAgICBsZXQgYWRkZWRNb2RlbDtcbiAgICAgIC8vIFByZXNlcnZlIGBhdGAgbG9jYXRpb24sIGV2ZW4gZm9yIGEgc29ydGVkIHZpZXdcbiAgICAgIGlmIChhZGRlZEF0KSB7XG4gICAgICAgIGFkZGVkTW9kZWwgPSBtb2RlbHNbYWRkZWRBdF07XG4gICAgICAgIG1vZGVscyA9IG1vZGVscy5zbGljZSgwLCBhZGRlZEF0KS5jb25jYXQobW9kZWxzLnNsaWNlKGFkZGVkQXQgKyAxKSk7XG4gICAgICB9XG4gICAgICBtb2RlbHMgPSB0aGlzLl9zb3J0TW9kZWxzQnkobW9kZWxzLCB2aWV3Q29tcGFyYXRvcik7XG4gICAgICBpZiAoYWRkZWRNb2RlbCkge1xuICAgICAgICBtb2RlbHMuc3BsaWNlKGFkZGVkQXQsIDAsIGFkZGVkTW9kZWwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZpbHRlciBhZnRlciBzb3J0aW5nIGluIGNhc2UgdGhlIGZpbHRlciB1c2VzIHRoZSBpbmRleFxuICAgIG1vZGVscyA9IHRoaXMuX2ZpbHRlck1vZGVscyhtb2RlbHMpO1xuXG4gICAgcmV0dXJuIG1vZGVscztcbiAgfSxcblxuICBnZXRWaWV3Q29tcGFyYXRvcigpIHtcbiAgICByZXR1cm4gdGhpcy52aWV3Q29tcGFyYXRvcjtcbiAgfSxcblxuICAvLyBGaWx0ZXIgYW4gYXJyYXkgb2YgbW9kZWxzLCBpZiBhIGZpbHRlciBleGlzdHNcbiAgX2ZpbHRlck1vZGVscyhtb2RlbHMpIHtcbiAgICBpZiAodGhpcy5maWx0ZXIpIHtcbiAgICAgIG1vZGVscyA9IF8uZmlsdGVyKG1vZGVscywgKG1vZGVsLCBpbmRleCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2hvdWxkQWRkQ2hpbGQobW9kZWwsIGluZGV4KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbW9kZWxzO1xuICB9LFxuXG4gIF9zb3J0TW9kZWxzQnkobW9kZWxzLCBjb21wYXJhdG9yKSB7XG4gICAgaWYgKHR5cGVvZiBjb21wYXJhdG9yID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIF8uc29ydEJ5KG1vZGVscywgKG1vZGVsKSA9PiB7XG4gICAgICAgIHJldHVybiBtb2RlbC5nZXQoY29tcGFyYXRvcik7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGNvbXBhcmF0b3IubGVuZ3RoID09PSAxKSB7XG4gICAgICByZXR1cm4gXy5zb3J0QnkobW9kZWxzLCBfLmJpbmQoY29tcGFyYXRvciwgdGhpcykpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXy5jbG9uZShtb2RlbHMpLnNvcnQoXy5iaW5kKGNvbXBhcmF0b3IsIHRoaXMpKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gSW50ZXJuYWwgbWV0aG9kIHRvIHNob3cgYW4gZW1wdHkgdmlldyBpbiBwbGFjZSBvZiBhIGNvbGxlY3Rpb24gb2YgY2hpbGQgdmlld3MsXG4gIC8vIHdoZW4gdGhlIGNvbGxlY3Rpb24gaXMgZW1wdHlcbiAgX3Nob3dFbXB0eVZpZXcoKSB7XG4gICAgY29uc3QgRW1wdHlWaWV3ID0gdGhpcy5fZ2V0RW1wdHlWaWV3KCk7XG5cbiAgICBpZiAoRW1wdHlWaWV3ICYmICF0aGlzLl9zaG93aW5nRW1wdHlWaWV3KSB7XG4gICAgICB0aGlzLl9zaG93aW5nRW1wdHlWaWV3ID0gdHJ1ZTtcblxuICAgICAgY29uc3QgbW9kZWwgPSBuZXcgQmFja2JvbmUuTW9kZWwoKTtcbiAgICAgIGxldCBlbXB0eVZpZXdPcHRpb25zID1cbiAgICAgICAgdGhpcy5lbXB0eVZpZXdPcHRpb25zIHx8IHRoaXMuY2hpbGRWaWV3T3B0aW9ucztcbiAgICAgIGlmIChfLmlzRnVuY3Rpb24oZW1wdHlWaWV3T3B0aW9ucykpIHtcbiAgICAgICAgZW1wdHlWaWV3T3B0aW9ucyA9IGVtcHR5Vmlld09wdGlvbnMuY2FsbCh0aGlzLCBtb2RlbCwgdGhpcy5fZW1wdHlWaWV3SW5kZXgpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB2aWV3ID0gdGhpcy5idWlsZENoaWxkVmlldyhtb2RlbCwgRW1wdHlWaWV3LCBlbXB0eVZpZXdPcHRpb25zKTtcblxuICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdiZWZvcmU6cmVuZGVyOmVtcHR5JywgdGhpcywgdmlldyk7XG4gICAgICB0aGlzLmFkZENoaWxkVmlldyh2aWV3LCAwKTtcbiAgICAgIHRoaXMudHJpZ2dlck1ldGhvZCgncmVuZGVyOmVtcHR5JywgdGhpcywgdmlldyk7XG4gICAgfVxuICB9LFxuXG4gIC8vIEludGVybmFsIG1ldGhvZCB0byBkZXN0cm95IGFuIGV4aXN0aW5nIGVtcHR5VmlldyBpbnN0YW5jZSBpZiBvbmUgZXhpc3RzLiBDYWxsZWQgd2hlblxuICAvLyBhIGNvbGxlY3Rpb24gdmlldyBoYXMgYmVlbiByZW5kZXJlZCBlbXB0eSwgYW5kIHRoZW4gYSBjaGlsZCBpcyBhZGRlZCB0byB0aGUgY29sbGVjdGlvbi5cbiAgX2Rlc3Ryb3lFbXB0eVZpZXcoKSB7XG4gICAgaWYgKHRoaXMuX3Nob3dpbmdFbXB0eVZpZXcpIHtcbiAgICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnYmVmb3JlOnJlbW92ZTplbXB0eScsIHRoaXMpO1xuXG4gICAgICB0aGlzLl9kZXN0cm95Q2hpbGRyZW4oKTtcbiAgICAgIGRlbGV0ZSB0aGlzLl9zaG93aW5nRW1wdHlWaWV3O1xuXG4gICAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ3JlbW92ZTplbXB0eScsIHRoaXMpO1xuICAgIH1cbiAgfSxcblxuICAvLyBSZXRyaWV2ZSB0aGUgZW1wdHkgdmlldyBjbGFzc1xuICBfZ2V0RW1wdHlWaWV3KCkge1xuICAgIGNvbnN0IGVtcHR5VmlldyA9IHRoaXMuZW1wdHlWaWV3O1xuXG4gICAgaWYgKCFlbXB0eVZpZXcpIHsgcmV0dXJuOyB9XG5cbiAgICByZXR1cm4gdGhpcy5fZ2V0VmlldyhlbXB0eVZpZXcpO1xuICB9LFxuXG4gIC8vIFJldHJpZXZlIHRoZSBgY2hpbGRWaWV3YCBjbGFzc1xuICAvLyBUaGUgYGNoaWxkVmlld2AgcHJvcGVydHkgY2FuIGJlIGVpdGhlciBhIHZpZXcgY2xhc3Mgb3IgYSBmdW5jdGlvbiB0aGF0XG4gIC8vIHJldHVybnMgYSB2aWV3IGNsYXNzLiBJZiBpdCBpcyBhIGZ1bmN0aW9uLCBpdCB3aWxsIHJlY2VpdmUgdGhlIG1vZGVsIHRoYXRcbiAgLy8gd2lsbCBiZSBwYXNzZWQgdG8gdGhlIHZpZXcgaW5zdGFuY2UgKGNyZWF0ZWQgZnJvbSB0aGUgcmV0dXJuZWQgdmlldyBjbGFzcylcbiAgX2dldENoaWxkVmlldyhjaGlsZCkge1xuICAgIGxldCBjaGlsZFZpZXcgPSB0aGlzLmNoaWxkVmlldztcblxuICAgIGlmICghY2hpbGRWaWV3KSB7XG4gICAgICB0aHJvdyBuZXcgTWFyaW9uZXR0ZUVycm9yKHtcbiAgICAgICAgbmFtZTogJ05vQ2hpbGRWaWV3RXJyb3InLFxuICAgICAgICBtZXNzYWdlOiAnQSBcImNoaWxkVmlld1wiIG11c3QgYmUgc3BlY2lmaWVkJ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY2hpbGRWaWV3ID0gdGhpcy5fZ2V0VmlldyhjaGlsZFZpZXcsIGNoaWxkKTtcblxuICAgIGlmICghY2hpbGRWaWV3KSB7XG4gICAgICB0aHJvdyBuZXcgTWFyaW9uZXR0ZUVycm9yKHtcbiAgICAgICAgbmFtZTogJ0ludmFsaWRDaGlsZFZpZXdFcnJvcicsXG4gICAgICAgIG1lc3NhZ2U6ICdcImNoaWxkVmlld1wiIG11c3QgYmUgYSB2aWV3IGNsYXNzIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdmlldyBjbGFzcydcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBjaGlsZFZpZXc7XG4gIH0sXG5cbiAgLy8gRmlyc3QgY2hlY2sgaWYgdGhlIGB2aWV3YCBpcyBhIHZpZXcgY2xhc3MgKHRoZSBjb21tb24gY2FzZSlcbiAgLy8gVGhlbiBjaGVjayBpZiBpdCdzIGEgZnVuY3Rpb24gKHdoaWNoIHdlIGFzc3VtZSB0aGF0IHJldHVybnMgYSB2aWV3IGNsYXNzKVxuICBfZ2V0Vmlldyh2aWV3LCBjaGlsZCkge1xuICAgIGlmICh2aWV3LnByb3RvdHlwZSBpbnN0YW5jZW9mIEJhY2tib25lLlZpZXcgfHwgdmlldyA9PT0gQmFja2JvbmUuVmlldykge1xuICAgICAgcmV0dXJuIHZpZXc7XG4gICAgfSBlbHNlIGlmIChfLmlzRnVuY3Rpb24odmlldykpIHtcbiAgICAgIHJldHVybiB2aWV3LmNhbGwodGhpcywgY2hpbGQpO1xuICAgIH1cbiAgfSxcblxuICAvLyBJbnRlcm5hbCBtZXRob2QgZm9yIGJ1aWxkaW5nIGFuZCBhZGRpbmcgYSBjaGlsZCB2aWV3XG4gIF9hZGRDaGlsZChjaGlsZCwgaW5kZXgpIHtcbiAgICBjb25zdCB2aWV3ID0gdGhpcy5fY3JlYXRlVmlldyhjaGlsZCwgaW5kZXgpO1xuICAgIHRoaXMuYWRkQ2hpbGRWaWV3KHZpZXcsIGluZGV4KTtcblxuICAgIHJldHVybiB2aWV3O1xuICB9LFxuXG4gIF9nZXRDaGlsZFZpZXdPcHRpb25zKGNoaWxkLCBpbmRleCkge1xuICAgIGlmIChfLmlzRnVuY3Rpb24odGhpcy5jaGlsZFZpZXdPcHRpb25zKSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2hpbGRWaWV3T3B0aW9ucyhjaGlsZCwgaW5kZXgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNoaWxkVmlld09wdGlvbnM7XG4gIH0sXG5cbiAgLy8gUmVuZGVyIHRoZSBjaGlsZCdzIHZpZXcgYW5kIGFkZCBpdCB0byB0aGUgSFRNTCBmb3IgdGhlIGNvbGxlY3Rpb24gdmlldyBhdCBhIGdpdmVuIGluZGV4LlxuICAvLyBUaGlzIHdpbGwgYWxzbyB1cGRhdGUgdGhlIGluZGljZXMgb2YgbGF0ZXIgdmlld3MgaW4gdGhlIGNvbGxlY3Rpb24gaW4gb3JkZXIgdG8ga2VlcCB0aGVcbiAgLy8gY2hpbGRyZW4gaW4gc3luYyB3aXRoIHRoZSBjb2xsZWN0aW9uLlxuICBhZGRDaGlsZFZpZXcodmlldywgaW5kZXgpIHtcbiAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ2JlZm9yZTphZGQ6Y2hpbGQnLCB0aGlzLCB2aWV3KTtcbiAgICB0aGlzLl9zZXR1cENoaWxkVmlldyh2aWV3LCBpbmRleCk7XG5cbiAgICAvLyBTdG9yZSB0aGUgY2hpbGQgdmlldyBpdHNlbGYgc28gd2UgY2FuIHByb3Blcmx5IHJlbW92ZSBhbmQvb3IgZGVzdHJveSBpdCBsYXRlclxuICAgIGlmICh0aGlzLl9pc0J1ZmZlcmluZykge1xuICAgICAgLy8gQWRkIHRvIGNoaWxkcmVuLCBidXQgZG9uJ3QgdXBkYXRlIGNoaWxkcmVuJ3MgbGVuZ3RoLlxuICAgICAgdGhpcy5jaGlsZHJlbi5fYWRkKHZpZXcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpbmNyZW1lbnQgaW5kaWNlcyBvZiB2aWV3cyBhZnRlciB0aGlzIG9uZVxuICAgICAgdGhpcy5fdXBkYXRlSW5kaWNlcyh2aWV3LCB0cnVlKTtcbiAgICAgIHRoaXMuY2hpbGRyZW4uYWRkKHZpZXcpO1xuICAgIH1cblxuICAgIHJlbmRlclZpZXcodmlldyk7XG5cbiAgICB0aGlzLl9hdHRhY2hWaWV3KHZpZXcsIGluZGV4KTtcblxuICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnYWRkOmNoaWxkJywgdGhpcywgdmlldyk7XG5cbiAgICByZXR1cm4gdmlldztcbiAgfSxcblxuICAvLyBJbnRlcm5hbCBtZXRob2QuIFRoaXMgZGVjcmVtZW50cyBvciBpbmNyZW1lbnRzIHRoZSBpbmRpY2VzIG9mIHZpZXdzIGFmdGVyIHRoZSBhZGRlZC9yZW1vdmVkXG4gIC8vIHZpZXcgdG8ga2VlcCBpbiBzeW5jIHdpdGggdGhlIGNvbGxlY3Rpb24uXG4gIF91cGRhdGVJbmRpY2VzKHZpZXdzLCBpbmNyZW1lbnQpIHtcbiAgICBpZiAoIXRoaXMuc29ydCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghaW5jcmVtZW50KSB7XG4gICAgICBfLmVhY2goXy5zb3J0QnkodGhpcy5jaGlsZHJlbi5fdmlld3MsICdfaW5kZXgnKSwgKHZpZXcsIGluZGV4KSA9PiB7XG4gICAgICAgIHZpZXcuX2luZGV4ID0gaW5kZXg7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHZpZXcgPSBfLmlzQXJyYXkodmlld3MpID8gXy5tYXgodmlld3MsICdfaW5kZXgnKSA6IHZpZXdzO1xuXG4gICAgaWYgKF8uaXNPYmplY3QodmlldykpIHtcbiAgICAgIC8vIHVwZGF0ZSB0aGUgaW5kZXhlcyBvZiB2aWV3cyBhZnRlciB0aGlzIG9uZVxuICAgICAgXy5lYWNoKHRoaXMuY2hpbGRyZW4uX3ZpZXdzLCAobGF0ZXJWaWV3KSA9PiB7XG4gICAgICAgIGlmIChsYXRlclZpZXcuX2luZGV4ID49IHZpZXcuX2luZGV4KSB7XG4gICAgICAgICAgbGF0ZXJWaWV3Ll9pbmRleCArPSAxO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgX2F0dGFjaFZpZXcodmlldywgaW5kZXgpIHtcbiAgICAvLyBPbmx5IHRyaWdnZXIgYXR0YWNoIGlmIGFscmVhZHkgYXR0YWNoZWQgYW5kIG5vdCBidWZmZXJpbmcsXG4gICAgLy8gb3RoZXJ3aXNlIF9lbmRCdWZmZXJpbmcoKSBvciBSZWdpb24jc2hvdygpIGhhbmRsZXMgdGhpcy5cbiAgICBjb25zdCBzaG91bGRUcmlnZ2VyQXR0YWNoID0gIXZpZXcuX2lzQXR0YWNoZWQgJiYgIXRoaXMuX2lzQnVmZmVyaW5nICYmIHRoaXMuX2lzQXR0YWNoZWQgJiYgdGhpcy5tb25pdG9yVmlld0V2ZW50cyAhPT0gZmFsc2U7XG5cbiAgICBpZiAoc2hvdWxkVHJpZ2dlckF0dGFjaCkge1xuICAgICAgdHJpZ2dlck1ldGhvZE9uKHZpZXcsICdiZWZvcmU6YXR0YWNoJywgdmlldyk7XG4gICAgfVxuXG4gICAgdGhpcy5hdHRhY2hIdG1sKHRoaXMsIHZpZXcsIGluZGV4KTtcblxuICAgIGlmIChzaG91bGRUcmlnZ2VyQXR0YWNoKSB7XG4gICAgICB2aWV3Ll9pc0F0dGFjaGVkID0gdHJ1ZTtcbiAgICAgIHRyaWdnZXJNZXRob2RPbih2aWV3LCAnYXR0YWNoJywgdmlldyk7XG4gICAgfVxuICB9LFxuXG4gIC8vIEJ1aWxkIGEgYGNoaWxkVmlld2AgZm9yIGEgbW9kZWwgaW4gdGhlIGNvbGxlY3Rpb24uXG4gIGJ1aWxkQ2hpbGRWaWV3KGNoaWxkLCBDaGlsZFZpZXdDbGFzcywgY2hpbGRWaWV3T3B0aW9ucykge1xuICAgIGNvbnN0IG9wdGlvbnMgPSBfLmV4dGVuZCh7bW9kZWw6IGNoaWxkfSwgY2hpbGRWaWV3T3B0aW9ucyk7XG4gICAgcmV0dXJuIG5ldyBDaGlsZFZpZXdDbGFzcyhvcHRpb25zKTtcbiAgfSxcblxuICAvLyBSZW1vdmUgdGhlIGNoaWxkIHZpZXcgYW5kIGRlc3Ryb3kgaXQuIFRoaXMgZnVuY3Rpb24gYWxzbyB1cGRhdGVzIHRoZSBpbmRpY2VzIG9mIGxhdGVyIHZpZXdzXG4gIC8vIGluIHRoZSBjb2xsZWN0aW9uIGluIG9yZGVyIHRvIGtlZXAgdGhlIGNoaWxkcmVuIGluIHN5bmMgd2l0aCB0aGUgY29sbGVjdGlvbi5cbiAgcmVtb3ZlQ2hpbGRWaWV3KHZpZXcpIHtcbiAgICBpZiAoIXZpZXcgfHwgdmlldy5faXNEZXN0cm95ZWQpIHtcbiAgICAgIHJldHVybiB2aWV3O1xuICAgIH1cblxuICAgIHRoaXMuX3JlbW92ZUNoaWxkVmlldyh2aWV3KTtcbiAgICB0aGlzLmNoaWxkcmVuLl91cGRhdGVMZW5ndGgoKTtcbiAgICAvLyBkZWNyZW1lbnQgdGhlIGluZGV4IG9mIHZpZXdzIGFmdGVyIHRoaXMgb25lXG4gICAgdGhpcy5fdXBkYXRlSW5kaWNlcyh2aWV3LCBmYWxzZSk7XG4gICAgcmV0dXJuIHZpZXc7XG4gIH0sXG5cbiAgLy8gY2hlY2sgaWYgdGhlIGNvbGxlY3Rpb24gaXMgZW1wdHkgb3Igb3B0aW9uYWxseSB3aGV0aGVyIGFuIGFycmF5IG9mIHByZS1wcm9jZXNzZWQgbW9kZWxzIGlzIGVtcHR5XG4gIGlzRW1wdHkob3B0aW9ucykge1xuICAgIGxldCBtb2RlbHM7XG4gICAgaWYgKF8ucmVzdWx0KG9wdGlvbnMsICdwcm9jZXNzZWRNb2RlbHMnKSkge1xuICAgICAgbW9kZWxzID0gb3B0aW9ucy5wcm9jZXNzZWRNb2RlbHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vZGVscyA9IHRoaXMuY29sbGVjdGlvbiA/IHRoaXMuY29sbGVjdGlvbi5tb2RlbHMgOiBbXTtcbiAgICAgIG1vZGVscyA9IHRoaXMuX2ZpbHRlck1vZGVscyhtb2RlbHMpO1xuICAgIH1cbiAgICByZXR1cm4gbW9kZWxzLmxlbmd0aCA9PT0gMDtcbiAgfSxcblxuICAvLyBZb3UgbWlnaHQgbmVlZCB0byBvdmVycmlkZSB0aGlzIGlmIHlvdSd2ZSBvdmVycmlkZGVuIGF0dGFjaEh0bWxcbiAgYXR0YWNoQnVmZmVyKGNvbGxlY3Rpb25WaWV3LCBidWZmZXIpIHtcbiAgICB0aGlzLkRvbS5hcHBlbmRDb250ZW50cyhjb2xsZWN0aW9uVmlldy5lbCwgYnVmZmVyLCB7XyRlbDogY29sbGVjdGlvblZpZXcuJGVsfSk7XG4gIH0sXG5cbiAgLy8gQ3JlYXRlIGEgZnJhZ21lbnQgYnVmZmVyIGZyb20gdGhlIGN1cnJlbnRseSBidWZmZXJlZCBjaGlsZHJlblxuICBfY3JlYXRlQnVmZmVyKCkge1xuICAgIGNvbnN0IGVsQnVmZmVyID0gdGhpcy5Eb20uY3JlYXRlQnVmZmVyKCk7XG4gICAgXy5lYWNoKHRoaXMuX2J1ZmZlcmVkQ2hpbGRyZW4sIChiKSA9PiB7XG4gICAgICB0aGlzLkRvbS5hcHBlbmRDb250ZW50cyhlbEJ1ZmZlciwgYi5lbCwge18kY29udGVudHM6IGIuJGVsfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGVsQnVmZmVyO1xuICB9LFxuXG4gIC8vIEFwcGVuZCB0aGUgSFRNTCB0byB0aGUgY29sbGVjdGlvbidzIGBlbGAuIE92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGRvIHNvbWV0aGluZyBvdGhlclxuICAvLyB0aGFuIGAuYXBwZW5kYC5cbiAgYXR0YWNoSHRtbChjb2xsZWN0aW9uVmlldywgY2hpbGRWaWV3LCBpbmRleCkge1xuICAgIGlmIChjb2xsZWN0aW9uVmlldy5faXNCdWZmZXJpbmcpIHtcbiAgICAgIC8vIGJ1ZmZlcmluZyBoYXBwZW5zIG9uIHJlc2V0IGV2ZW50cyBhbmQgaW5pdGlhbCByZW5kZXJzXG4gICAgICAvLyBpbiBvcmRlciB0byByZWR1Y2UgdGhlIG51bWJlciBvZiBpbnNlcnRzIGludG8gdGhlXG4gICAgICAvLyBkb2N1bWVudCwgd2hpY2ggYXJlIGV4cGVuc2l2ZS5cbiAgICAgIGNvbGxlY3Rpb25WaWV3Ll9idWZmZXJlZENoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgY2hpbGRWaWV3KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSByZW5kZXJlZCB0aGUgbWFpbiBjb2xsZWN0aW9uLCBhcHBlbmRcbiAgICAgIC8vIHRoZSBuZXcgY2hpbGQgaW50byB0aGUgY29ycmVjdCBvcmRlciBpZiB3ZSBuZWVkIHRvLiBPdGhlcndpc2VcbiAgICAgIC8vIGFwcGVuZCB0byB0aGUgZW5kLlxuICAgICAgaWYgKCFjb2xsZWN0aW9uVmlldy5faW5zZXJ0QmVmb3JlKGNoaWxkVmlldywgaW5kZXgpKSB7XG4gICAgICAgIGNvbGxlY3Rpb25WaWV3Ll9pbnNlcnRBZnRlcihjaGlsZFZpZXcpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvLyBJbnRlcm5hbCBtZXRob2QuIENoZWNrIHdoZXRoZXIgd2UgbmVlZCB0byBpbnNlcnQgdGhlIHZpZXcgaW50byB0aGUgY29ycmVjdCBwb3NpdGlvbi5cbiAgX2luc2VydEJlZm9yZShjaGlsZFZpZXcsIGluZGV4KSB7XG4gICAgbGV0IGN1cnJlbnRWaWV3O1xuICAgIGNvbnN0IGZpbmRQb3NpdGlvbiA9IHRoaXMuc29ydCAmJiAoaW5kZXggPCB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgIGlmIChmaW5kUG9zaXRpb24pIHtcbiAgICAgIC8vIEZpbmQgdGhlIHZpZXcgYWZ0ZXIgdGhpcyBvbmVcbiAgICAgIGN1cnJlbnRWaWV3ID0gXy5maW5kKHRoaXMuY2hpbGRyZW4uX3ZpZXdzLCAodmlldykgPT4ge1xuICAgICAgICByZXR1cm4gdmlldy5faW5kZXggPT09IGluZGV4ICsgMTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChjdXJyZW50Vmlldykge1xuICAgICAgdGhpcy5iZWZvcmVFbChjdXJyZW50Vmlldy5lbCwgY2hpbGRWaWV3LmVsKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcblxuICAvLyBPdmVycmlkZSB0byBoYW5kbGUgRE9NIGluc2VydGluZyBkaWZmZXJlbnRseVxuICBiZWZvcmVFbChlbCwgc2libGluZ3MpIHtcbiAgICB0aGlzLiQoZWwpLmJlZm9yZShzaWJsaW5ncyk7XG4gIH0sXG5cbiAgLy8gSW50ZXJuYWwgbWV0aG9kLiBBcHBlbmQgYSB2aWV3IHRvIHRoZSBlbmQgb2YgdGhlICRlbFxuICBfaW5zZXJ0QWZ0ZXIoY2hpbGRWaWV3KSB7XG4gICAgdGhpcy5Eb20uYXBwZW5kQ29udGVudHModGhpcy5lbCwgY2hpbGRWaWV3LmVsLCB7XyRlbDogdGhpcy4kZWwsIF8kY29udGVudHM6IGNoaWxkVmlldy4kZWx9KTtcbiAgfSxcblxuICAvLyBJbnRlcm5hbCBtZXRob2QgdG8gc2V0IHVwIHRoZSBgY2hpbGRyZW5gIG9iamVjdCBmb3Igc3RvcmluZyBhbGwgb2YgdGhlIGNoaWxkIHZpZXdzXG4gIF9pbml0Q2hpbGRWaWV3U3RvcmFnZSgpIHtcbiAgICB0aGlzLmNoaWxkcmVuID0gbmV3IENoaWxkVmlld0NvbnRhaW5lcigpO1xuICB9LFxuXG4gIC8vIGNhbGxlZCBieSBWaWV3TWl4aW4gZGVzdHJveVxuICBfcmVtb3ZlQ2hpbGRyZW4oKSB7XG4gICAgdGhpcy5fZGVzdHJveUNoaWxkcmVuKCk7XG4gIH0sXG5cbiAgLy8gRGVzdHJveSB0aGUgY2hpbGQgdmlld3MgdGhhdCB0aGlzIGNvbGxlY3Rpb24gdmlldyBpcyBob2xkaW5nIG9uIHRvLCBpZiBhbnlcbiAgX2Rlc3Ryb3lDaGlsZHJlbihvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnYmVmb3JlOmRlc3Ryb3k6Y2hpbGRyZW4nLCB0aGlzKTtcbiAgICBfLmVhY2godGhpcy5jaGlsZHJlbi5fdmlld3MsIF8uYmluZCh0aGlzLl9yZW1vdmVDaGlsZFZpZXcsIHRoaXMpKTtcbiAgICB0aGlzLmNoaWxkcmVuLl91cGRhdGVMZW5ndGgoKTtcbiAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ2Rlc3Ryb3k6Y2hpbGRyZW4nLCB0aGlzKTtcbiAgfSxcblxuICAvLyBSZXR1cm4gdHJ1ZSBpZiB0aGUgZ2l2ZW4gY2hpbGQgc2hvdWxkIGJlIHNob3duLiBSZXR1cm4gZmFsc2Ugb3RoZXJ3aXNlLlxuICAvLyBUaGUgZmlsdGVyIHdpbGwgYmUgcGFzc2VkIChjaGlsZCwgaW5kZXgsIGNvbGxlY3Rpb24pLCB3aGVyZVxuICAvLyAgJ2NoaWxkJyBpcyB0aGUgZ2l2ZW4gbW9kZWxcbiAgLy8gICdpbmRleCcgaXMgdGhlIGluZGV4IG9mIHRoYXQgbW9kZWwgaW4gdGhlIGNvbGxlY3Rpb25cbiAgLy8gICdjb2xsZWN0aW9uJyBpcyB0aGUgY29sbGVjdGlvbiByZWZlcmVuY2VkIGJ5IHRoaXMgQ29sbGVjdGlvblZpZXdcbiAgX3Nob3VsZEFkZENoaWxkKGNoaWxkLCBpbmRleCkge1xuICAgIGNvbnN0IGZpbHRlciA9IHRoaXMuZmlsdGVyO1xuICAgIHJldHVybiAhXy5pc0Z1bmN0aW9uKGZpbHRlcikgfHwgZmlsdGVyLmNhbGwodGhpcywgY2hpbGQsIGluZGV4LCB0aGlzLmNvbGxlY3Rpb24pO1xuICB9XG59LCB7XG4gIHNldERvbUFwaVxufSk7XG5cbl8uZXh0ZW5kKENvbGxlY3Rpb25WaWV3LnByb3RvdHlwZSwgVmlld01peGluKTtcblxuZXhwb3J0IGRlZmF1bHQgQ29sbGVjdGlvblZpZXc7XG4iLCJpbXBvcnQgXyBmcm9tICd1bmRlcnNjb3JlJztcbmltcG9ydCBlbXVsYXRlQ29sbGVjdGlvbiBmcm9tICcuL3V0aWxzL2VtdWxhdGUtY29sbGVjdGlvbic7XG5cbi8vIFByb3ZpZGUgYSBjb250YWluZXIgdG8gc3RvcmUsIHJldHJpZXZlIGFuZFxuLy8gc2h1dCBkb3duIGNoaWxkIHZpZXdzLlxuY29uc3QgQ29udGFpbmVyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2luaXQoKTtcbn07XG5cbmVtdWxhdGVDb2xsZWN0aW9uKENvbnRhaW5lci5wcm90b3R5cGUsICdfdmlld3MnKTtcblxuZnVuY3Rpb24gc3RyaW5nQ29tcGFyYXRvcihjb21wYXJhdG9yLCB2aWV3KSB7XG4gIHJldHVybiB2aWV3Lm1vZGVsICYmIHZpZXcubW9kZWwuZ2V0KGNvbXBhcmF0b3IpO1xufVxuXG4vLyBDb250YWluZXIgTWV0aG9kc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS1cblxuXy5leHRlbmQoQ29udGFpbmVyLnByb3RvdHlwZSwge1xuXG4gIC8vIEluaXRpYWxpemVzIGFuIGVtcHR5IGNvbnRhaW5lclxuICBfaW5pdCgpIHtcbiAgICB0aGlzLl92aWV3cyA9IFtdO1xuICAgIHRoaXMuX3ZpZXdzQnlDaWQgPSB7fTtcbiAgICB0aGlzLl9pbmRleEJ5TW9kZWwgPSB7fTtcbiAgICB0aGlzLl91cGRhdGVMZW5ndGgoKTtcbiAgfSxcblxuICAvLyBBZGQgYSB2aWV3IHRvIHRoaXMgY29udGFpbmVyLiBTdG9yZXMgdGhlIHZpZXdcbiAgLy8gYnkgYGNpZGAgYW5kIG1ha2VzIGl0IHNlYXJjaGFibGUgYnkgdGhlIG1vZGVsXG4gIC8vIGNpZCAoYW5kIG1vZGVsIGl0c2VsZikuIEFkZGl0aW9uYWxseSBpdCBzdG9yZXNcbiAgLy8gdGhlIHZpZXcgYnkgaW5kZXggaW4gdGhlIF92aWV3cyBhcnJheVxuICBfYWRkKHZpZXcsIGluZGV4ID0gdGhpcy5fdmlld3MubGVuZ3RoKSB7XG4gICAgY29uc3Qgdmlld0NpZCA9IHZpZXcuY2lkO1xuXG4gICAgLy8gc3RvcmUgdGhlIHZpZXdcbiAgICB0aGlzLl92aWV3c0J5Q2lkW3ZpZXdDaWRdID0gdmlldztcblxuICAgIC8vIGluZGV4IGl0IGJ5IG1vZGVsXG4gICAgaWYgKHZpZXcubW9kZWwpIHtcbiAgICAgIHRoaXMuX2luZGV4QnlNb2RlbFt2aWV3Lm1vZGVsLmNpZF0gPSB2aWV3Q2lkO1xuICAgIH1cblxuICAgIC8vIGFkZCB0byBlbmQgYnkgZGVmYXVsdFxuICAgIHRoaXMuX3ZpZXdzLnNwbGljZShpbmRleCwgMCwgdmlldyk7XG5cbiAgICB0aGlzLl91cGRhdGVMZW5ndGgoKTtcbiAgfSxcblxuICAvLyBTb3J0IChtdXRhdGUpIGFuZCByZXR1cm4gdGhlIGFycmF5IG9mIHRoZSBjaGlsZCB2aWV3cy5cbiAgX3NvcnQoY29tcGFyYXRvcikge1xuICAgIGlmICh0eXBlb2YgY29tcGFyYXRvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbXBhcmF0b3IgPSBfLnBhcnRpYWwoc3RyaW5nQ29tcGFyYXRvciwgY29tcGFyYXRvcik7XG4gICAgICByZXR1cm4gdGhpcy5fc29ydEJ5KGNvbXBhcmF0b3IpO1xuICAgIH1cblxuICAgIGlmIChjb21wYXJhdG9yLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3NvcnRCeShjb21wYXJhdG9yKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fdmlld3Muc29ydChjb21wYXJhdG9yKTtcbiAgfSxcblxuICAvLyBNYWtlcyBgXy5zb3J0QnlgIG11dGF0ZSB0aGUgYXJyYXkgdG8gbWF0Y2ggYHRoaXMuX3ZpZXdzLnNvcnRgXG4gIF9zb3J0QnkoY29tcGFyYXRvcikge1xuICAgIGNvbnN0IHNvcnRlZFZpZXdzID0gXy5zb3J0QnkodGhpcy5fdmlld3MsIGNvbXBhcmF0b3IpO1xuXG4gICAgdGhpcy5fc2V0KHNvcnRlZFZpZXdzKTtcblxuICAgIHJldHVybiBzb3J0ZWRWaWV3cztcbiAgfSxcblxuICAvLyBSZXBsYWNlIGFycmF5IGNvbnRlbnRzIHdpdGhvdXQgb3ZlcndyaXRpbmcgdGhlIHJlZmVyZW5jZS5cbiAgX3NldCh2aWV3cykge1xuICAgIHRoaXMuX3ZpZXdzLmxlbmd0aCA9IDA7XG5cbiAgICB0aGlzLl92aWV3cy5wdXNoLmFwcGx5KHRoaXMuX3ZpZXdzLCB2aWV3cy5zbGljZSgwKSk7XG5cbiAgICB0aGlzLl91cGRhdGVMZW5ndGgoKTtcbiAgfSxcblxuICAvLyBTd2FwIHZpZXdzIGJ5IGluZGV4XG4gIF9zd2FwKHZpZXcxLCB2aWV3Mikge1xuICAgIGNvbnN0IHZpZXcxSW5kZXggPSB0aGlzLmZpbmRJbmRleEJ5Vmlldyh2aWV3MSk7XG4gICAgY29uc3QgdmlldzJJbmRleCA9IHRoaXMuZmluZEluZGV4QnlWaWV3KHZpZXcyKTtcblxuICAgIGlmICh2aWV3MUluZGV4ID09PSAtMSB8fCB2aWV3MkluZGV4ID09PSAtMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHN3YXBWaWV3ID0gdGhpcy5fdmlld3NbdmlldzFJbmRleF07XG4gICAgdGhpcy5fdmlld3NbdmlldzFJbmRleF0gPSB0aGlzLl92aWV3c1t2aWV3MkluZGV4XTtcbiAgICB0aGlzLl92aWV3c1t2aWV3MkluZGV4XSA9IHN3YXBWaWV3O1xuICB9LFxuXG4gIC8vIEZpbmQgYSB2aWV3IGJ5IHRoZSBtb2RlbCB0aGF0IHdhcyBhdHRhY2hlZCB0byBpdC5cbiAgLy8gVXNlcyB0aGUgbW9kZWwncyBgY2lkYCB0byBmaW5kIGl0LlxuICBmaW5kQnlNb2RlbChtb2RlbCkge1xuICAgIHJldHVybiB0aGlzLmZpbmRCeU1vZGVsQ2lkKG1vZGVsLmNpZCk7XG4gIH0sXG5cbiAgLy8gRmluZCBhIHZpZXcgYnkgdGhlIGBjaWRgIG9mIHRoZSBtb2RlbCB0aGF0IHdhcyBhdHRhY2hlZCB0byBpdC5cbiAgLy8gVXNlcyB0aGUgbW9kZWwncyBgY2lkYCB0byBmaW5kIHRoZSB2aWV3IGBjaWRgIGFuZFxuICAvLyByZXRyaWV2ZSB0aGUgdmlldyB1c2luZyBpdC5cbiAgZmluZEJ5TW9kZWxDaWQobW9kZWxDaWQpIHtcbiAgICBjb25zdCB2aWV3Q2lkID0gdGhpcy5faW5kZXhCeU1vZGVsW21vZGVsQ2lkXTtcbiAgICByZXR1cm4gdGhpcy5maW5kQnlDaWQodmlld0NpZCk7XG4gIH0sXG5cbiAgLy8gRmluZCBhIHZpZXcgYnkgaW5kZXguXG4gIGZpbmRCeUluZGV4KGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZpZXdzW2luZGV4XTtcbiAgfSxcblxuICAvLyBGaW5kIHRoZSBpbmRleCBvZiBhIHZpZXcgaW5zdGFuY2VcbiAgZmluZEluZGV4QnlWaWV3KHZpZXcpIHtcbiAgICByZXR1cm4gdGhpcy5fdmlld3MuaW5kZXhPZih2aWV3KTtcbiAgfSxcblxuICAvLyBSZXRyaWV2ZSBhIHZpZXcgYnkgaXRzIGBjaWRgIGRpcmVjdGx5XG4gIGZpbmRCeUNpZChjaWQpIHtcbiAgICByZXR1cm4gdGhpcy5fdmlld3NCeUNpZFtjaWRdO1xuICB9LFxuXG4gIGhhc1ZpZXcodmlldykge1xuICAgIHJldHVybiAhIXRoaXMuZmluZEJ5Q2lkKHZpZXcuY2lkKTtcbiAgfSxcblxuICAvLyBSZW1vdmUgYSB2aWV3IGFuZCBjbGVhbiB1cCBpbmRleCByZWZlcmVuY2VzLlxuICBfcmVtb3ZlKHZpZXcpIHtcbiAgICBpZiAoIXRoaXMuX3ZpZXdzQnlDaWRbdmlldy5jaWRdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZGVsZXRlIG1vZGVsIGluZGV4XG4gICAgaWYgKHZpZXcubW9kZWwpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLl9pbmRleEJ5TW9kZWxbdmlldy5tb2RlbC5jaWRdO1xuICAgIH1cblxuICAgIC8vIHJlbW92ZSB0aGUgdmlldyBmcm9tIHRoZSBjb250YWluZXJcbiAgICBkZWxldGUgdGhpcy5fdmlld3NCeUNpZFt2aWV3LmNpZF07XG5cbiAgICBjb25zdCBpbmRleCA9IHRoaXMuZmluZEluZGV4QnlWaWV3KHZpZXcpO1xuICAgIHRoaXMuX3ZpZXdzLnNwbGljZShpbmRleCwgMSk7XG5cbiAgICB0aGlzLl91cGRhdGVMZW5ndGgoKTtcbiAgfSxcblxuICAvLyBVcGRhdGUgdGhlIGAubGVuZ3RoYCBhdHRyaWJ1dGUgb24gdGhpcyBjb250YWluZXJcbiAgX3VwZGF0ZUxlbmd0aCgpIHtcbiAgICB0aGlzLmxlbmd0aCA9IHRoaXMuX3ZpZXdzLmxlbmd0aDtcbiAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IENvbnRhaW5lcjtcbiIsIi8vIE5leHQgQ29sbGVjdGlvbiBWaWV3XG4vLyAtLS0tLS0tLS0tLS0tLS1cblxuaW1wb3J0IF8gZnJvbSAndW5kZXJzY29yZSc7XG5pbXBvcnQgQmFja2JvbmUgZnJvbSAnYmFja2JvbmUnO1xuaW1wb3J0IHsgcmVuZGVyVmlldywgZGVzdHJveVZpZXcgfSBmcm9tICcuL2NvbW1vbi92aWV3JztcbmltcG9ydCBpc05vZGVBdHRhY2hlZCBmcm9tICcuL2NvbW1vbi9pcy1ub2RlLWF0dGFjaGVkJztcbmltcG9ydCBtb25pdG9yVmlld0V2ZW50cyBmcm9tICcuL2NvbW1vbi9tb25pdG9yLXZpZXctZXZlbnRzJztcbmltcG9ydCB7IHRyaWdnZXJNZXRob2RPbiB9IGZyb20gJy4vY29tbW9uL3RyaWdnZXItbWV0aG9kJztcbmltcG9ydCBDaGlsZFZpZXdDb250YWluZXIgZnJvbSAnLi9uZXh0LWNoaWxkLXZpZXctY29udGFpbmVyJztcbmltcG9ydCBNYXJpb25ldHRlRXJyb3IgZnJvbSAnLi9lcnJvcic7XG5pbXBvcnQgUmVnaW9uIGZyb20gJy4vcmVnaW9uJztcbmltcG9ydCBWaWV3TWl4aW4gZnJvbSAnLi9taXhpbnMvdmlldyc7XG5pbXBvcnQgeyBzZXREb21BcGkgfSBmcm9tICcuL2NvbmZpZy9kb20nO1xuXG5jb25zdCBDbGFzc09wdGlvbnMgPSBbXG4gICdiZWhhdmlvcnMnLFxuICAnY2hpbGRWaWV3JyxcbiAgJ2NoaWxkVmlld0V2ZW50UHJlZml4JyxcbiAgJ2NoaWxkVmlld0V2ZW50cycsXG4gICdjaGlsZFZpZXdPcHRpb25zJyxcbiAgJ2NoaWxkVmlld1RyaWdnZXJzJyxcbiAgJ2NvbGxlY3Rpb25FdmVudHMnLFxuICAnZW1wdHlWaWV3JyxcbiAgJ2VtcHR5Vmlld09wdGlvbnMnLFxuICAnZXZlbnRzJyxcbiAgJ21vZGVsRXZlbnRzJyxcbiAgJ3NvcnRXaXRoQ29sbGVjdGlvbicsXG4gICd0cmlnZ2VycycsXG4gICd1aScsXG4gICd2aWV3Q29tcGFyYXRvcicsXG4gICd2aWV3RmlsdGVyJ1xuXTtcblxuLy8gQSB2aWV3IHRoYXQgaXRlcmF0ZXMgb3ZlciBhIEJhY2tib25lLkNvbGxlY3Rpb25cbi8vIGFuZCByZW5kZXJzIGFuIGluZGl2aWR1YWwgY2hpbGQgdmlldyBmb3IgZWFjaCBtb2RlbC5cbmNvbnN0IENvbGxlY3Rpb25WaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAvLyBmbGFnIGZvciBtYWludGFpbmluZyB0aGUgc29ydGVkIG9yZGVyIG9mIHRoZSBjb2xsZWN0aW9uXG4gIHNvcnRXaXRoQ29sbGVjdGlvbjogdHJ1ZSxcblxuICAvLyBjb25zdHJ1Y3RvclxuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5fc2V0T3B0aW9ucyhvcHRpb25zKTtcblxuICAgIHRoaXMubWVyZ2VPcHRpb25zKG9wdGlvbnMsIENsYXNzT3B0aW9ucyk7XG5cbiAgICBtb25pdG9yVmlld0V2ZW50cyh0aGlzKTtcblxuICAgIHRoaXMub25jZSgncmVuZGVyJywgdGhpcy5faW5pdGlhbEV2ZW50cyk7XG5cbiAgICAvLyBUaGlzIGNoaWxkcmVuIGNvbnRhaW5lciBpc24ndCByZWFsbHkgdXNlZCBieSBhIHJlbmRlciwgYnV0IGl0IHByb3ZpZGVzXG4gICAgLy8gdGhlIGFiaWxpdHkgdG8gY2hlY2sgYHRoaXMuY2hpbGRyZW4ubGVuZ3RoYCBwcmlvciB0byByZW5kZXJpbmdcbiAgICAvLyBJdCBhbHNvIGFsbG93cyBmb3IgY2FzZXMgd2hlcmUgb25seSBhZGRDaGlsZFZpZXcgaXMgdXNlZFxuICAgIHRoaXMuX2luaXRDaGlsZFZpZXdTdG9yYWdlKCk7XG4gICAgdGhpcy5faW5pdEJlaGF2aW9ycygpO1xuXG4gICAgY29uc3QgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgYXJnc1swXSA9IHRoaXMub3B0aW9ucztcbiAgICBCYWNrYm9uZS5WaWV3LnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmdzKTtcblxuICAgIHRoaXMuX2luaXRFbXB0eVJlZ2lvbigpO1xuXG4gICAgdGhpcy5kZWxlZ2F0ZUVudGl0eUV2ZW50cygpO1xuXG4gICAgdGhpcy5fdHJpZ2dlckV2ZW50T25CZWhhdmlvcnMoJ2luaXRpYWxpemUnLCB0aGlzKTtcbiAgfSxcblxuICAvLyBJbnRlcm5hbCBtZXRob2QgdG8gc2V0IHVwIHRoZSBgY2hpbGRyZW5gIG9iamVjdCBmb3Igc3RvcmluZyBhbGwgb2YgdGhlIGNoaWxkIHZpZXdzXG4gIF9pbml0Q2hpbGRWaWV3U3RvcmFnZSgpIHtcbiAgICB0aGlzLmNoaWxkcmVuID0gbmV3IENoaWxkVmlld0NvbnRhaW5lcigpO1xuICB9LFxuXG4gIC8vIENyZWF0ZSBhbiByZWdpb24gdG8gc2hvdyB0aGUgZW1wdHlWaWV3XG4gIF9pbml0RW1wdHlSZWdpb24oKSB7XG4gICAgdGhpcy5lbXB0eVJlZ2lvbiA9IG5ldyBSZWdpb24oeyBlbDogdGhpcy5lbCwgcmVwbGFjZUVsZW1lbnQ6IGZhbHNlIH0pO1xuXG4gICAgdGhpcy5lbXB0eVJlZ2lvbi5fcGFyZW50VmlldyA9IHRoaXM7XG4gIH0sXG5cbiAgLy8gQ29uZmlndXJlZCB0aGUgaW5pdGlhbCBldmVudHMgdGhhdCB0aGUgY29sbGVjdGlvbiB2aWV3IGJpbmRzIHRvLlxuICBfaW5pdGlhbEV2ZW50cygpIHtcbiAgICB0aGlzLmxpc3RlblRvKHRoaXMuY29sbGVjdGlvbiwge1xuICAgICAgJ3NvcnQnOiB0aGlzLl9vbkNvbGxlY3Rpb25Tb3J0LFxuICAgICAgJ3Jlc2V0JzogdGhpcy5fb25Db2xsZWN0aW9uUmVzZXQsXG4gICAgICAndXBkYXRlJzogdGhpcy5fb25Db2xsZWN0aW9uVXBkYXRlXG4gICAgfSk7XG4gIH0sXG5cbiAgLy8gSW50ZXJuYWwgbWV0aG9kLiBUaGlzIGNoZWNrcyBmb3IgYW55IGNoYW5nZXMgaW4gdGhlIG9yZGVyIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAvLyBJZiB0aGUgaW5kZXggb2YgYW55IHZpZXcgZG9lc24ndCBtYXRjaCwgaXQgd2lsbCByZS1zb3J0LlxuICBfb25Db2xsZWN0aW9uU29ydCgpIHtcbiAgICBpZiAoIXRoaXMuc29ydFdpdGhDb2xsZWN0aW9uIHx8IHRoaXMudmlld0NvbXBhcmF0b3IgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIGRhdGEgaXMgY2hhbmdpbmcgd2Ugd2lsbCBoYW5kbGUgdGhlIHNvcnQgbGF0ZXJcbiAgICBpZiAodGhpcy5jb2xsZWN0aW9uLmxlbmd0aCAhPT0gdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBBZGRpdGlvbmFsIGNoZWNrIGlmIHRoZSBkYXRhIGlzIGNoYW5naW5nXG4gICAgY29uc3QgaGFzQWRkZWRNb2RlbCA9IHRoaXMuY29sbGVjdGlvbi5zb21lKG1vZGVsID0+IHtcbiAgICAgIHJldHVybiAhdGhpcy5jaGlsZHJlbi5maW5kQnlNb2RlbChtb2RlbCk7XG4gICAgfSk7XG5cbiAgICBpZiAoaGFzQWRkZWRNb2RlbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBvbmx5IHRoaW5nIGhhcHBlbmluZyBoZXJlIGlzIHNvcnRpbmcsIHNvcnQuXG4gICAgdGhpcy5zb3J0KCk7XG4gIH0sXG5cbiAgX29uQ29sbGVjdGlvblJlc2V0KCkge1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH0sXG5cbiAgLy8gSGFuZGxlIGNvbGxlY3Rpb24gdXBkYXRlIG1vZGVsIGFkZGl0aW9ucyBhbmQgIHJlbW92YWxzXG4gIF9vbkNvbGxlY3Rpb25VcGRhdGUoY29sbGVjdGlvbiwgb3B0aW9ucykge1xuICAgIGNvbnN0IGNoYW5nZXMgPSBvcHRpb25zLmNoYW5nZXM7XG5cbiAgICAvLyBSZW1vdmUgZmlyc3Qgc2luY2UgaXQnbGwgYmUgYSBzaG9ydGVyIGFycmF5IGxvb2t1cC5cbiAgICBjb25zdCByZW1vdmVkVmlld3MgPSB0aGlzLl9yZW1vdmVDaGlsZE1vZGVscyhjaGFuZ2VzLnJlbW92ZWQpO1xuXG4gICAgdGhpcy5fYWRkZWRWaWV3cyA9IHRoaXMuX2FkZENoaWxkTW9kZWxzKGNoYW5nZXMuYWRkZWQpO1xuXG4gICAgdGhpcy5fZGV0YWNoQ2hpbGRyZW4ocmVtb3ZlZFZpZXdzKTtcblxuICAgIHRoaXMuX3Nob3dDaGlsZHJlbigpO1xuXG4gICAgLy8gRGVzdHJveSByZW1vdmVkIGNoaWxkIHZpZXdzIGFmdGVyIGFsbCBvZiB0aGUgcmVuZGVyIGlzIGNvbXBsZXRlXG4gICAgdGhpcy5fcmVtb3ZlQ2hpbGRWaWV3cyhyZW1vdmVkVmlld3MpO1xuICB9LFxuXG4gIF9yZW1vdmVDaGlsZE1vZGVscyhtb2RlbHMpIHtcbiAgICByZXR1cm4gXy5tYXAobW9kZWxzLCBfLmJpbmQodGhpcy5fcmVtb3ZlQ2hpbGRNb2RlbCwgdGhpcykpO1xuICB9LFxuXG4gIF9yZW1vdmVDaGlsZE1vZGVsKG1vZGVsKSB7XG4gICAgY29uc3QgdmlldyA9IHRoaXMuY2hpbGRyZW4uZmluZEJ5TW9kZWwobW9kZWwpO1xuXG4gICAgdGhpcy5fcmVtb3ZlQ2hpbGQodmlldyk7XG5cbiAgICByZXR1cm4gdmlldztcbiAgfSxcblxuICBfcmVtb3ZlQ2hpbGQodmlldykge1xuICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnYmVmb3JlOnJlbW92ZTpjaGlsZCcsIHRoaXMsIHZpZXcpO1xuXG4gICAgdGhpcy5jaGlsZHJlbi5fcmVtb3ZlKHZpZXcpO1xuXG4gICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdyZW1vdmU6Y2hpbGQnLCB0aGlzLCB2aWV3KTtcbiAgfSxcblxuICAvLyBBZGRlZCB2aWV3cyBhcmUgcmV0dXJuZWQgZm9yIGNvbnNpc3RlbmN5IHdpdGggX3JlbW92ZUNoaWxkTW9kZWxzXG4gIF9hZGRDaGlsZE1vZGVscyhtb2RlbHMpIHtcbiAgICByZXR1cm4gXy5tYXAobW9kZWxzLCBfLmJpbmQodGhpcy5fYWRkQ2hpbGRNb2RlbCwgdGhpcykpO1xuICB9LFxuXG4gIF9hZGRDaGlsZE1vZGVsKG1vZGVsKSB7XG4gICAgY29uc3QgdmlldyA9IHRoaXMuX2NyZWF0ZUNoaWxkVmlldyhtb2RlbCk7XG5cbiAgICB0aGlzLl9hZGRDaGlsZCh2aWV3KTtcblxuICAgIHJldHVybiB2aWV3O1xuICB9LFxuXG4gIF9jcmVhdGVDaGlsZFZpZXcobW9kZWwpIHtcbiAgICBjb25zdCBDaGlsZFZpZXcgPSB0aGlzLl9nZXRDaGlsZFZpZXcobW9kZWwpO1xuICAgIGNvbnN0IGNoaWxkVmlld09wdGlvbnMgPSB0aGlzLl9nZXRDaGlsZFZpZXdPcHRpb25zKG1vZGVsKTtcbiAgICBjb25zdCB2aWV3ID0gdGhpcy5idWlsZENoaWxkVmlldyhtb2RlbCwgQ2hpbGRWaWV3LCBjaGlsZFZpZXdPcHRpb25zKTtcblxuICAgIHJldHVybiB2aWV3O1xuICB9LFxuXG4gIF9hZGRDaGlsZCh2aWV3LCBpbmRleCkge1xuICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnYmVmb3JlOmFkZDpjaGlsZCcsIHRoaXMsIHZpZXcpO1xuXG4gICAgdGhpcy5fc2V0dXBDaGlsZFZpZXcodmlldyk7XG4gICAgdGhpcy5jaGlsZHJlbi5fYWRkKHZpZXcsIGluZGV4KTtcblxuICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnYWRkOmNoaWxkJywgdGhpcywgdmlldyk7XG4gIH0sXG5cbiAgLy8gUmV0cmlldmUgdGhlIGBjaGlsZFZpZXdgIGNsYXNzXG4gIC8vIFRoZSBgY2hpbGRWaWV3YCBwcm9wZXJ0eSBjYW4gYmUgZWl0aGVyIGEgdmlldyBjbGFzcyBvciBhIGZ1bmN0aW9uIHRoYXRcbiAgLy8gcmV0dXJucyBhIHZpZXcgY2xhc3MuIElmIGl0IGlzIGEgZnVuY3Rpb24sIGl0IHdpbGwgcmVjZWl2ZSB0aGUgbW9kZWwgdGhhdFxuICAvLyB3aWxsIGJlIHBhc3NlZCB0byB0aGUgdmlldyBpbnN0YW5jZSAoY3JlYXRlZCBmcm9tIHRoZSByZXR1cm5lZCB2aWV3IGNsYXNzKVxuICBfZ2V0Q2hpbGRWaWV3KGNoaWxkKSB7XG4gICAgbGV0IGNoaWxkVmlldyA9IHRoaXMuY2hpbGRWaWV3O1xuXG4gICAgaWYgKCFjaGlsZFZpZXcpIHtcbiAgICAgIHRocm93IG5ldyBNYXJpb25ldHRlRXJyb3Ioe1xuICAgICAgICBuYW1lOiAnTm9DaGlsZFZpZXdFcnJvcicsXG4gICAgICAgIG1lc3NhZ2U6ICdBIFwiY2hpbGRWaWV3XCIgbXVzdCBiZSBzcGVjaWZpZWQnXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjaGlsZFZpZXcgPSB0aGlzLl9nZXRWaWV3KGNoaWxkVmlldywgY2hpbGQpO1xuXG4gICAgaWYgKCFjaGlsZFZpZXcpIHtcbiAgICAgIHRocm93IG5ldyBNYXJpb25ldHRlRXJyb3Ioe1xuICAgICAgICBuYW1lOiAnSW52YWxpZENoaWxkVmlld0Vycm9yJyxcbiAgICAgICAgbWVzc2FnZTogJ1wiY2hpbGRWaWV3XCIgbXVzdCBiZSBhIHZpZXcgY2xhc3Mgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB2aWV3IGNsYXNzJ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNoaWxkVmlldztcbiAgfSxcblxuICAvLyBGaXJzdCBjaGVjayBpZiB0aGUgYHZpZXdgIGlzIGEgdmlldyBjbGFzcyAodGhlIGNvbW1vbiBjYXNlKVxuICAvLyBUaGVuIGNoZWNrIGlmIGl0J3MgYSBmdW5jdGlvbiAod2hpY2ggd2UgYXNzdW1lIHRoYXQgcmV0dXJucyBhIHZpZXcgY2xhc3MpXG4gIF9nZXRWaWV3KHZpZXcsIGNoaWxkKSB7XG4gICAgaWYgKHZpZXcucHJvdG90eXBlIGluc3RhbmNlb2YgQmFja2JvbmUuVmlldyB8fCB2aWV3ID09PSBCYWNrYm9uZS5WaWV3KSB7XG4gICAgICByZXR1cm4gdmlldztcbiAgICB9IGVsc2UgaWYgKF8uaXNGdW5jdGlvbih2aWV3KSkge1xuICAgICAgcmV0dXJuIHZpZXcuY2FsbCh0aGlzLCBjaGlsZCk7XG4gICAgfVxuICB9LFxuXG4gIF9nZXRDaGlsZFZpZXdPcHRpb25zKGNoaWxkKSB7XG4gICAgaWYgKF8uaXNGdW5jdGlvbih0aGlzLmNoaWxkVmlld09wdGlvbnMpKSB7XG4gICAgICByZXR1cm4gdGhpcy5jaGlsZFZpZXdPcHRpb25zKGNoaWxkKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jaGlsZFZpZXdPcHRpb25zO1xuICB9LFxuXG4gIC8vIEJ1aWxkIGEgYGNoaWxkVmlld2AgZm9yIGEgbW9kZWwgaW4gdGhlIGNvbGxlY3Rpb24uXG4gIC8vIE92ZXJyaWRlIHRvIGN1c3RvbWl6ZSB0aGUgYnVpbGRcbiAgYnVpbGRDaGlsZFZpZXcoY2hpbGQsIENoaWxkVmlld0NsYXNzLCBjaGlsZFZpZXdPcHRpb25zKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IF8uZXh0ZW5kKHttb2RlbDogY2hpbGR9LCBjaGlsZFZpZXdPcHRpb25zKTtcbiAgICByZXR1cm4gbmV3IENoaWxkVmlld0NsYXNzKG9wdGlvbnMpO1xuICB9LFxuXG4gIF9zZXR1cENoaWxkVmlldyh2aWV3KSB7XG4gICAgbW9uaXRvclZpZXdFdmVudHModmlldyk7XG5cbiAgICAvLyBXZSBuZWVkIHRvIGxpc3RlbiBmb3IgaWYgYSB2aWV3IGlzIGRlc3Ryb3llZCBpbiBhIHdheSBvdGhlclxuICAgIC8vIHRoYW4gdGhyb3VnaCB0aGUgQ29sbGVjdGlvblZpZXcuXG4gICAgLy8gSWYgdGhpcyBoYXBwZW5zIHdlIG5lZWQgdG8gcmVtb3ZlIHRoZSByZWZlcmVuY2UgdG8gdGhlIHZpZXdcbiAgICAvLyBzaW5jZSBvbmNlIGEgdmlldyBoYXMgYmVlbiBkZXN0cm95ZWQgd2UgY2FuIG5vdCByZXVzZSBpdC5cbiAgICB2aWV3Lm9uKCdkZXN0cm95JywgdGhpcy5yZW1vdmVDaGlsZFZpZXcsIHRoaXMpO1xuXG4gICAgLy8gc2V0IHVwIHRoZSBjaGlsZCB2aWV3IGV2ZW50IGZvcndhcmRpbmdcbiAgICB0aGlzLl9wcm94eUNoaWxkVmlld0V2ZW50cyh2aWV3KTtcbiAgfSxcblxuICAvLyB1c2VkIGJ5IFZpZXdNaXhpbidzIGBfY2hpbGRWaWV3RXZlbnRIYW5kbGVyYFxuICBfZ2V0SW1tZWRpYXRlQ2hpbGRyZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4uX3ZpZXdzO1xuICB9LFxuXG4gIC8vIE92ZXJyaWRpbmcgQmFja2JvbmUuVmlldydzIGBzZXRFbGVtZW50YCB0byBoYW5kbGVcbiAgLy8gaWYgYW4gZWwgd2FzIHByZXZpb3VzbHkgZGVmaW5lZC4gSWYgc28sIHRoZSB2aWV3IG1pZ2h0IGJlXG4gIC8vIGF0dGFjaGVkIG9uIHNldEVsZW1lbnQuXG4gIHNldEVsZW1lbnQoKSB7XG4gICAgY29uc3QgaGFzRWwgPSAhIXRoaXMuZWw7XG5cbiAgICBCYWNrYm9uZS5WaWV3LnByb3RvdHlwZS5zZXRFbGVtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICBpZiAoaGFzRWwpIHtcbiAgICAgIHRoaXMuX2lzQXR0YWNoZWQgPSBpc05vZGVBdHRhY2hlZCh0aGlzLmVsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvLyBSZW5kZXIgY2hpbGRyZW4gdmlld3MuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5faXNEZXN0cm95ZWQpIHsgcmV0dXJuIHRoaXM7IH1cbiAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ2JlZm9yZTpyZW5kZXInLCB0aGlzKTtcblxuICAgIHRoaXMuX2Rlc3Ryb3lDaGlsZHJlbigpO1xuXG4gICAgLy8gQWZ0ZXIgYWxsIGNoaWxkcmVuIGhhdmUgYmVlbiBkZXN0cm95ZWQgcmUtaW5pdCB0aGUgY29udGFpbmVyXG4gICAgdGhpcy5jaGlsZHJlbi5faW5pdCgpO1xuXG4gICAgaWYgKHRoaXMuY29sbGVjdGlvbikge1xuICAgICAgdGhpcy5fYWRkQ2hpbGRNb2RlbHModGhpcy5jb2xsZWN0aW9uLm1vZGVscyk7XG4gICAgfVxuXG4gICAgdGhpcy5fc2hvd0NoaWxkcmVuKCk7XG5cbiAgICB0aGlzLl9pc1JlbmRlcmVkID0gdHJ1ZTtcblxuICAgIHRoaXMudHJpZ2dlck1ldGhvZCgncmVuZGVyJywgdGhpcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLy8gU29ydHMgdGhlIGNoaWxkcmVuIHRoZW4gZmlsdGVycyBhbmQgcmVuZGVycyB0aGUgcmVzdWx0cy5cbiAgc29ydCgpIHtcbiAgICBpZiAodGhpcy5faXNEZXN0cm95ZWQpIHsgcmV0dXJuIHRoaXM7IH1cblxuICAgIGlmICghdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHsgcmV0dXJuIHRoaXM7IH1cblxuICAgIHRoaXMuX3Nob3dDaGlsZHJlbigpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgX3Nob3dDaGlsZHJlbigpIHtcbiAgICBpZiAodGhpcy5pc0VtcHR5KCkpIHtcbiAgICAgIHRoaXMuX3Nob3dFbXB0eVZpZXcoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9zb3J0Q2hpbGRyZW4oKTtcblxuICAgIHRoaXMuZmlsdGVyKCk7XG4gIH0sXG5cbiAgLy8gUmV0dXJucyB0cnVlIGlmIHRoZSBjb2xsZWN0aW9uVmlldyBpcyBjb25zaWRlcmVkIGVtcHR5LlxuICAvLyBUaGlzIGlzIGNhbGxlZCB0d2ljZSBkdXJpbmcgYSByZW5kZXIuIE9uY2UgdG8gY2hlY2sgdGhlIGRhdGEsXG4gIC8vIGFuZCBhZ2FpbiB3aGVuIHZpZXdzIGFyZSBmaWx0ZXJlZC4gT3ZlcnJpZGUgdGhpcyBmdW5jdGlvbiB0b1xuICAvLyBjdXN0b21pemUgd2hhdCBlbXB0eSBtZWFucy5cbiAgaXNFbXB0eShhbGxWaWV3c0ZpbHRlcmVkKSB7XG4gICAgcmV0dXJuIGFsbFZpZXdzRmlsdGVyZWQgfHwgIXRoaXMuY2hpbGRyZW4ubGVuZ3RoO1xuICB9LFxuXG4gIF9zaG93RW1wdHlWaWV3KCkge1xuICAgIGNvbnN0IEVtcHR5VmlldyA9IHRoaXMuX2dldEVtcHR5VmlldygpO1xuXG4gICAgaWYgKCFFbXB0eVZpZXcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5fZ2V0RW1wdHlWaWV3T3B0aW9ucygpO1xuXG4gICAgdGhpcy5lbXB0eVJlZ2lvbi5zaG93KG5ldyBFbXB0eVZpZXcob3B0aW9ucykpO1xuICB9LFxuXG4gIC8vIFJldHJpZXZlIHRoZSBlbXB0eSB2aWV3IGNsYXNzXG4gIF9nZXRFbXB0eVZpZXcoKSB7XG4gICAgY29uc3QgZW1wdHlWaWV3ID0gdGhpcy5lbXB0eVZpZXc7XG5cbiAgICBpZiAoIWVtcHR5VmlldykgeyByZXR1cm47IH1cblxuICAgIHJldHVybiB0aGlzLl9nZXRWaWV3KGVtcHR5Vmlldyk7XG4gIH0sXG5cbiAgLy8gUmVtb3ZlIHRoZSBlbXB0eVZpZXdcbiAgX2Rlc3Ryb3lFbXB0eVZpZXcoKSB7XG5cbiAgICAvLyBPbmx5IGVtcHR5IGlmIGEgdmlldyBpcyBzaG93IHNvIHRoZSByZWdpb25cbiAgICAvLyBkb2Vzbid0IGRldGFjaCBhbnkgb3RoZXIgdW5yZWxhdGVkIEhUTUxcbiAgICBpZiAodGhpcy5lbXB0eVJlZ2lvbi5oYXNWaWV3KCkpIHtcbiAgICAgIHRoaXMuZW1wdHlSZWdpb24uZW1wdHkoKTtcbiAgICB9XG4gIH0sXG5cbiAgLy9cbiAgX2dldEVtcHR5Vmlld09wdGlvbnMoKSB7XG4gICAgY29uc3QgZW1wdHlWaWV3T3B0aW9ucyA9IHRoaXMuZW1wdHlWaWV3T3B0aW9ucyB8fCB0aGlzLmNoaWxkVmlld09wdGlvbnM7XG5cbiAgICBpZiAoXy5pc0Z1bmN0aW9uKGVtcHR5Vmlld09wdGlvbnMpKSB7XG4gICAgICByZXR1cm4gZW1wdHlWaWV3T3B0aW9ucy5jYWxsKHRoaXMpO1xuICAgIH1cblxuICAgIHJldHVybiBlbXB0eVZpZXdPcHRpb25zO1xuICB9LFxuXG4gIC8vIFNvcnRzIHZpZXdzIGJ5IHZpZXdDb21wYXJhdG9yIGFuZCBzZXRzIHRoZSBjaGlsZHJlbiB0byB0aGUgbmV3IG9yZGVyXG4gIF9zb3J0Q2hpbGRyZW4oKSB7XG4gICAgaWYgKHRoaXMudmlld0NvbXBhcmF0b3IgPT09IGZhbHNlKSB7IHJldHVybjsgfVxuXG4gICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdiZWZvcmU6c29ydCcsIHRoaXMpO1xuXG4gICAgbGV0IHZpZXdDb21wYXJhdG9yID0gdGhpcy5nZXRDb21wYXJhdG9yKCk7XG5cbiAgICBpZiAoXy5pc0Z1bmN0aW9uKHZpZXdDb21wYXJhdG9yKSkge1xuICAgICAgLy8gTXVzdCB1c2UgbmF0aXZlIGJpbmQgdG8gcHJlc2VydmUgbGVuZ3RoXG4gICAgICB2aWV3Q29tcGFyYXRvciA9IHZpZXdDb21wYXJhdG9yLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgdGhpcy5jaGlsZHJlbi5fc29ydCh2aWV3Q29tcGFyYXRvcik7XG5cbiAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ3NvcnQnLCB0aGlzKTtcbiAgfSxcblxuICAvLyBTZXRzIHRoZSB2aWV3J3MgYHZpZXdDb21wYXJhdG9yYCBhbmQgYXBwbGllcyB0aGUgc29ydCBpZiB0aGUgdmlldyBpcyByZWFkeS5cbiAgLy8gVG8gcHJldmVudCB0aGUgcmVuZGVyIHBhc3MgYHsgcHJldmVudFJlbmRlcjogdHJ1ZSB9YCBhcyB0aGUgMm5kIGFyZ3VtZW50LlxuICBzZXRDb21wYXJhdG9yKGNvbXBhcmF0b3IsIHtwcmV2ZW50UmVuZGVyfSA9IHt9KSB7XG4gICAgY29uc3QgY29tcGFyYXRvckNoYW5nZWQgPSB0aGlzLnZpZXdDb21wYXJhdG9yICE9PSBjb21wYXJhdG9yO1xuICAgIGNvbnN0IHNob3VsZFNvcnQgPSBjb21wYXJhdG9yQ2hhbmdlZCAmJiAhcHJldmVudFJlbmRlcjtcblxuICAgIHRoaXMudmlld0NvbXBhcmF0b3IgPSBjb21wYXJhdG9yO1xuXG4gICAgaWYgKHNob3VsZFNvcnQpIHtcbiAgICAgIHRoaXMuc29ydCgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8vIENsZWFycyB0aGUgYHZpZXdDb21wYXJhdG9yYCBhbmQgZm9sbG93cyB0aGUgc2FtZSBydWxlcyBmb3IgcmVuZGVyaW5nIGFzIGBzZXRDb21wYXJhdG9yYC5cbiAgcmVtb3ZlQ29tcGFyYXRvcihvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuc2V0Q29tcGFyYXRvcihudWxsLCBvcHRpb25zKTtcbiAgfSxcblxuICAvLyBJZiB2aWV3Q29tcGFyYXRvciBpcyBvdmVycmlkZW4gaXQgd2lsbCBiZSByZXR1cm5lZCBoZXJlLlxuICAvLyBBZGRpdGlvbmFsbHkgb3ZlcnJpZGUgdGhpcyBmdW5jdGlvbiB0byBwcm92aWRlIGN1c3RvbVxuICAvLyB2aWV3Q29tcGFyYXRvciBsb2dpY1xuICBnZXRDb21wYXJhdG9yKCkge1xuICAgIHJldHVybiB0aGlzLnZpZXdDb21wYXJhdG9yIHx8IHRoaXMuX3ZpZXdDb21wYXJhdG9yO1xuICB9LFxuXG4gIC8vIERlZmF1bHQgaW50ZXJuYWwgdmlldyBjb21wYXJhdG9yIHRoYXQgb3JkZXIgdGhlIHZpZXdzIGJ5XG4gIC8vIHRoZSBvcmRlciBvZiB0aGUgY29sbGVjdGlvblxuICBfdmlld0NvbXBhcmF0b3Iodmlldykge1xuICAgIGlmICghdGhpcy5jb2xsZWN0aW9uKSB7IHJldHVybjsgfVxuICAgIHJldHVybiB0aGlzLmNvbGxlY3Rpb24uaW5kZXhPZih2aWV3Lm1vZGVsKTtcbiAgfSxcblxuICAvLyBUaGlzIG1ldGhvZCByZS1maWx0ZXJzIHRoZSBjaGlsZHJlbiB2aWV3cyBhbmQgcmUtcmVuZGVycyB0aGUgcmVzdWx0c1xuICBmaWx0ZXIoKSB7XG4gICAgaWYgKHRoaXMuX2lzRGVzdHJveWVkKSB7IHJldHVybiB0aGlzOyB9XG5cbiAgICBpZiAoIXRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7IHJldHVybiB0aGlzOyB9XG5cbiAgICBjb25zdCBmaWx0ZXJlZFZpZXdzID0gdGhpcy5fZmlsdGVyQ2hpbGRyZW4oKTtcblxuICAgIHRoaXMuX3JlbmRlckNoaWxkcmVuKGZpbHRlcmVkVmlld3MpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgX2lzQWRkZWRBdEVuZChhZGRlZFZpZXcsIGluZGV4LCBhZGRlZFZpZXdzKSB7XG4gICAgY29uc3Qgdmlld0luZGV4ID0gdGhpcy5jaGlsZHJlbi5fdmlld3MubGVuZ3RoIC0gYWRkZWRWaWV3cy5sZW5ndGggKyBpbmRleDtcbiAgICByZXR1cm4gYWRkZWRWaWV3ID09PSB0aGlzLmNoaWxkcmVuLl92aWV3c1t2aWV3SW5kZXhdO1xuICB9LFxuXG4gIF9maWx0ZXJDaGlsZHJlbigpIHtcbiAgICBjb25zdCB2aWV3RmlsdGVyID0gdGhpcy5fZ2V0RmlsdGVyKCk7XG4gICAgY29uc3QgYWRkZWRWaWV3cyA9IHRoaXMuX2FkZGVkVmlld3M7XG5cbiAgICBkZWxldGUgdGhpcy5fYWRkZWRWaWV3cztcblxuICAgIGlmICghdmlld0ZpbHRlcikge1xuICAgICAgaWYgKGFkZGVkVmlld3MgJiYgXy5ldmVyeShhZGRlZFZpZXdzLCBfLmJpbmQodGhpcy5faXNBZGRlZEF0RW5kLCB0aGlzKSkpIHtcbiAgICAgICAgcmV0dXJuIGFkZGVkVmlld3M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLl92aWV3cztcbiAgICB9XG5cbiAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ2JlZm9yZTpmaWx0ZXInLCB0aGlzKTtcblxuICAgIGNvbnN0IGZpbHRlcmVkVmlld3MgPSBfLnBhcnRpdGlvbih0aGlzLmNoaWxkcmVuLl92aWV3cywgXy5iaW5kKHZpZXdGaWx0ZXIsIHRoaXMpKTtcblxuICAgIHRoaXMuX2RldGFjaENoaWxkcmVuKGZpbHRlcmVkVmlld3NbMV0pO1xuXG4gICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdmaWx0ZXInLCB0aGlzKTtcblxuICAgIHJldHVybiBmaWx0ZXJlZFZpZXdzWzBdO1xuICB9LFxuXG4gIC8vIFRoaXMgbWV0aG9kIHJldHVybnMgYSBmdW5jdGlvbiBmb3IgdGhlIHZpZXdGaWx0ZXJcbiAgX2dldEZpbHRlcigpIHtcbiAgICBjb25zdCB2aWV3RmlsdGVyID0gdGhpcy5nZXRGaWx0ZXIoKTtcblxuICAgIGlmICghdmlld0ZpbHRlcikgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgIGlmIChfLmlzRnVuY3Rpb24odmlld0ZpbHRlcikpIHtcbiAgICAgIHJldHVybiB2aWV3RmlsdGVyO1xuICAgIH1cblxuICAgIC8vIFN1cHBvcnQgZmlsdGVyIHByZWRpY2F0ZXMgYHsgZm9vRmxhZzogdHJ1ZSB9YFxuICAgIGlmIChfLmlzT2JqZWN0KHZpZXdGaWx0ZXIpKSB7XG4gICAgICBjb25zdCBtYXRjaGVyID0gXy5tYXRjaGVzKHZpZXdGaWx0ZXIpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZpZXcpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXIodmlldy5tb2RlbCAmJiB2aWV3Lm1vZGVsLmF0dHJpYnV0ZXMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBGaWx0ZXIgYnkgbW9kZWwgYXR0cmlidXRlXG4gICAgaWYgKF8uaXNTdHJpbmcodmlld0ZpbHRlcikpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih2aWV3KSB7XG4gICAgICAgIHJldHVybiB2aWV3Lm1vZGVsICYmIHZpZXcubW9kZWwuZ2V0KHZpZXdGaWx0ZXIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgTWFyaW9uZXR0ZUVycm9yKHtcbiAgICAgIG5hbWU6ICdJbnZhbGlkVmlld0ZpbHRlckVycm9yJyxcbiAgICAgIG1lc3NhZ2U6ICdcInZpZXdGaWx0ZXJcIiBtdXN0IGJlIGEgZnVuY3Rpb24sIHByZWRpY2F0ZSBvYmplY3QgbGl0ZXJhbCwgYSBzdHJpbmcgaW5kaWNhdGluZyBhIG1vZGVsIGF0dHJpYnV0ZSwgb3IgZmFsc3knXG4gICAgfSk7XG4gIH0sXG5cbiAgLy8gT3ZlcnJpZGUgdGhpcyBmdW5jdGlvbiB0byBwcm92aWRlIGN1c3RvbVxuICAvLyB2aWV3RmlsdGVyIGxvZ2ljXG4gIGdldEZpbHRlcigpIHtcbiAgICByZXR1cm4gdGhpcy52aWV3RmlsdGVyO1xuICB9LFxuXG4gIC8vIFNldHMgdGhlIHZpZXcncyBgdmlld0ZpbHRlcmAgYW5kIGFwcGxpZXMgdGhlIGZpbHRlciBpZiB0aGUgdmlldyBpcyByZWFkeS5cbiAgLy8gVG8gcHJldmVudCB0aGUgcmVuZGVyIHBhc3MgYHsgcHJldmVudFJlbmRlcjogdHJ1ZSB9YCBhcyB0aGUgMm5kIGFyZ3VtZW50LlxuICBzZXRGaWx0ZXIoZmlsdGVyLCB7cHJldmVudFJlbmRlcn0gPSB7fSkge1xuICAgIGNvbnN0IGZpbHRlckNoYW5nZWQgPSB0aGlzLnZpZXdGaWx0ZXIgIT09IGZpbHRlcjtcbiAgICBjb25zdCBzaG91bGRSZW5kZXIgPSBmaWx0ZXJDaGFuZ2VkICYmICFwcmV2ZW50UmVuZGVyO1xuXG4gICAgdGhpcy52aWV3RmlsdGVyID0gZmlsdGVyO1xuXG4gICAgaWYgKHNob3VsZFJlbmRlcikge1xuICAgICAgdGhpcy5maWx0ZXIoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvLyBDbGVhcnMgdGhlIGB2aWV3RmlsdGVyYCBhbmQgZm9sbG93cyB0aGUgc2FtZSBydWxlcyBmb3IgcmVuZGVyaW5nIGFzIGBzZXRGaWx0ZXJgLlxuICByZW1vdmVGaWx0ZXIob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnNldEZpbHRlcihudWxsLCBvcHRpb25zKTtcbiAgfSxcblxuICBfZGV0YWNoQ2hpbGRyZW4oZGV0YWNoaW5nVmlld3MpIHtcbiAgICBfLmVhY2goZGV0YWNoaW5nVmlld3MsIF8uYmluZCh0aGlzLl9kZXRhY2hDaGlsZFZpZXcsIHRoaXMpKTtcbiAgfSxcblxuICBfZGV0YWNoQ2hpbGRWaWV3KHZpZXcpIHtcbiAgICBjb25zdCBzaG91bGRUcmlnZ2VyRGV0YWNoID0gdmlldy5faXNBdHRhY2hlZCAmJiB0aGlzLm1vbml0b3JWaWV3RXZlbnRzICE9PSBmYWxzZTtcbiAgICBpZiAoc2hvdWxkVHJpZ2dlckRldGFjaCkge1xuICAgICAgdHJpZ2dlck1ldGhvZE9uKHZpZXcsICdiZWZvcmU6ZGV0YWNoJywgdmlldyk7XG4gICAgfVxuXG4gICAgdGhpcy5kZXRhY2hIdG1sKHZpZXcpO1xuXG4gICAgaWYgKHNob3VsZFRyaWdnZXJEZXRhY2gpIHtcbiAgICAgIHZpZXcuX2lzQXR0YWNoZWQgPSBmYWxzZTtcbiAgICAgIHRyaWdnZXJNZXRob2RPbih2aWV3LCAnZGV0YWNoJywgdmlldyk7XG4gICAgfVxuICB9LFxuXG4gIC8vIE92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGNoYW5nZSBob3cgdGhlIGNvbGxlY3Rpb25WaWV3IGRldGFjaGVzIGEgY2hpbGQgdmlld1xuICBkZXRhY2hIdG1sKHZpZXcpIHtcbiAgICB0aGlzLkRvbS5kZXRhY2hFbCh2aWV3LmVsLCB2aWV3LiRlbCk7XG4gIH0sXG5cbiAgX3JlbmRlckNoaWxkcmVuKHZpZXdzKSB7XG4gICAgaWYgKHRoaXMuaXNFbXB0eSghdmlld3MubGVuZ3RoKSkge1xuICAgICAgdGhpcy5fc2hvd0VtcHR5VmlldygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2Rlc3Ryb3lFbXB0eVZpZXcoKTtcblxuICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnYmVmb3JlOnJlbmRlcjpjaGlsZHJlbicsIHRoaXMsIHZpZXdzKTtcblxuICAgIGNvbnN0IGVscyA9IHRoaXMuX2dldEJ1ZmZlcih2aWV3cyk7XG5cbiAgICB0aGlzLl9hdHRhY2hDaGlsZHJlbihlbHMsIHZpZXdzKTtcblxuICAgIHRoaXMudHJpZ2dlck1ldGhvZCgncmVuZGVyOmNoaWxkcmVuJywgdGhpcywgdmlld3MpO1xuICB9LFxuXG4gIF9hdHRhY2hDaGlsZHJlbihlbHMsIHZpZXdzKSB7XG4gICAgY29uc3Qgc2hvdWxkVHJpZ2dlckF0dGFjaCA9IHRoaXMuX2lzQXR0YWNoZWQgJiYgdGhpcy5tb25pdG9yVmlld0V2ZW50cyAhPT0gZmFsc2U7XG5cbiAgICB2aWV3cyA9IHNob3VsZFRyaWdnZXJBdHRhY2ggPyB2aWV3cyA6IFtdO1xuXG4gICAgXy5lYWNoKHZpZXdzLCB2aWV3ID0+IHtcbiAgICAgIGlmICh2aWV3Ll9pc0F0dGFjaGVkKSB7IHJldHVybjsgfVxuICAgICAgdHJpZ2dlck1ldGhvZE9uKHZpZXcsICdiZWZvcmU6YXR0YWNoJywgdmlldyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmF0dGFjaEh0bWwoZWxzKTtcblxuICAgIF8uZWFjaCh2aWV3cywgdmlldyA9PiB7XG4gICAgICBpZiAodmlldy5faXNBdHRhY2hlZCkgeyByZXR1cm47IH1cbiAgICAgIHZpZXcuX2lzQXR0YWNoZWQgPSB0cnVlO1xuICAgICAgdHJpZ2dlck1ldGhvZE9uKHZpZXcsICdhdHRhY2gnLCB2aWV3KTtcbiAgICB9KTtcbiAgfSxcblxuICAvLyBSZW5kZXJzIGVhY2ggdmlldyBpbiBjaGlsZHJlbiBhbmQgY3JlYXRlcyBhIGZyYWdtZW50IGJ1ZmZlciBmcm9tIHRoZW1cbiAgX2dldEJ1ZmZlcih2aWV3cykge1xuICAgIGNvbnN0IGVsQnVmZmVyID0gdGhpcy5Eb20uY3JlYXRlQnVmZmVyKCk7XG5cbiAgICBfLmVhY2godmlld3MsIHZpZXcgPT4ge1xuICAgICAgcmVuZGVyVmlldyh2aWV3KTtcbiAgICAgIHRoaXMuRG9tLmFwcGVuZENvbnRlbnRzKGVsQnVmZmVyLCB2aWV3LmVsLCB7XyRjb250ZW50czogdmlldy4kZWx9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBlbEJ1ZmZlcjtcbiAgfSxcblxuICAvLyBPdmVycmlkZSB0aGlzIG1ldGhvZCB0byBkbyBzb21ldGhpbmcgb3RoZXIgdGhhbiBgLmFwcGVuZGAuXG4gIC8vIFlvdSBjYW4gYXR0YWNoIGFueSBIVE1MIGF0IHRoaXMgcG9pbnQgaW5jbHVkaW5nIHRoZSBlbHMuXG4gIGF0dGFjaEh0bWwoZWxzKSB7XG4gICAgdGhpcy5Eb20uYXBwZW5kQ29udGVudHModGhpcy5lbCwgZWxzLCB7XyRlbDogdGhpcy4kZWx9KTtcbiAgfSxcblxuICBzd2FwQ2hpbGRWaWV3cyh2aWV3MSwgdmlldzIpIHtcbiAgICBpZiAoIXRoaXMuY2hpbGRyZW4uaGFzVmlldyh2aWV3MSkgfHwgIXRoaXMuY2hpbGRyZW4uaGFzVmlldyh2aWV3MikpIHtcbiAgICAgIHRocm93IG5ldyBNYXJpb25ldHRlRXJyb3Ioe1xuICAgICAgICBuYW1lOiAnQ2hpbGRTd2FwRXJyb3InLFxuICAgICAgICBtZXNzYWdlOiAnQm90aCB2aWV3cyBtdXN0IGJlIGNoaWxkcmVuIG9mIHRoZSBjb2xsZWN0aW9uIHZpZXcnXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLmNoaWxkcmVuLl9zd2FwKHZpZXcxLCB2aWV3Mik7XG4gICAgdGhpcy5Eb20uc3dhcEVsKHZpZXcxLmVsLCB2aWV3Mi5lbCk7XG5cbiAgICAvLyBJZiB0aGUgdmlld3MgYXJlIG5vdCBmaWx0ZXJlZCB0aGUgc2FtZSwgcmVmaWx0ZXJcbiAgICBpZiAodGhpcy5Eb20uaGFzRWwodGhpcy5lbCwgdmlldzEuZWwpICE9PSB0aGlzLkRvbS5oYXNFbCh0aGlzLmVsLCB2aWV3Mi5lbCkpIHtcbiAgICAgIHRoaXMuZmlsdGVyKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLy8gUmVuZGVyIHRoZSBjaGlsZCdzIHZpZXcgYW5kIGFkZCBpdCB0byB0aGUgSFRNTCBmb3IgdGhlIGNvbGxlY3Rpb24gdmlldyBhdCBhIGdpdmVuIGluZGV4LCBiYXNlZCBvbiB0aGUgY3VycmVudCBzb3J0XG4gIGFkZENoaWxkVmlldyh2aWV3LCBpbmRleCkge1xuICAgIGlmICghdmlldyB8fCB2aWV3Ll9pc0Rlc3Ryb3llZCkge1xuICAgICAgcmV0dXJuIHZpZXc7XG4gICAgfVxuXG4gICAgdGhpcy5fYWRkQ2hpbGQodmlldywgaW5kZXgpO1xuICAgIHRoaXMuX2FkZGVkVmlld3MgPSBbdmlld107XG4gICAgdGhpcy5fc2hvd0NoaWxkcmVuKCk7XG5cbiAgICByZXR1cm4gdmlldztcbiAgfSxcblxuICAvLyBEZXRhY2ggYSB2aWV3IGZyb20gdGhlIGNoaWxkcmVuLiAgQmVzdCB1c2VkIHdoZW4gYWRkaW5nIGFcbiAgLy8gY2hpbGRWaWV3IGZyb20gYGFkZENoaWxkVmlld2BcbiAgZGV0YWNoQ2hpbGRWaWV3KHZpZXcpIHtcbiAgICB0aGlzLnJlbW92ZUNoaWxkVmlldyh2aWV3LCB7IHNob3VsZERldGFjaDogdHJ1ZSB9KTtcblxuICAgIHJldHVybiB2aWV3O1xuICB9LFxuXG4gIC8vIFJlbW92ZSB0aGUgY2hpbGQgdmlldyBhbmQgZGVzdHJveSBpdC4gIEJlc3QgdXNlZCB3aGVuIGFkZGluZyBhXG4gIC8vIGNoaWxkVmlldyBmcm9tIGBhZGRDaGlsZFZpZXdgXG4gIC8vIFRoZSBvcHRpb25zIGFyZ3VtZW50IGlzIGZvciBpbnRlcm5hbCB1c2Ugb25seVxuICByZW1vdmVDaGlsZFZpZXcodmlldywgb3B0aW9ucykge1xuICAgIGlmICghdmlldykge1xuICAgICAgcmV0dXJuIHZpZXc7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVtb3ZlQ2hpbGRWaWV3KHZpZXcsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5fcmVtb3ZlQ2hpbGQodmlldyk7XG5cbiAgICBpZiAodGhpcy5pc0VtcHR5KCkpIHtcbiAgICAgIHRoaXMuX3Nob3dFbXB0eVZpZXcoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmlldztcbiAgfSxcblxuICBfcmVtb3ZlQ2hpbGRWaWV3cyh2aWV3cykge1xuICAgIF8uZWFjaCh2aWV3cywgXy5iaW5kKHRoaXMuX3JlbW92ZUNoaWxkVmlldywgdGhpcykpO1xuICB9LFxuXG4gIF9yZW1vdmVDaGlsZFZpZXcodmlldywge3Nob3VsZERldGFjaH0gPSB7fSkge1xuICAgIHZpZXcub2ZmKCdkZXN0cm95JywgdGhpcy5yZW1vdmVDaGlsZFZpZXcsIHRoaXMpO1xuXG4gICAgaWYgKHNob3VsZERldGFjaCkge1xuICAgICAgdGhpcy5fZGV0YWNoQ2hpbGRWaWV3KHZpZXcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9kZXN0cm95Q2hpbGRWaWV3KHZpZXcpO1xuICAgIH1cblxuICAgIHRoaXMuc3RvcExpc3RlbmluZyh2aWV3KTtcbiAgfSxcblxuICBfZGVzdHJveUNoaWxkVmlldyh2aWV3KSB7XG4gICAgaWYgKHZpZXcuX2lzRGVzdHJveWVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmlldy5fc2hvdWxkRGlzYWJsZUV2ZW50cyA9IHRoaXMubW9uaXRvclZpZXdFdmVudHMgPT09IGZhbHNlO1xuICAgIGRlc3Ryb3lWaWV3KHZpZXcpO1xuICB9LFxuXG4gIC8vIGNhbGxlZCBieSBWaWV3TWl4aW4gZGVzdHJveVxuICBfcmVtb3ZlQ2hpbGRyZW4oKSB7XG4gICAgdGhpcy5fZGVzdHJveUNoaWxkcmVuKCk7XG4gICAgdGhpcy5lbXB0eVJlZ2lvbi5kZXN0cm95KCk7XG4gICAgZGVsZXRlIHRoaXMuX2FkZGVkVmlld3M7XG4gIH0sXG5cbiAgLy8gRGVzdHJveSB0aGUgY2hpbGQgdmlld3MgdGhhdCB0aGlzIGNvbGxlY3Rpb24gdmlldyBpcyBob2xkaW5nIG9uIHRvLCBpZiBhbnlcbiAgX2Rlc3Ryb3lDaGlsZHJlbigpIHtcbiAgICBpZiAoIXRoaXMuY2hpbGRyZW4gfHwgIXRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdiZWZvcmU6ZGVzdHJveTpjaGlsZHJlbicsIHRoaXMpO1xuICAgIGlmICh0aGlzLm1vbml0b3JWaWV3RXZlbnRzID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5Eb20uZGV0YWNoQ29udGVudHMoKTtcbiAgICB9XG4gICAgXy5lYWNoKHRoaXMuY2hpbGRyZW4uX3ZpZXdzLCBfLmJpbmQodGhpcy5fcmVtb3ZlQ2hpbGRWaWV3LCB0aGlzKSk7XG4gICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdkZXN0cm95OmNoaWxkcmVuJywgdGhpcyk7XG4gIH1cbn0sIHtcbiAgc2V0RG9tQXBpXG59KTtcblxuXy5leHRlbmQoQ29sbGVjdGlvblZpZXcucHJvdG90eXBlLCBWaWV3TWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBDb2xsZWN0aW9uVmlldztcbiIsIi8vIENvbXBvc2l0ZSBWaWV3XG4vLyAtLS0tLS0tLS0tLS0tLVxuXG5pbXBvcnQgXyBmcm9tICd1bmRlcnNjb3JlJztcbmltcG9ydCBkZXByZWNhdGUgZnJvbSAnLi91dGlscy9kZXByZWNhdGUnO1xuaW1wb3J0IE1hcmlvbmV0dGVFcnJvciBmcm9tICcuL2Vycm9yJztcbmltcG9ydCBDb2xsZWN0aW9uVmlldyBmcm9tICcuL2NvbGxlY3Rpb24tdmlldyc7XG5pbXBvcnQgVmlldyBmcm9tICcuL3ZpZXcnO1xuXG5jb25zdCBDbGFzc09wdGlvbnMgPSBbXG4gICdjaGlsZFZpZXdDb250YWluZXInLFxuICAndGVtcGxhdGUnLFxuICAndGVtcGxhdGVDb250ZXh0J1xuXTtcblxuLy8gVXNlZCBmb3IgcmVuZGVyaW5nIGEgYnJhbmNoLWxlYWYsIGhpZXJhcmNoaWNhbCBzdHJ1Y3R1cmUuXG4vLyBFeHRlbmRzIGRpcmVjdGx5IGZyb20gQ29sbGVjdGlvblZpZXdcbi8vIEBkZXByZWNhdGVkXG5jb25zdCBDb21wb3NpdGVWaWV3ID0gQ29sbGVjdGlvblZpZXcuZXh0ZW5kKHtcblxuICAvLyBTZXR0aW5nIHVwIHRoZSBpbmhlcml0YW5jZSBjaGFpbiB3aGljaCBhbGxvd3MgY2hhbmdlcyB0b1xuICAvLyBNYXJpb25ldHRlLkNvbGxlY3Rpb25WaWV3LnByb3RvdHlwZS5jb25zdHJ1Y3RvciB3aGljaCBhbGxvd3Mgb3ZlcnJpZGluZ1xuICAvLyBvcHRpb24gdG8gcGFzcyAne3NvcnQ6IGZhbHNlfScgdG8gcHJldmVudCB0aGUgQ29tcG9zaXRlVmlldyBmcm9tXG4gIC8vIG1haW50YWluaW5nIHRoZSBzb3J0ZWQgb3JkZXIgb2YgdGhlIGNvbGxlY3Rpb24uXG4gIC8vIFRoaXMgd2lsbCBmYWxsYmFjayBvbnRvIGFwcGVuZGluZyBjaGlsZFZpZXcncyB0byB0aGUgZW5kLlxuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgZGVwcmVjYXRlKCdDb21wb3NpdGVWaWV3IGlzIGRlcHJlY2F0ZWQuIENvbnZlcnQgdG8gVmlldyBhdCB5b3VyIGVhcmxpZXN0IGNvbnZlbmllbmNlJyk7XG5cbiAgICB0aGlzLm1lcmdlT3B0aW9ucyhvcHRpb25zLCBDbGFzc09wdGlvbnMpO1xuXG4gICAgQ29sbGVjdGlvblZpZXcucHJvdG90eXBlLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0sXG5cbiAgLy8gQ29uZmlndXJlZCB0aGUgaW5pdGlhbCBldmVudHMgdGhhdCB0aGUgY29tcG9zaXRlIHZpZXdcbiAgLy8gYmluZHMgdG8uIE92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIHByZXZlbnQgdGhlIGluaXRpYWxcbiAgLy8gZXZlbnRzLCBvciB0byBhZGQgeW91ciBvd24gaW5pdGlhbCBldmVudHMuXG4gIF9pbml0aWFsRXZlbnRzKCkge1xuXG4gICAgLy8gQmluZCBvbmx5IGFmdGVyIGNvbXBvc2l0ZSB2aWV3IGlzIHJlbmRlcmVkIHRvIGF2b2lkIGFkZGluZyBjaGlsZCB2aWV3c1xuICAgIC8vIHRvIG5vbmV4aXN0ZW50IGNoaWxkVmlld0NvbnRhaW5lclxuXG4gICAgaWYgKHRoaXMuY29sbGVjdGlvbikge1xuICAgICAgdGhpcy5saXN0ZW5Ubyh0aGlzLmNvbGxlY3Rpb24sICdhZGQnLCB0aGlzLl9vbkNvbGxlY3Rpb25BZGQpO1xuICAgICAgdGhpcy5saXN0ZW5Ubyh0aGlzLmNvbGxlY3Rpb24sICd1cGRhdGUnLCB0aGlzLl9vbkNvbGxlY3Rpb25VcGRhdGUpO1xuICAgICAgdGhpcy5saXN0ZW5Ubyh0aGlzLmNvbGxlY3Rpb24sICdyZXNldCcsIHRoaXMucmVuZGVyQ2hpbGRyZW4pO1xuXG4gICAgICBpZiAodGhpcy5zb3J0KSB7XG4gICAgICAgIHRoaXMubGlzdGVuVG8odGhpcy5jb2xsZWN0aW9uLCAnc29ydCcsIHRoaXMuX3NvcnRWaWV3cyk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8vIFJldHJpZXZlIHRoZSBgY2hpbGRWaWV3YCB0byBiZSB1c2VkIHdoZW4gcmVuZGVyaW5nIGVhY2ggb2ZcbiAgLy8gdGhlIGl0ZW1zIGluIHRoZSBjb2xsZWN0aW9uLiBUaGUgZGVmYXVsdCBpcyB0byByZXR1cm5cbiAgLy8gYHRoaXMuY2hpbGRWaWV3YCBvciBNYXJpb25ldHRlLkNvbXBvc2l0ZVZpZXcgaWYgbm8gYGNoaWxkVmlld2BcbiAgLy8gaGFzIGJlZW4gZGVmaW5lZC4gQXMgaGFwcGVucyBpbiBDb2xsZWN0aW9uVmlldywgYGNoaWxkVmlld2AgY2FuXG4gIC8vIGJlIGEgZnVuY3Rpb24gKHdoaWNoIHNob3VsZCByZXR1cm4gYSB2aWV3IGNsYXNzKS5cbiAgX2dldENoaWxkVmlldyhjaGlsZCkge1xuICAgIGxldCBjaGlsZFZpZXcgPSB0aGlzLmNoaWxkVmlldztcblxuICAgIC8vIGZvciBDb21wb3NpdGVWaWV3LCBpZiBgY2hpbGRWaWV3YCBpcyBub3Qgc3BlY2lmaWVkLCB3ZSdsbCBnZXQgdGhlIHNhbWVcbiAgICAvLyBjb21wb3NpdGUgdmlldyBjbGFzcyByZW5kZXJlZCBmb3IgZWFjaCBjaGlsZCBpbiB0aGUgY29sbGVjdGlvblxuICAgIC8vIHRoZW4gY2hlY2sgaWYgdGhlIGBjaGlsZFZpZXdgIGlzIGEgdmlldyBjbGFzcyAodGhlIGNvbW1vbiBjYXNlKVxuICAgIC8vIGZpbmFsbHkgY2hlY2sgaWYgaXQncyBhIGZ1bmN0aW9uICh3aGljaCB3ZSBhc3N1bWUgdGhhdCByZXR1cm5zIGEgdmlldyBjbGFzcylcbiAgICBpZiAoIWNoaWxkVmlldykge1xuICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3I7XG4gICAgfVxuXG4gICAgY2hpbGRWaWV3ID0gdGhpcy5fZ2V0VmlldyhjaGlsZFZpZXcsIGNoaWxkKTtcblxuICAgIGlmICghY2hpbGRWaWV3KSB7XG4gICAgICB0aHJvdyBuZXcgTWFyaW9uZXR0ZUVycm9yKHtcbiAgICAgICAgbmFtZTogJ0ludmFsaWRDaGlsZFZpZXdFcnJvcicsXG4gICAgICAgIG1lc3NhZ2U6ICdcImNoaWxkVmlld1wiIG11c3QgYmUgYSB2aWV3IGNsYXNzIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdmlldyBjbGFzcydcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBjaGlsZFZpZXc7XG4gIH0sXG5cbiAgLy8gUmV0dXJuIHRoZSBzZXJpYWxpemVkIG1vZGVsXG4gIHNlcmlhbGl6ZURhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VyaWFsaXplTW9kZWwoKTtcbiAgfSxcblxuICAvLyBSZW5kZXJzIHRoZSBtb2RlbCBhbmQgdGhlIGNvbGxlY3Rpb24uXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5faXNEZXN0cm95ZWQpIHsgcmV0dXJuIHRoaXM7IH1cbiAgICB0aGlzLl9pc1JlbmRlcmluZyA9IHRydWU7XG4gICAgdGhpcy5yZXNldENoaWxkVmlld0NvbnRhaW5lcigpO1xuXG4gICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdiZWZvcmU6cmVuZGVyJywgdGhpcyk7XG5cbiAgICB0aGlzLl9yZW5kZXJUZW1wbGF0ZSgpO1xuICAgIHRoaXMuYmluZFVJRWxlbWVudHMoKTtcbiAgICB0aGlzLnJlbmRlckNoaWxkcmVuKCk7XG5cbiAgICB0aGlzLl9pc1JlbmRlcmluZyA9IGZhbHNlO1xuICAgIHRoaXMuX2lzUmVuZGVyZWQgPSB0cnVlO1xuICAgIHRoaXMudHJpZ2dlck1ldGhvZCgncmVuZGVyJywgdGhpcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgcmVuZGVyQ2hpbGRyZW4oKSB7XG4gICAgaWYgKHRoaXMuX2lzUmVuZGVyZWQgfHwgdGhpcy5faXNSZW5kZXJpbmcpIHtcbiAgICAgIENvbGxlY3Rpb25WaWV3LnByb3RvdHlwZS5fcmVuZGVyQ2hpbGRyZW4uY2FsbCh0aGlzKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gWW91IG1pZ2h0IG5lZWQgdG8gb3ZlcnJpZGUgdGhpcyBpZiB5b3UndmUgb3ZlcnJpZGRlbiBhdHRhY2hIdG1sXG4gIGF0dGFjaEJ1ZmZlcihjb21wb3NpdGVWaWV3LCBidWZmZXIpIHtcbiAgICBjb25zdCAkY29udGFpbmVyID0gdGhpcy5nZXRDaGlsZFZpZXdDb250YWluZXIoY29tcG9zaXRlVmlldyk7XG4gICAgdGhpcy5Eb20uYXBwZW5kQ29udGVudHMoJGNvbnRhaW5lclswXSwgYnVmZmVyLCB7XyRlbDogJGNvbnRhaW5lcn0pO1xuICB9LFxuXG4gIC8vIEludGVybmFsIG1ldGhvZC4gQXBwZW5kIGEgdmlldyB0byB0aGUgZW5kIG9mIHRoZSAkZWwuXG4gIC8vIE92ZXJpZGRlbiBmcm9tIENvbGxlY3Rpb25WaWV3IHRvIGVuc3VyZSB2aWV3IGlzIGFwcGVuZGVkIHRvXG4gIC8vIGNoaWxkVmlld0NvbnRhaW5lclxuICBfaW5zZXJ0QWZ0ZXIoY2hpbGRWaWV3KSB7XG4gICAgY29uc3QgJGNvbnRhaW5lciA9IHRoaXMuZ2V0Q2hpbGRWaWV3Q29udGFpbmVyKHRoaXMsIGNoaWxkVmlldyk7XG4gICAgdGhpcy5Eb20uYXBwZW5kQ29udGVudHMoJGNvbnRhaW5lclswXSwgY2hpbGRWaWV3LmVsLCB7XyRlbDogJGNvbnRhaW5lciwgXyRjb250ZW50czogY2hpbGRWaWV3LiRlbH0pO1xuICB9LFxuXG4gIC8vIEludGVybmFsIG1ldGhvZC4gQXBwZW5kIHJlb3JkZXJlZCBjaGlsZFZpZXcnLlxuICAvLyBPdmVyaWRkZW4gZnJvbSBDb2xsZWN0aW9uVmlldyB0byBlbnN1cmUgcmVvcmRlcmVkIHZpZXdzXG4gIC8vIGFyZSBhcHBlbmRlZCB0byBjaGlsZFZpZXdDb250YWluZXJcbiAgX2FwcGVuZFJlb3JkZXJlZENoaWxkcmVuKGNoaWxkcmVuKSB7XG4gICAgY29uc3QgJGNvbnRhaW5lciA9IHRoaXMuZ2V0Q2hpbGRWaWV3Q29udGFpbmVyKHRoaXMpO1xuICAgIHRoaXMuRG9tLmFwcGVuZENvbnRlbnRzKCRjb250YWluZXJbMF0sIGNoaWxkcmVuLCB7XyRlbDogJGNvbnRhaW5lcn0pO1xuICB9LFxuXG4gIC8vIEludGVybmFsIG1ldGhvZCB0byBlbnN1cmUgYW4gYCRjaGlsZFZpZXdDb250YWluZXJgIGV4aXN0cywgZm9yIHRoZVxuICAvLyBgYXR0YWNoSHRtbGAgbWV0aG9kIHRvIHVzZS5cbiAgZ2V0Q2hpbGRWaWV3Q29udGFpbmVyKGNvbnRhaW5lclZpZXcsIGNoaWxkVmlldykge1xuICAgIGlmICghIWNvbnRhaW5lclZpZXcuJGNoaWxkVmlld0NvbnRhaW5lcikge1xuICAgICAgcmV0dXJuIGNvbnRhaW5lclZpZXcuJGNoaWxkVmlld0NvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBsZXQgY29udGFpbmVyO1xuICAgIGNvbnN0IGNoaWxkVmlld0NvbnRhaW5lciA9IGNvbnRhaW5lclZpZXcuY2hpbGRWaWV3Q29udGFpbmVyO1xuICAgIGlmIChjaGlsZFZpZXdDb250YWluZXIpIHtcblxuICAgICAgY29uc3Qgc2VsZWN0b3IgPSBfLnJlc3VsdChjb250YWluZXJWaWV3LCAnY2hpbGRWaWV3Q29udGFpbmVyJyk7XG5cbiAgICAgIGlmIChzZWxlY3Rvci5jaGFyQXQoMCkgPT09ICdAJyAmJiBjb250YWluZXJWaWV3LnVpKSB7XG4gICAgICAgIGNvbnRhaW5lciA9IGNvbnRhaW5lclZpZXcudWlbc2VsZWN0b3Iuc3Vic3RyKDQpXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRhaW5lciA9IHRoaXMuJChzZWxlY3Rvcik7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb250YWluZXIubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1hcmlvbmV0dGVFcnJvcih7XG4gICAgICAgICAgbmFtZTogJ0NoaWxkVmlld0NvbnRhaW5lck1pc3NpbmdFcnJvcicsXG4gICAgICAgICAgbWVzc2FnZTogYFRoZSBzcGVjaWZpZWQgXCJjaGlsZFZpZXdDb250YWluZXJcIiB3YXMgbm90IGZvdW5kOiAke2NvbnRhaW5lclZpZXcuY2hpbGRWaWV3Q29udGFpbmVyfWBcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFpbmVyID0gY29udGFpbmVyVmlldy4kZWw7XG4gICAgfVxuXG4gICAgY29udGFpbmVyVmlldy4kY2hpbGRWaWV3Q29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIHJldHVybiBjb250YWluZXI7XG4gIH0sXG5cbiAgLy8gSW50ZXJuYWwgbWV0aG9kIHRvIHJlc2V0IHRoZSBgJGNoaWxkVmlld0NvbnRhaW5lcmAgb24gcmVuZGVyXG4gIHJlc2V0Q2hpbGRWaWV3Q29udGFpbmVyKCkge1xuICAgIGlmICh0aGlzLiRjaGlsZFZpZXdDb250YWluZXIpIHtcbiAgICAgIHRoaXMuJGNoaWxkVmlld0NvbnRhaW5lciA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbn0pO1xuXG4vLyBUbyBwcmV2ZW50IGR1cGxpY2F0aW9uIGJ1dCBhbGxvdyB0aGUgYmVzdCBWaWV3IG9yZ2FuaXphdGlvblxuLy8gQ2VydGFpbiBWaWV3IG1ldGhvZHMgYXJlIG1peGVkIGRpcmVjdGx5IGludG8gdGhlIGRlcHJlY2F0ZWQgQ29tcG9zaXRlVmlld1xuY29uc3QgTWl4aW5Gcm9tVmlldyA9IF8ucGljayhWaWV3LnByb3RvdHlwZSwgJ3NlcmlhbGl6ZU1vZGVsJywgJ2dldFRlbXBsYXRlJywgJ19yZW5kZXJUZW1wbGF0ZScsICdfcmVuZGVySHRtbCcsICdtaXhpblRlbXBsYXRlQ29udGV4dCcsICdhdHRhY2hFbENvbnRlbnQnKTtcbl8uZXh0ZW5kKENvbXBvc2l0ZVZpZXcucHJvdG90eXBlLCBNaXhpbkZyb21WaWV3KTtcblxuZXhwb3J0IGRlZmF1bHQgQ29tcG9zaXRlVmlldztcbiIsIi8vIEJlaGF2aW9yXG4vLyAtLS0tLS0tLVxuXG4vLyBBIEJlaGF2aW9yIGlzIGFuIGlzb2xhdGVkIHNldCBvZiBET00gL1xuLy8gdXNlciBpbnRlcmFjdGlvbnMgdGhhdCBjYW4gYmUgbWl4ZWQgaW50byBhbnkgVmlldy5cbi8vIEJlaGF2aW9ycyBhbGxvdyB5b3UgdG8gYmxhY2tib3ggVmlldyBzcGVjaWZpYyBpbnRlcmFjdGlvbnNcbi8vIGludG8gcG9ydGFibGUgbG9naWNhbCBjaHVua3MsIGtlZXBpbmcgeW91ciB2aWV3cyBzaW1wbGUgYW5kIHlvdXIgY29kZSBEUlkuXG5cbmltcG9ydCBfIGZyb20gJ3VuZGVyc2NvcmUnO1xuaW1wb3J0IGRlcHJlY2F0ZSBmcm9tICcuL3V0aWxzL2RlcHJlY2F0ZSc7XG5pbXBvcnQgZ2V0VW5pcXVlRXZlbnROYW1lIGZyb20gJy4vdXRpbHMvZ2V0LXVuaXF1ZS1ldmVudC1uYW1lJztcbmltcG9ydCBNYXJpb25ldHRlT2JqZWN0IGZyb20gJy4vb2JqZWN0JztcbmltcG9ydCBEZWxlZ2F0ZUVudGl0eUV2ZW50c01peGluIGZyb20gJy4vbWl4aW5zL2RlbGVnYXRlLWVudGl0eS1ldmVudHMnO1xuaW1wb3J0IFRyaWdnZXJzTWl4aW4gZnJvbSAnLi9taXhpbnMvdHJpZ2dlcnMnO1xuaW1wb3J0IFVJTWl4aW4gZnJvbSAnLi9taXhpbnMvdWknO1xuXG5jb25zdCBDbGFzc09wdGlvbnMgPSBbXG4gICdjb2xsZWN0aW9uRXZlbnRzJyxcbiAgJ2V2ZW50cycsXG4gICdtb2RlbEV2ZW50cycsXG4gICd0cmlnZ2VycycsXG4gICd1aSdcbl07XG5cbmNvbnN0IEJlaGF2aW9yID0gTWFyaW9uZXR0ZU9iamVjdC5leHRlbmQoe1xuICBjaWRQcmVmaXg6ICdtbmInLFxuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMsIHZpZXcpIHtcbiAgICAvLyBTZXR1cCByZWZlcmVuY2UgdG8gdGhlIHZpZXcuXG4gICAgLy8gdGhpcyBjb21lcyBpbiBoYW5kbGUgd2hlbiBhIGJlaGF2aW9yXG4gICAgLy8gd2FudHMgdG8gZGlyZWN0bHkgdGFsayB1cCB0aGUgY2hhaW5cbiAgICAvLyB0byB0aGUgdmlldy5cbiAgICB0aGlzLnZpZXcgPSB2aWV3O1xuXG4gICAgaWYgKHRoaXMuZGVmYXVsdHMpIHtcbiAgICAgIGRlcHJlY2F0ZSgnQmVoYXZpb3IgZGVmYXVsdHMgYXJlIGRlcHJlY2F0ZWQuIEZvciBzaW1pbGFyIGZ1bmN0aW9uYWxpdHkgc2V0IG9wdGlvbnMgb24gdGhlIEJlaGF2aW9yIGNsYXNzLicpO1xuICAgIH1cblxuICAgIHRoaXMuZGVmYXVsdHMgPSBfLmNsb25lKF8ucmVzdWx0KHRoaXMsICdkZWZhdWx0cycsIHt9KSk7XG5cbiAgICB0aGlzLl9zZXRPcHRpb25zKHRoaXMuZGVmYXVsdHMsIG9wdGlvbnMpO1xuICAgIHRoaXMubWVyZ2VPcHRpb25zKHRoaXMub3B0aW9ucywgQ2xhc3NPcHRpb25zKTtcblxuICAgIC8vIENvbnN0cnVjdCBhbiBpbnRlcm5hbCBVSSBoYXNoIHVzaW5nXG4gICAgLy8gdGhlIGJlaGF2aW9ycyBVSSBoYXNoIGFuZCB0aGVuIHRoZSB2aWV3IFVJIGhhc2guXG4gICAgLy8gVGhpcyBhbGxvd3MgdGhlIHVzZXIgdG8gdXNlIFVJIGhhc2ggZWxlbWVudHNcbiAgICAvLyBkZWZpbmVkIGluIHRoZSBwYXJlbnQgdmlldyBhcyB3ZWxsIGFzIHRob3NlXG4gICAgLy8gZGVmaW5lZCBpbiB0aGUgZ2l2ZW4gYmVoYXZpb3IuXG4gICAgLy8gVGhpcyBvcmRlciB3aWxsIGhlbHAgdGhlIHJldXNlIGFuZCBzaGFyZSBvZiBhIGJlaGF2aW9yXG4gICAgLy8gYmV0d2VlbiBtdWx0aXBsZSB2aWV3cywgd2hpbGUgbGV0dGluZyBhIHZpZXcgb3ZlcnJpZGUgYVxuICAgIC8vIHNlbGVjdG9yIHVuZGVyIGFuIFVJIGtleS5cbiAgICB0aGlzLnVpID0gXy5leHRlbmQoe30sIF8ucmVzdWx0KHRoaXMsICd1aScpLCBfLnJlc3VsdCh2aWV3LCAndWknKSk7XG5cbiAgICBNYXJpb25ldHRlT2JqZWN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0sXG5cbiAgLy8gcHJveHkgYmVoYXZpb3IgJCBtZXRob2QgdG8gdGhlIHZpZXdcbiAgLy8gdGhpcyBpcyB1c2VmdWwgZm9yIGRvaW5nIGpxdWVyeSBET00gbG9va3Vwc1xuICAvLyBzY29wZWQgdG8gYmVoYXZpb3JzIHZpZXcuXG4gICQoKSB7XG4gICAgcmV0dXJuIHRoaXMudmlldy4kLmFwcGx5KHRoaXMudmlldywgYXJndW1lbnRzKTtcbiAgfSxcblxuICAvLyBTdG9wcyB0aGUgYmVoYXZpb3IgZnJvbSBsaXN0ZW5pbmcgdG8gZXZlbnRzLlxuICAvLyBPdmVycmlkZXMgT2JqZWN0I2Rlc3Ryb3kgdG8gcHJldmVudCBhZGRpdGlvbmFsIGV2ZW50cyBmcm9tIGJlaW5nIHRyaWdnZXJlZC5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnN0b3BMaXN0ZW5pbmcoKTtcblxuICAgIHRoaXMudmlldy5fcmVtb3ZlQmVoYXZpb3IodGhpcyk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBwcm94eVZpZXdQcm9wZXJ0aWVzKCkge1xuICAgIHRoaXMuJGVsID0gdGhpcy52aWV3LiRlbDtcbiAgICB0aGlzLmVsID0gdGhpcy52aWV3LmVsO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgYmluZFVJRWxlbWVudHMoKSB7XG4gICAgdGhpcy5fYmluZFVJRWxlbWVudHMoKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIHVuYmluZFVJRWxlbWVudHMoKSB7XG4gICAgdGhpcy5fdW5iaW5kVUlFbGVtZW50cygpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgZ2V0VUkobmFtZSkge1xuICAgIHJldHVybiB0aGlzLl9nZXRVSShuYW1lKTtcbiAgfSxcblxuICAvLyBIYW5kbGUgYG1vZGVsRXZlbnRzYCwgYW5kIGBjb2xsZWN0aW9uRXZlbnRzYCBjb25maWd1cmF0aW9uXG4gIGRlbGVnYXRlRW50aXR5RXZlbnRzKCkge1xuICAgIHRoaXMuX2RlbGVnYXRlRW50aXR5RXZlbnRzKHRoaXMudmlldy5tb2RlbCwgdGhpcy52aWV3LmNvbGxlY3Rpb24pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgdW5kZWxlZ2F0ZUVudGl0eUV2ZW50cygpIHtcbiAgICB0aGlzLl91bmRlbGVnYXRlRW50aXR5RXZlbnRzKHRoaXMudmlldy5tb2RlbCwgdGhpcy52aWV3LmNvbGxlY3Rpb24pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgZ2V0RXZlbnRzKCkge1xuICAgIC8vIE5vcm1hbGl6ZSBiZWhhdmlvciBldmVudHMgaGFzaCB0byBhbGxvd1xuICAgIC8vIGEgdXNlciB0byB1c2UgdGhlIEB1aS4gc3ludGF4LlxuICAgIGNvbnN0IGJlaGF2aW9yRXZlbnRzID0gdGhpcy5ub3JtYWxpemVVSUtleXMoXy5yZXN1bHQodGhpcywgJ2V2ZW50cycpKTtcblxuICAgIC8vIGJpbmRzIHRoZSBoYW5kbGVyIHRvIHRoZSBiZWhhdmlvciBhbmQgYnVpbGRzIGEgdW5pcXVlIGV2ZW50TmFtZVxuICAgIHJldHVybiBfLnJlZHVjZShiZWhhdmlvckV2ZW50cywgKGV2ZW50cywgYmVoYXZpb3JIYW5kbGVyLCBrZXkpID0+IHtcbiAgICAgIGlmICghXy5pc0Z1bmN0aW9uKGJlaGF2aW9ySGFuZGxlcikpIHtcbiAgICAgICAgYmVoYXZpb3JIYW5kbGVyID0gdGhpc1tiZWhhdmlvckhhbmRsZXJdO1xuICAgICAgfVxuICAgICAgaWYgKCFiZWhhdmlvckhhbmRsZXIpIHsgcmV0dXJuOyB9XG4gICAgICBrZXkgPSBnZXRVbmlxdWVFdmVudE5hbWUoa2V5KTtcbiAgICAgIGV2ZW50c1trZXldID0gXy5iaW5kKGJlaGF2aW9ySGFuZGxlciwgdGhpcyk7XG4gICAgICByZXR1cm4gZXZlbnRzO1xuICAgIH0sIHt9KTtcbiAgfSxcblxuICAvLyBJbnRlcm5hbCBtZXRob2QgdG8gYnVpbGQgYWxsIHRyaWdnZXIgaGFuZGxlcnMgZm9yIGEgZ2l2ZW4gYmVoYXZpb3JcbiAgZ2V0VHJpZ2dlcnMoKSB7XG4gICAgaWYgKCF0aGlzLnRyaWdnZXJzKSB7IHJldHVybjsgfVxuXG4gICAgLy8gTm9ybWFsaXplIGJlaGF2aW9yIHRyaWdnZXJzIGhhc2ggdG8gYWxsb3dcbiAgICAvLyBhIHVzZXIgdG8gdXNlIHRoZSBAdWkuIHN5bnRheC5cbiAgICBjb25zdCBiZWhhdmlvclRyaWdnZXJzID0gdGhpcy5ub3JtYWxpemVVSUtleXMoXy5yZXN1bHQodGhpcywgJ3RyaWdnZXJzJykpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2dldFZpZXdUcmlnZ2Vycyh0aGlzLnZpZXcsIGJlaGF2aW9yVHJpZ2dlcnMpO1xuICB9XG5cbn0pO1xuXG5fLmV4dGVuZChCZWhhdmlvci5wcm90b3R5cGUsIERlbGVnYXRlRW50aXR5RXZlbnRzTWl4aW4sIFRyaWdnZXJzTWl4aW4sIFVJTWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBCZWhhdmlvcjtcbiIsIi8vIEFwcGxpY2F0aW9uXG4vLyAtLS0tLS0tLS0tLVxuaW1wb3J0IGJ1aWxkUmVnaW9uIGZyb20gJy4vY29tbW9uL2J1aWxkLXJlZ2lvbic7XG5pbXBvcnQgTWFyaW9uZXR0ZU9iamVjdCBmcm9tICcuL29iamVjdCc7XG5pbXBvcnQgUmVnaW9uIGZyb20gJy4vcmVnaW9uJztcblxuY29uc3QgQ2xhc3NPcHRpb25zID0gW1xuICAncmVnaW9uJyxcbiAgJ3JlZ2lvbkNsYXNzJ1xuXTtcblxuLy8gQSBjb250YWluZXIgZm9yIGEgTWFyaW9uZXR0ZSBhcHBsaWNhdGlvbi5cbmNvbnN0IEFwcGxpY2F0aW9uID0gTWFyaW9uZXR0ZU9iamVjdC5leHRlbmQoe1xuICBjaWRQcmVmaXg6ICdtbmEnLFxuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLl9zZXRPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgdGhpcy5tZXJnZU9wdGlvbnMob3B0aW9ucywgQ2xhc3NPcHRpb25zKTtcblxuICAgIHRoaXMuX2luaXRSZWdpb24oKTtcblxuICAgIE1hcmlvbmV0dGVPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0sXG5cbiAgcmVnaW9uQ2xhc3M6IFJlZ2lvbixcblxuICBfaW5pdFJlZ2lvbigpIHtcbiAgICBjb25zdCByZWdpb24gPSB0aGlzLnJlZ2lvbjtcblxuICAgIGlmICghcmVnaW9uKSB7IHJldHVybjsgfVxuXG4gICAgY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgICByZWdpb25DbGFzczogdGhpcy5yZWdpb25DbGFzc1xuICAgIH07XG5cbiAgICB0aGlzLl9yZWdpb24gPSBidWlsZFJlZ2lvbihyZWdpb24sIGRlZmF1bHRzKTtcbiAgfSxcblxuICBnZXRSZWdpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlZ2lvbjtcbiAgfSxcblxuICBzaG93Vmlldyh2aWV3LCAuLi5hcmdzKSB7XG4gICAgY29uc3QgcmVnaW9uID0gdGhpcy5nZXRSZWdpb24oKTtcbiAgICByZXR1cm4gcmVnaW9uLnNob3codmlldywgLi4uYXJncyk7XG4gIH0sXG5cbiAgZ2V0VmlldygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRSZWdpb24oKS5jdXJyZW50VmlldztcbiAgfSxcblxuICAvLyBraWNrIG9mZiBhbGwgb2YgdGhlIGFwcGxpY2F0aW9uJ3MgcHJvY2Vzc2VzLlxuICBzdGFydChvcHRpb25zKSB7XG4gICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdiZWZvcmU6c3RhcnQnLCB0aGlzLCBvcHRpb25zKTtcbiAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ3N0YXJ0JywgdGhpcywgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEFwcGxpY2F0aW9uO1xuIiwiLy8gQXBwIFJvdXRlclxuLy8gLS0tLS0tLS0tLVxuXG4vLyBSZWR1Y2UgdGhlIGJvaWxlcnBsYXRlIGNvZGUgb2YgaGFuZGxpbmcgcm91dGUgZXZlbnRzXG4vLyBhbmQgdGhlbiBjYWxsaW5nIGEgc2luZ2xlIG1ldGhvZCBvbiBhbm90aGVyIG9iamVjdCxcbi8vIGNhbGxlZCBhIGNvbnRyb2xsZXIuXG4vLyBIYXZlIHlvdXIgcm91dGVycyBjb25maWd1cmVkIHRvIGNhbGwgdGhlIG1ldGhvZCBvblxuLy8geW91ciBjb250cm9sbGVyLCBkaXJlY3RseS5cbi8vXG4vLyBDb25maWd1cmUgYW4gQXBwUm91dGVyIHdpdGggYGFwcFJvdXRlc2AuXG4vL1xuLy8gQXBwIHJvdXRlcnMgY2FuIG9ubHkgdGFrZSBvbmUgYGNvbnRyb2xsZXJgIG9iamVjdC5cbi8vIEl0IGlzIHJlY29tbWVuZGVkIHRoYXQgeW91IGRpdmlkZSB5b3VyIGNvbnRyb2xsZXJcbi8vIG9iamVjdHMgaW4gdG8gc21hbGxlciBwaWVjZXMgb2YgcmVsYXRlZCBmdW5jdGlvbmFsaXR5XG4vLyBhbmQgaGF2ZSBtdWx0aXBsZSByb3V0ZXJzIC8gY29udHJvbGxlcnMsIGluc3RlYWQgb2Zcbi8vIGp1c3Qgb25lIGdpYW50IHJvdXRlciBhbmQgY29udHJvbGxlci5cbi8vXG4vLyBZb3UgY2FuIGFsc28gYWRkIHN0YW5kYXJkIHJvdXRlcyB0byBhbiBBcHBSb3V0ZXIuXG5cbmltcG9ydCBCYWNrYm9uZSBmcm9tICdiYWNrYm9uZSc7XG5pbXBvcnQgXyBmcm9tICd1bmRlcnNjb3JlJztcbmltcG9ydCB7IHRyaWdnZXJNZXRob2QgfSBmcm9tICcuL2NvbW1vbi90cmlnZ2VyLW1ldGhvZCc7XG5pbXBvcnQgTWFyaW9uZXR0ZUVycm9yIGZyb20gJy4vZXJyb3InO1xuaW1wb3J0IENvbW1vbk1peGluIGZyb20gJy4vbWl4aW5zL2NvbW1vbic7XG5cbmNvbnN0IENsYXNzT3B0aW9ucyA9IFtcbiAgJ2FwcFJvdXRlcycsXG4gICdjb250cm9sbGVyJ1xuXTtcblxuY29uc3QgQXBwUm91dGVyID0gQmFja2JvbmUuUm91dGVyLmV4dGVuZCh7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuX3NldE9wdGlvbnMob3B0aW9ucyk7XG5cbiAgICB0aGlzLm1lcmdlT3B0aW9ucyhvcHRpb25zLCBDbGFzc09wdGlvbnMpO1xuXG4gICAgQmFja2JvbmUuUm91dGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICBjb25zdCBhcHBSb3V0ZXMgPSB0aGlzLmFwcFJvdXRlcztcbiAgICBjb25zdCBjb250cm9sbGVyID0gdGhpcy5fZ2V0Q29udHJvbGxlcigpO1xuICAgIHRoaXMucHJvY2Vzc0FwcFJvdXRlcyhjb250cm9sbGVyLCBhcHBSb3V0ZXMpO1xuICAgIHRoaXMub24oJ3JvdXRlJywgdGhpcy5fcHJvY2Vzc09uUm91dGUsIHRoaXMpO1xuICB9LFxuXG4gIC8vIFNpbWlsYXIgdG8gcm91dGUgbWV0aG9kIG9uIGEgQmFja2JvbmUgUm91dGVyIGJ1dFxuICAvLyBtZXRob2QgaXMgY2FsbGVkIG9uIHRoZSBjb250cm9sbGVyXG4gIGFwcFJvdXRlKHJvdXRlLCBtZXRob2ROYW1lKSB7XG4gICAgY29uc3QgY29udHJvbGxlciA9IHRoaXMuX2dldENvbnRyb2xsZXIoKTtcbiAgICB0aGlzLl9hZGRBcHBSb3V0ZShjb250cm9sbGVyLCByb3V0ZSwgbWV0aG9kTmFtZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLy8gcHJvY2VzcyB0aGUgcm91dGUgZXZlbnQgYW5kIHRyaWdnZXIgdGhlIG9uUm91dGVcbiAgLy8gbWV0aG9kIGNhbGwsIGlmIGl0IGV4aXN0c1xuICBfcHJvY2Vzc09uUm91dGUocm91dGVOYW1lLCByb3V0ZUFyZ3MpIHtcbiAgICAvLyBtYWtlIHN1cmUgYW4gb25Sb3V0ZSBiZWZvcmUgdHJ5aW5nIHRvIGNhbGwgaXRcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKHRoaXMub25Sb3V0ZSkpIHtcbiAgICAgIC8vIGZpbmQgdGhlIHBhdGggdGhhdCBtYXRjaGVzIHRoZSBjdXJyZW50IHJvdXRlXG4gICAgICBjb25zdCByb3V0ZVBhdGggPSBfLmludmVydCh0aGlzLmFwcFJvdXRlcylbcm91dGVOYW1lXTtcbiAgICAgIHRoaXMub25Sb3V0ZShyb3V0ZU5hbWUsIHJvdXRlUGF0aCwgcm91dGVBcmdzKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gSW50ZXJuYWwgbWV0aG9kIHRvIHByb2Nlc3MgdGhlIGBhcHBSb3V0ZXNgIGZvciB0aGVcbiAgLy8gcm91dGVyLCBhbmQgdHVybiB0aGVtIGluIHRvIHJvdXRlcyB0aGF0IHRyaWdnZXIgdGhlXG4gIC8vIHNwZWNpZmllZCBtZXRob2Qgb24gdGhlIHNwZWNpZmllZCBgY29udHJvbGxlcmAuXG4gIHByb2Nlc3NBcHBSb3V0ZXMoY29udHJvbGxlciwgYXBwUm91dGVzKSB7XG4gICAgaWYgKCFhcHBSb3V0ZXMpIHsgcmV0dXJuIHRoaXM7IH1cblxuICAgIGNvbnN0IHJvdXRlTmFtZXMgPSBfLmtleXMoYXBwUm91dGVzKS5yZXZlcnNlKCk7IC8vIEJhY2tib25lIHJlcXVpcmVzIHJldmVydGVkIG9yZGVyIG9mIHJvdXRlc1xuXG4gICAgXy5lYWNoKHJvdXRlTmFtZXMsIHJvdXRlID0+IHtcbiAgICAgIHRoaXMuX2FkZEFwcFJvdXRlKGNvbnRyb2xsZXIsIHJvdXRlLCBhcHBSb3V0ZXNbcm91dGVdKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIF9nZXRDb250cm9sbGVyKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXI7XG4gIH0sXG5cbiAgX2FkZEFwcFJvdXRlKGNvbnRyb2xsZXIsIHJvdXRlLCBtZXRob2ROYW1lKSB7XG4gICAgY29uc3QgbWV0aG9kID0gY29udHJvbGxlclttZXRob2ROYW1lXTtcblxuICAgIGlmICghbWV0aG9kKSB7XG4gICAgICB0aHJvdyBuZXcgTWFyaW9uZXR0ZUVycm9yKGBNZXRob2QgXCIke21ldGhvZE5hbWV9XCIgd2FzIG5vdCBmb3VuZCBvbiB0aGUgY29udHJvbGxlcmApO1xuICAgIH1cblxuICAgIHRoaXMucm91dGUocm91dGUsIG1ldGhvZE5hbWUsIF8uYmluZChtZXRob2QsIGNvbnRyb2xsZXIpKTtcbiAgfSxcblxuICB0cmlnZ2VyTWV0aG9kOiB0cmlnZ2VyTWV0aG9kXG59KTtcblxuXy5leHRlbmQoQXBwUm91dGVyLnByb3RvdHlwZSwgQ29tbW9uTWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBBcHBSb3V0ZXI7XG4iLCJpbXBvcnQgTWFyaW9uZXR0ZUVycm9yIGZyb20gJy4uL2Vycm9yJztcblxuLy8gUGxhY2Vob2xkZXIgbWV0aG9kIHRvIGJlIGV4dGVuZGVkIGJ5IHRoZSB1c2VyLlxuLy8gVGhlIG1ldGhvZCBzaG91bGQgZGVmaW5lIHRoZSBvYmplY3QgdGhhdCBzdG9yZXMgdGhlIGJlaGF2aW9ycy5cbi8vIGkuZS5cbi8vXG4vLyBgYGBqc1xuLy8gTWFyaW9uZXR0ZS5CZWhhdmlvcnMuYmVoYXZpb3JzTG9va3VwOiBmdW5jdGlvbigpIHtcbi8vICAgcmV0dXJuIEFwcC5CZWhhdmlvcnNcbi8vIH1cbi8vIGBgYFxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYmVoYXZpb3JzTG9va3VwKCkge1xuICB0aHJvdyBuZXcgTWFyaW9uZXR0ZUVycm9yKHtcbiAgICBtZXNzYWdlOiAnWW91IG11c3QgZGVmaW5lIHdoZXJlIHlvdXIgYmVoYXZpb3JzIGFyZSBzdG9yZWQuJyxcbiAgICB1cmw6ICdtYXJpb25ldHRlLmJlaGF2aW9ycy5tZCNiZWhhdmlvcnNsb29rdXAnXG4gIH0pO1xufVxuIiwiaW1wb3J0IEJhY2tib25lIGZyb20gJ2JhY2tib25lJztcbmltcG9ydCB7dmVyc2lvbn0gZnJvbSAnLi4vcGFja2FnZS5qc29uJztcblxuaW1wb3J0IHByb3h5IGZyb20gJy4vdXRpbHMvcHJveHknO1xuaW1wb3J0IGV4dGVuZCBmcm9tICcuL3V0aWxzL2V4dGVuZCc7XG5pbXBvcnQgZGVwcmVjYXRlIGZyb20gJy4vdXRpbHMvZGVwcmVjYXRlJztcblxuaW1wb3J0IGlzTm9kZUF0dGFjaGVkIGZyb20gJy4vY29tbW9uL2lzLW5vZGUtYXR0YWNoZWQnO1xuaW1wb3J0IG1lcmdlT3B0aW9ucyBmcm9tICcuL2NvbW1vbi9tZXJnZS1vcHRpb25zJztcbmltcG9ydCBnZXRPcHRpb24gZnJvbSAnLi9jb21tb24vZ2V0LW9wdGlvbic7XG5pbXBvcnQgbm9ybWFsaXplTWV0aG9kcyBmcm9tICcuL2NvbW1vbi9ub3JtYWxpemUtbWV0aG9kcyc7XG5pbXBvcnQgbW9uaXRvclZpZXdFdmVudHMgZnJvbSAnLi9jb21tb24vbW9uaXRvci12aWV3LWV2ZW50cyc7XG5cbmltcG9ydCB7XG4gIGJpbmRFdmVudHMsXG4gIHVuYmluZEV2ZW50c1xufSBmcm9tICcuL2NvbW1vbi9iaW5kLWV2ZW50cyc7XG5cbmltcG9ydCB7XG4gIGJpbmRSZXF1ZXN0cyxcbiAgdW5iaW5kUmVxdWVzdHNcbn0gZnJvbSAnLi9jb21tb24vYmluZC1yZXF1ZXN0cyc7XG5cbmltcG9ydCB7XG4gIHRyaWdnZXJNZXRob2QsXG4gIHRyaWdnZXJNZXRob2RPblxufSBmcm9tICcuL2NvbW1vbi90cmlnZ2VyLW1ldGhvZCc7XG5cblxuaW1wb3J0IE1hcmlvbmV0dGVPYmplY3QgZnJvbSAnLi9vYmplY3QnO1xuaW1wb3J0IFRlbXBsYXRlQ2FjaGUgZnJvbSAnLi90ZW1wbGF0ZS1jYWNoZSc7XG5pbXBvcnQgVmlldyBmcm9tICcuL3ZpZXcnO1xuaW1wb3J0IENvbGxlY3Rpb25WaWV3IGZyb20gJy4vY29sbGVjdGlvbi12aWV3JztcbmltcG9ydCBOZXh0Q29sbGVjdGlvblZpZXcgZnJvbSAnLi9uZXh0LWNvbGxlY3Rpb24tdmlldyc7XG5pbXBvcnQgQ29tcG9zaXRlVmlldyBmcm9tICcuL2NvbXBvc2l0ZS12aWV3JztcbmltcG9ydCBCZWhhdmlvciBmcm9tICcuL2JlaGF2aW9yJztcbmltcG9ydCBSZWdpb24gZnJvbSAnLi9yZWdpb24nO1xuaW1wb3J0IEFwcGxpY2F0aW9uIGZyb20gJy4vYXBwbGljYXRpb24nO1xuaW1wb3J0IEFwcFJvdXRlciBmcm9tICcuL2FwcC1yb3V0ZXInO1xuaW1wb3J0IE1hcmlvbmV0dGVFcnJvciBmcm9tICcuL2Vycm9yJztcblxuaW1wb3J0IGJlaGF2aW9yc0xvb2t1cCBmcm9tICcuL2NvbmZpZy9iZWhhdmlvcnMtbG9va3VwJztcbmltcG9ydCBEb21BcGkgZnJvbSAnLi9jb25maWcvZG9tJztcbmltcG9ydCBSZW5kZXJlciBmcm9tICcuL2NvbmZpZy9yZW5kZXJlcic7XG5cbmltcG9ydCB7XG4gIEZFQVRVUkVTLFxuICBpc0VuYWJsZWQsXG4gIHNldEVuYWJsZWRcbn0gZnJvbSAnLi9jb25maWcvZmVhdHVyZXMnO1xuXG5jb25zdCBwcmV2aW91c01hcmlvbmV0dGUgPSBCYWNrYm9uZS5NYXJpb25ldHRlO1xuY29uc3QgTWFyaW9uZXR0ZSA9IEJhY2tib25lLk1hcmlvbmV0dGUgPSB7fTtcblxuLy8gVGhpcyBhbGxvd3MgeW91IHRvIHJ1biBtdWx0aXBsZSBpbnN0YW5jZXMgb2YgTWFyaW9uZXR0ZSBvbiB0aGUgc2FtZVxuLy8gd2ViYXBwLiBBZnRlciBsb2FkaW5nIHRoZSBuZXcgdmVyc2lvbiwgY2FsbCBgbm9Db25mbGljdCgpYCB0b1xuLy8gZ2V0IGEgcmVmZXJlbmNlIHRvIGl0LiBBdCB0aGUgc2FtZSB0aW1lIHRoZSBvbGQgdmVyc2lvbiB3aWxsIGJlXG4vLyByZXR1cm5lZCB0byBCYWNrYm9uZS5NYXJpb25ldHRlLlxuTWFyaW9uZXR0ZS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gIEJhY2tib25lLk1hcmlvbmV0dGUgPSBwcmV2aW91c01hcmlvbmV0dGU7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gVXRpbGl0aWVzXG5NYXJpb25ldHRlLmJpbmRFdmVudHMgPSBwcm94eShiaW5kRXZlbnRzKTtcbk1hcmlvbmV0dGUudW5iaW5kRXZlbnRzID0gcHJveHkodW5iaW5kRXZlbnRzKTtcbk1hcmlvbmV0dGUuYmluZFJlcXVlc3RzID0gcHJveHkoYmluZFJlcXVlc3RzKTtcbk1hcmlvbmV0dGUudW5iaW5kUmVxdWVzdHMgPSBwcm94eSh1bmJpbmRSZXF1ZXN0cyk7XG5NYXJpb25ldHRlLm1lcmdlT3B0aW9ucyA9IHByb3h5KG1lcmdlT3B0aW9ucyk7XG5NYXJpb25ldHRlLmdldE9wdGlvbiA9IHByb3h5KGdldE9wdGlvbik7XG5NYXJpb25ldHRlLm5vcm1hbGl6ZU1ldGhvZHMgPSBwcm94eShub3JtYWxpemVNZXRob2RzKTtcbk1hcmlvbmV0dGUuZXh0ZW5kID0gZXh0ZW5kO1xuTWFyaW9uZXR0ZS5pc05vZGVBdHRhY2hlZCA9IGlzTm9kZUF0dGFjaGVkO1xuTWFyaW9uZXR0ZS5kZXByZWNhdGUgPSBkZXByZWNhdGU7XG5NYXJpb25ldHRlLnRyaWdnZXJNZXRob2QgPSBwcm94eSh0cmlnZ2VyTWV0aG9kKTtcbk1hcmlvbmV0dGUudHJpZ2dlck1ldGhvZE9uID0gdHJpZ2dlck1ldGhvZE9uO1xuTWFyaW9uZXR0ZS5pc0VuYWJsZWQgPSBpc0VuYWJsZWQ7XG5NYXJpb25ldHRlLnNldEVuYWJsZWQgPSBzZXRFbmFibGVkO1xuTWFyaW9uZXR0ZS5tb25pdG9yVmlld0V2ZW50cyA9IG1vbml0b3JWaWV3RXZlbnRzO1xuXG5NYXJpb25ldHRlLkJlaGF2aW9ycyA9IHt9O1xuTWFyaW9uZXR0ZS5CZWhhdmlvcnMuYmVoYXZpb3JzTG9va3VwID0gYmVoYXZpb3JzTG9va3VwO1xuXG4vLyBDbGFzc2VzXG5NYXJpb25ldHRlLkFwcGxpY2F0aW9uID0gQXBwbGljYXRpb247XG5NYXJpb25ldHRlLkFwcFJvdXRlciA9IEFwcFJvdXRlcjtcbk1hcmlvbmV0dGUuUmVuZGVyZXIgPSBSZW5kZXJlcjtcbk1hcmlvbmV0dGUuVGVtcGxhdGVDYWNoZSA9IFRlbXBsYXRlQ2FjaGU7XG5NYXJpb25ldHRlLlZpZXcgPSBWaWV3O1xuTWFyaW9uZXR0ZS5Db2xsZWN0aW9uVmlldyA9IENvbGxlY3Rpb25WaWV3O1xuTWFyaW9uZXR0ZS5OZXh0Q29sbGVjdGlvblZpZXcgPSBOZXh0Q29sbGVjdGlvblZpZXc7XG5NYXJpb25ldHRlLkNvbXBvc2l0ZVZpZXcgPSBDb21wb3NpdGVWaWV3O1xuTWFyaW9uZXR0ZS5CZWhhdmlvciA9IEJlaGF2aW9yO1xuTWFyaW9uZXR0ZS5SZWdpb24gPSBSZWdpb247XG5NYXJpb25ldHRlLkVycm9yID0gTWFyaW9uZXR0ZUVycm9yO1xuTWFyaW9uZXR0ZS5PYmplY3QgPSBNYXJpb25ldHRlT2JqZWN0O1xuXG4vLyBDb25maWd1cmF0aW9uXG5NYXJpb25ldHRlLkRFVl9NT0RFID0gZmFsc2U7XG5NYXJpb25ldHRlLkZFQVRVUkVTID0gRkVBVFVSRVM7XG5NYXJpb25ldHRlLlZFUlNJT04gPSB2ZXJzaW9uO1xuTWFyaW9uZXR0ZS5Eb21BcGkgPSBEb21BcGk7XG5NYXJpb25ldHRlLnNldERvbUFwaSA9IGZ1bmN0aW9uKG1peGluKSB7XG4gIENvbGxlY3Rpb25WaWV3LnNldERvbUFwaShtaXhpbik7XG4gIENvbXBvc2l0ZVZpZXcuc2V0RG9tQXBpKG1peGluKTtcbiAgTmV4dENvbGxlY3Rpb25WaWV3LnNldERvbUFwaShtaXhpbik7XG4gIFJlZ2lvbi5zZXREb21BcGkobWl4aW4pO1xuICBWaWV3LnNldERvbUFwaShtaXhpbik7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBNYXJpb25ldHRlO1xuIl0sIm5hbWVzIjpbInByb3h5IiwibWV0aG9kIiwiY29udGV4dCIsImFyZ3MiLCJhcHBseSIsImV4dGVuZCIsIkJhY2tib25lIiwiTW9kZWwiLCJkZXByZWNhdGUiLCJtZXNzYWdlIiwidGVzdCIsIl8iLCJpc09iamVjdCIsInByZXYiLCJuZXh0IiwidXJsIiwiTWFyaW9uZXR0ZSIsIkRFVl9NT0RFIiwidW5kZWZpbmVkIiwiX2NhY2hlIiwiX3dhcm4iLCJfY29uc29sZSIsImNvbnNvbGUiLCJ3YXJuIiwibG9nIiwibm9vcCIsImFyZ3VtZW50cyIsImlzTm9kZUF0dGFjaGVkIiwiZWwiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImNvbnRhaW5zIiwicGFyZW50Tm9kZSIsIm1lcmdlT3B0aW9ucyIsIm9wdGlvbnMiLCJrZXlzIiwiZWFjaCIsImtleSIsIm9wdGlvbiIsImdldE9wdGlvbiIsIm9wdGlvbk5hbWUiLCJub3JtYWxpemVNZXRob2RzIiwiaGFzaCIsInJlZHVjZSIsIm5vcm1hbGl6ZWRIYXNoIiwibmFtZSIsImlzRnVuY3Rpb24iLCJzcGxpdHRlciIsImdldEV2ZW50TmFtZSIsIm1hdGNoIiwicHJlZml4IiwiZXZlbnROYW1lIiwidG9VcHBlckNhc2UiLCJnZXRPbk1ldGhvZE5hbWUiLCJtZW1vaXplIiwiZXZlbnQiLCJyZXBsYWNlIiwidHJpZ2dlck1ldGhvZCIsIm1ldGhvZE5hbWUiLCJjYWxsIiwicmVzdWx0IiwidHJpZ2dlciIsInRyaWdnZXJNZXRob2RPbiIsInRyaWdnZXJNZXRob2RDaGlsZHJlbiIsInZpZXciLCJzaG91bGRUcmlnZ2VyIiwiX2dldEltbWVkaWF0ZUNoaWxkcmVuIiwiY2hpbGQiLCJzaG91bGRUcmlnZ2VyQXR0YWNoIiwiX2lzQXR0YWNoZWQiLCJzaG91bGRBdHRhY2giLCJzaG91bGRUcmlnZ2VyRGV0YWNoIiwic2hvdWxkRGV0YWNoIiwidHJpZ2dlckRPTVJlZnJlc2giLCJfaXNSZW5kZXJlZCIsInRyaWdnZXJET01SZW1vdmUiLCJoYW5kbGVCZWZvcmVBdHRhY2giLCJoYW5kbGVBdHRhY2giLCJoYW5kbGVCZWZvcmVEZXRhY2giLCJoYW5kbGVEZXRhY2giLCJoYW5kbGVCZWZvcmVSZW5kZXIiLCJoYW5kbGVSZW5kZXIiLCJtb25pdG9yVmlld0V2ZW50cyIsIl9hcmVWaWV3RXZlbnRzTW9uaXRvcmVkIiwib24iLCJlcnJvclByb3BzIiwiTWFyaW9uZXR0ZUVycm9yIiwiRXJyb3IiLCJ2ZXJzaW9uIiwiZXJyb3IiLCJwaWNrIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJ1cmxSb290IiwiYmluZEZyb21TdHJpbmdzIiwidGFyZ2V0IiwiZW50aXR5IiwiZXZ0IiwibWV0aG9kcyIsImFjdGlvbk5hbWUiLCJtZXRob2ROYW1lcyIsInNwbGl0IiwiaXRlcmF0ZUV2ZW50cyIsImJpbmRpbmdzIiwiaXNTdHJpbmciLCJiaW5kRXZlbnRzIiwidW5iaW5kRXZlbnRzIiwiaXRlcmF0ZVJlcGxpZXMiLCJjaGFubmVsIiwibm9ybWFsaXplZFJhZGlvUmVxdWVzdHMiLCJiaW5kUmVxdWVzdHMiLCJ1bmJpbmRSZXF1ZXN0cyIsInNldE9wdGlvbnMiLCJjaGFubmVsTmFtZSIsIlJhZGlvIiwiX2NoYW5uZWwiLCJyYWRpb0V2ZW50cyIsInJhZGlvUmVxdWVzdHMiLCJfZGVzdHJveVJhZGlvIiwic3RvcFJlcGx5aW5nIiwiQ2xhc3NPcHRpb25zIiwiTWFyaW9uZXR0ZU9iamVjdCIsImhhc093blByb3BlcnR5IiwiX3NldE9wdGlvbnMiLCJfc2V0Q2lkIiwiX2luaXRSYWRpbyIsImluaXRpYWxpemUiLCJwcm90b3R5cGUiLCJFdmVudHMiLCJDb21tb25NaXhpbiIsIlJhZGlvTWl4aW4iLCJfaXNEZXN0cm95ZWQiLCJjaWQiLCJ1bmlxdWVJZCIsImNpZFByZWZpeCIsInN0b3BMaXN0ZW5pbmciLCJUZW1wbGF0ZUNhY2hlIiwidGVtcGxhdGVJZCIsImNhY2hlZFRlbXBsYXRlIiwidGVtcGxhdGVDYWNoZXMiLCJsb2FkIiwiaSIsImxlbmd0aCIsImNvbXBpbGVkVGVtcGxhdGUiLCJ0ZW1wbGF0ZSIsImxvYWRUZW1wbGF0ZSIsImNvbXBpbGVUZW1wbGF0ZSIsIiR0ZW1wbGF0ZSIsIiQiLCJodG1sIiwicmF3VGVtcGxhdGUiLCJpbnZva2VNYXAiLCJpbnZva2UiLCJnZXRCZWhhdmlvckNsYXNzIiwiYmVoYXZpb3JDbGFzcyIsIkJlaGF2aW9ycyIsImJlaGF2aW9yc0xvb2t1cCIsInBhcnNlQmVoYXZpb3JzIiwiYmVoYXZpb3JzIiwiY2hhaW4iLCJtYXAiLCJCZWhhdmlvckNsYXNzIiwiX29wdGlvbnMiLCJiZWhhdmlvciIsIm5lc3RlZEJlaGF2aW9ycyIsImNvbmNhdCIsImZsYXR0ZW4iLCJ2YWx1ZSIsIl9iZWhhdmlvcnMiLCJfZ2V0QmVoYXZpb3JzIiwidHJpZ2dlcnMiLCJfaW52b2tlIiwibWVtbyIsIl90cmlnZ2VycyIsImV2ZW50cyIsIl9ldmVudHMiLCJ3aXRob3V0IiwibW9kZWwiLCJjb2xsZWN0aW9uIiwiX3VuZGVsZWdhdGVFbnRpdHlFdmVudHMiLCJtb2RlbEV2ZW50cyIsImNvbGxlY3Rpb25FdmVudHMiLCJkZWxlZ2F0ZUV2ZW50U3BsaXR0ZXIiLCJ1bmlxdWVOYW1lIiwic2VsZWN0b3IiLCJnZXRVbmlxdWVFdmVudE5hbWUiLCJGRUFUVVJFUyIsImlzRW5hYmxlZCIsInNldEVuYWJsZWQiLCJzdGF0ZSIsImJ1aWxkVmlld1RyaWdnZXIiLCJ0cmlnZ2VyRGVmIiwic2hvdWxkUHJldmVudERlZmF1bHQiLCJwcmV2ZW50RGVmYXVsdCIsInNob3VsZFN0b3BQcm9wYWdhdGlvbiIsInN0b3BQcm9wYWdhdGlvbiIsIm5vcm1hbGl6ZVVJS2V5cyIsInVpIiwidmFsIiwibm9ybWFsaXplZEtleSIsIm5vcm1hbGl6ZVVJU3RyaW5nIiwidWlTdHJpbmciLCJyIiwic2xpY2UiLCJub3JtYWxpemVVSVZhbHVlcyIsInByb3BlcnRpZXMiLCJpc0FycmF5IiwicHJvcGVydHkiLCJwcm9wZXJ0eVZhbCIsInVpQmluZGluZ3MiLCJfZ2V0VUlCaW5kaW5ncyIsIl91aUJpbmRpbmdzIiwiX3VpIiwiJGVsIiwiZ2V0RWwiLCJzZXREb21BcGkiLCJtaXhpbiIsIkRvbSIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJfJGVsIiwiZmluZCIsImNoaWxkRWwiLCJkZXRhY2giLCJuZXdFbCIsIm9sZEVsIiwicGFyZW50IiwicmVwbGFjZUNoaWxkIiwiZWwxIiwiZWwyIiwicGFyZW50MSIsInBhcmVudDIiLCJuZXh0MSIsIm5leHRTaWJsaW5nIiwibmV4dDIiLCJpbnNlcnRCZWZvcmUiLCJjb250ZW50cyIsIl8kY29udGVudHMiLCJhcHBlbmQiLCJoYXNDaGlsZE5vZGVzIiwiVmlld01peGluIiwiRG9tQXBpIiwiZXZlbnRzQXJnIiwiX3Byb3h5QmVoYXZpb3JWaWV3UHJvcGVydGllcyIsIl9idWlsZEV2ZW50UHJveGllcyIsInZpZXdFdmVudHMiLCJfZ2V0RXZlbnRzIiwiY29tYmluZWRFdmVudHMiLCJfZ2V0QmVoYXZpb3JFdmVudHMiLCJfZ2V0QmVoYXZpb3JUcmlnZ2VycyIsImdldFRyaWdnZXJzIiwiVmlldyIsImRlbGVnYXRlRXZlbnRzIiwiX2dldFZpZXdUcmlnZ2VycyIsIl9kZWxlZ2F0ZUVudGl0eUV2ZW50cyIsIl9kZWxlZ2F0ZUJlaGF2aW9yRW50aXR5RXZlbnRzIiwiX3VuZGVsZWdhdGVCZWhhdmlvckVudGl0eUV2ZW50cyIsIl9zaG91bGREaXNhYmxlRXZlbnRzIiwidW5iaW5kVUlFbGVtZW50cyIsIl9yZW1vdmVFbGVtZW50IiwiX3JlbW92ZUNoaWxkcmVuIiwiX2Rlc3Ryb3lCZWhhdmlvcnMiLCJvZmYiLCJyZW1vdmVEYXRhIiwiZGV0YWNoRWwiLCJfYmluZFVJRWxlbWVudHMiLCJfYmluZEJlaGF2aW9yVUlFbGVtZW50cyIsIl91bmJpbmRVSUVsZW1lbnRzIiwiX3VuYmluZEJlaGF2aW9yVUlFbGVtZW50cyIsIl9nZXRVSSIsInJldCIsIl90cmlnZ2VyRXZlbnRPbkJlaGF2aW9ycyIsIl9jaGlsZFZpZXdFdmVudHMiLCJfY2hpbGRWaWV3VHJpZ2dlcnMiLCJsaXN0ZW5UbyIsIl9jaGlsZFZpZXdFdmVudEhhbmRsZXIiLCJjaGlsZFZpZXdFdmVudHMiLCJjaGlsZFZpZXdUcmlnZ2VycyIsImNoaWxkRXZlbnROYW1lIiwiQmVoYXZpb3JzTWl4aW4iLCJEZWxlZ2F0ZUVudGl0eUV2ZW50c01peGluIiwiVHJpZ2dlcnNNaXhpbiIsIlVJTWl4aW4iLCJyZW5kZXJWaWV3Iiwic3VwcG9ydHNSZW5kZXJMaWZlY3ljbGUiLCJyZW5kZXIiLCJkZXN0cm95VmlldyIsImRlc3Ryb3kiLCJzdXBwb3J0c0Rlc3Ryb3lMaWZlY3ljbGUiLCJyZW1vdmUiLCJSZWdpb24iLCJfaW5pdEVsIiwiX2Vuc3VyZUVsZW1lbnQiLCJfZ2V0VmlldyIsImN1cnJlbnRWaWV3IiwiX2lzU3dhcHBpbmdWaWV3IiwiZW1wdHkiLCJfc2V0dXBDaGlsZFZpZXciLCJfYXR0YWNoVmlldyIsIl9wcm94eUNoaWxkVmlld0V2ZW50cyIsIl9lbXB0eSIsInBhcmVudFZpZXciLCJfcGFyZW50VmlldyIsIl9zaG91bGREaXNhYmxlTW9uaXRvcmluZyIsInNob3VsZFJlcGxhY2VFbCIsInJlcGxhY2VFbGVtZW50IiwiX3JlcGxhY2VFbCIsImF0dGFjaEh0bWwiLCJhbGxvd01pc3NpbmdFbCIsInZpZXdPcHRpb25zIiwiX2dldFZpZXdPcHRpb25zIiwiZmluZEVsIiwiX3Jlc3RvcmVFbCIsInJlcGxhY2VFbCIsIl9pc1JlcGxhY2VkIiwiX2RldGFjaFZpZXciLCJhcHBlbmRDb250ZW50cyIsImRldGFjaEh0bWwiLCJzaG91bGREZXN0cm95IiwicHJldmVudERlc3Ryb3kiLCJyZW1vdmVWaWV3IiwiX3N0b3BDaGlsZFZpZXdFdmVudHMiLCJzaG91bGRSZXN0b3JlRWwiLCJkZXRhY2hDb250ZW50cyIsInJlc2V0IiwiX25hbWUiLCJfcmVtb3ZlUmVmZXJlbmNlcyIsImRlZmluaXRpb24iLCJkZWZhdWx0cyIsImJ1aWxkUmVnaW9uRnJvbURlZmluaXRpb24iLCJvcHRzIiwiYnVpbGRSZWdpb25Gcm9tT2JqZWN0IiwicmVnaW9uQ2xhc3MiLCJSZWdpb25DbGFzcyIsIm9taXQiLCJyZWdpb25zIiwiX3JlZ2lvbnMiLCJhZGRSZWdpb25zIiwiaXNFbXB0eSIsIl9hZGRSZWdpb25zIiwicmVnaW9uRGVmaW5pdGlvbnMiLCJwYXJ0aWFsIiwiYnVpbGRSZWdpb24iLCJfYWRkUmVnaW9uIiwicmVnaW9uIiwiX3JlbW92ZVJlZ2lvbiIsIl9nZXRSZWdpb25zIiwiYmluZCIsImdldFJlZ2lvbnMiLCJnZXRSZWdpb24iLCJjbG9uZSIsInNob3ciLCJkZXRhY2hWaWV3IiwiUmVuZGVyZXIiLCJkYXRhIiwidGVtcGxhdGVGdW5jIiwiZ2V0IiwiX2luaXRCZWhhdmlvcnMiLCJfaW5pdFJlZ2lvbnMiLCJBcnJheSIsImNvbnN0cnVjdG9yIiwiZGVsZWdhdGVFbnRpdHlFdmVudHMiLCJzZXJpYWxpemVNb2RlbCIsInNlcmlhbGl6ZUNvbGxlY3Rpb24iLCJhdHRyaWJ1dGVzIiwiaGFzRWwiLCJzZXRFbGVtZW50IiwiaGFzQ29udGVudHMiLCJiaW5kVUlFbGVtZW50cyIsIl9yZUluaXRSZWdpb25zIiwiX3JlbmRlclRlbXBsYXRlIiwiZ2V0VGVtcGxhdGUiLCJtaXhpblRlbXBsYXRlQ29udGV4dCIsInNlcmlhbGl6ZURhdGEiLCJfcmVuZGVySHRtbCIsImF0dGFjaEVsQ29udGVudCIsInRlbXBsYXRlQ29udGV4dCIsInNldENvbnRlbnRzIiwicmVtb3ZlUmVnaW9ucyIsImNvbXBhY3QiLCJyZW5kZXJlciIsIlJlZ2lvbnNNaXhpbiIsImVtdWxhdGVDb2xsZWN0aW9uIiwib2JqZWN0IiwibGlzdFByb3BlcnR5IiwibGlzdCIsIkNvbnRhaW5lciIsInZpZXdzIiwiX3ZpZXdzIiwiX2luZGV4QnlNb2RlbCIsIl9pbmRleEJ5Q3VzdG9tIiwiX3VwZGF0ZUxlbmd0aCIsImFkZCIsInZhbHVlcyIsImN1c3RvbUluZGV4IiwiX2FkZCIsInZpZXdDaWQiLCJmaW5kQnlNb2RlbENpZCIsIm1vZGVsQ2lkIiwiZmluZEJ5Q2lkIiwiaW5kZXgiLCJfcmVtb3ZlIiwic29tZSIsInNpemUiLCJDb2xsZWN0aW9uVmlldyIsIm9uY2UiLCJfaW5pdGlhbEV2ZW50cyIsIl9pbml0Q2hpbGRWaWV3U3RvcmFnZSIsIl9idWZmZXJlZENoaWxkcmVuIiwiX2lzQnVmZmVyaW5nIiwidHJpZ2dlck9uQ2hpbGRyZW4iLCJhdHRhY2hCdWZmZXIiLCJfY3JlYXRlQnVmZmVyIiwiY2hpbGRyZW4iLCJfb25Db2xsZWN0aW9uQWRkIiwiX29uQ29sbGVjdGlvblVwZGF0ZSIsInNvcnQiLCJfc29ydFZpZXdzIiwiYXQiLCJpbmRleE9mIiwiZmlsdGVyIiwiX2ZpbHRlcmVkU29ydGVkTW9kZWxzIiwiX3Nob3VsZEFkZENoaWxkIiwiX2Rlc3Ryb3lFbXB0eVZpZXciLCJfYWRkQ2hpbGQiLCJjaGFuZ2VzIiwiX3JlbW92ZUNoaWxkTW9kZWxzIiwicmVtb3ZlZCIsIm1vZGVscyIsInJlbW92ZWRWaWV3cyIsIl9nZXRSZW1vdmVkVmlld3MiLCJfdXBkYXRlSW5kaWNlcyIsIl9zaG93RW1wdHlWaWV3IiwicmVtb3ZpbmdWaWV3cyIsImZpbmRCeU1vZGVsIiwiX3JlbW92ZUNoaWxkVmlldyIsInB1c2giLCJfcmVuZGVyQ2hpbGRyZW4iLCJwcmV2ZW50UmVuZGVyIiwiY2FuQmVSZW5kZXJlZCIsImZpbHRlckNoYW5nZWQiLCJzaG91bGRSZW5kZXIiLCJwcmV2aW91c01vZGVscyIsIl9hcHBseU1vZGVsRGVsdGFzIiwic2V0RmlsdGVyIiwiY3VycmVudElkcyIsImFkZGVkQ2hpbGROb3RFeGlzdHMiLCJyZW1vdmVNb2RlbHMiLCJwcmV2TW9kZWwiLCJfc2hvd2luZ0VtcHR5VmlldyIsImFueU1vZGVsc0FkZGVkIiwiZmlsdGVyZWRPdXRNb2RlbHMiLCJlbHNUb1Jlb3JkZXIiLCJ2aWV3RWxzIiwiX2luZGV4IiwiZWxCdWZmZXIiLCJjcmVhdGVCdWZmZXIiLCJfYXBwZW5kUmVvcmRlcmVkQ2hpbGRyZW4iLCJyZW9yZGVyT25Tb3J0IiwicmVvcmRlciIsIm9yZGVyQ2hhbmdlZCIsIml0ZW0iLCJyZXNvcnRWaWV3IiwiX2Rlc3Ryb3lDaGlsZHJlbiIsInByb2Nlc3NlZE1vZGVscyIsIl9zdGFydEJ1ZmZlcmluZyIsIl9zaG93Q29sbGVjdGlvbiIsIl9lbmRCdWZmZXJpbmciLCJDaGlsZFZpZXciLCJfZ2V0Q2hpbGRWaWV3IiwiY2hpbGRWaWV3T3B0aW9ucyIsIl9nZXRDaGlsZFZpZXdPcHRpb25zIiwiYnVpbGRDaGlsZFZpZXciLCJhZGRlZEF0Iiwidmlld0NvbXBhcmF0b3IiLCJnZXRWaWV3Q29tcGFyYXRvciIsIk1hdGgiLCJtaW4iLCJtYXgiLCJhZGRlZE1vZGVsIiwiX3NvcnRNb2RlbHNCeSIsInNwbGljZSIsIl9maWx0ZXJNb2RlbHMiLCJjb21wYXJhdG9yIiwic29ydEJ5IiwiRW1wdHlWaWV3IiwiX2dldEVtcHR5VmlldyIsImVtcHR5Vmlld09wdGlvbnMiLCJfZW1wdHlWaWV3SW5kZXgiLCJhZGRDaGlsZFZpZXciLCJlbXB0eVZpZXciLCJjaGlsZFZpZXciLCJfY3JlYXRlVmlldyIsImluY3JlbWVudCIsImxhdGVyVmlldyIsIkNoaWxkVmlld0NsYXNzIiwiY29sbGVjdGlvblZpZXciLCJidWZmZXIiLCJiIiwiX2luc2VydEJlZm9yZSIsIl9pbnNlcnRBZnRlciIsImZpbmRQb3NpdGlvbiIsImJlZm9yZUVsIiwic2libGluZ3MiLCJiZWZvcmUiLCJDaGlsZFZpZXdDb250YWluZXIiLCJfaW5pdCIsInN0cmluZ0NvbXBhcmF0b3IiLCJfdmlld3NCeUNpZCIsIl9zb3J0QnkiLCJzb3J0ZWRWaWV3cyIsIl9zZXQiLCJ2aWV3MSIsInZpZXcyIiwidmlldzFJbmRleCIsImZpbmRJbmRleEJ5VmlldyIsInZpZXcySW5kZXgiLCJzd2FwVmlldyIsIl9pbml0RW1wdHlSZWdpb24iLCJlbXB0eVJlZ2lvbiIsIl9vbkNvbGxlY3Rpb25Tb3J0IiwiX29uQ29sbGVjdGlvblJlc2V0Iiwic29ydFdpdGhDb2xsZWN0aW9uIiwiaGFzQWRkZWRNb2RlbCIsIl9hZGRlZFZpZXdzIiwiX2FkZENoaWxkTW9kZWxzIiwiYWRkZWQiLCJfZGV0YWNoQ2hpbGRyZW4iLCJfc2hvd0NoaWxkcmVuIiwiX3JlbW92ZUNoaWxkVmlld3MiLCJfcmVtb3ZlQ2hpbGRNb2RlbCIsIl9yZW1vdmVDaGlsZCIsIl9hZGRDaGlsZE1vZGVsIiwiX2NyZWF0ZUNoaWxkVmlldyIsInJlbW92ZUNoaWxkVmlldyIsIl9zb3J0Q2hpbGRyZW4iLCJhbGxWaWV3c0ZpbHRlcmVkIiwiX2dldEVtcHR5Vmlld09wdGlvbnMiLCJoYXNWaWV3IiwiZ2V0Q29tcGFyYXRvciIsIl9zb3J0IiwiY29tcGFyYXRvckNoYW5nZWQiLCJzaG91bGRTb3J0Iiwic2V0Q29tcGFyYXRvciIsIl92aWV3Q29tcGFyYXRvciIsImZpbHRlcmVkVmlld3MiLCJfZmlsdGVyQ2hpbGRyZW4iLCJhZGRlZFZpZXciLCJhZGRlZFZpZXdzIiwidmlld0luZGV4Iiwidmlld0ZpbHRlciIsIl9nZXRGaWx0ZXIiLCJldmVyeSIsIl9pc0FkZGVkQXRFbmQiLCJwYXJ0aXRpb24iLCJnZXRGaWx0ZXIiLCJtYXRjaGVyIiwibWF0Y2hlcyIsImRldGFjaGluZ1ZpZXdzIiwiX2RldGFjaENoaWxkVmlldyIsImVscyIsIl9nZXRCdWZmZXIiLCJfYXR0YWNoQ2hpbGRyZW4iLCJfc3dhcCIsInN3YXBFbCIsIl9kZXN0cm95Q2hpbGRWaWV3IiwiQ29tcG9zaXRlVmlldyIsInJlbmRlckNoaWxkcmVuIiwiX2lzUmVuZGVyaW5nIiwicmVzZXRDaGlsZFZpZXdDb250YWluZXIiLCJjb21wb3NpdGVWaWV3IiwiJGNvbnRhaW5lciIsImdldENoaWxkVmlld0NvbnRhaW5lciIsImNvbnRhaW5lclZpZXciLCIkY2hpbGRWaWV3Q29udGFpbmVyIiwiY29udGFpbmVyIiwiY2hpbGRWaWV3Q29udGFpbmVyIiwiY2hhckF0Iiwic3Vic3RyIiwiTWl4aW5Gcm9tVmlldyIsIkJlaGF2aW9yIiwiX3JlbW92ZUJlaGF2aW9yIiwiYmVoYXZpb3JFdmVudHMiLCJiZWhhdmlvckhhbmRsZXIiLCJiZWhhdmlvclRyaWdnZXJzIiwiQXBwbGljYXRpb24iLCJfaW5pdFJlZ2lvbiIsIl9yZWdpb24iLCJBcHBSb3V0ZXIiLCJSb3V0ZXIiLCJhcHBSb3V0ZXMiLCJjb250cm9sbGVyIiwiX2dldENvbnRyb2xsZXIiLCJwcm9jZXNzQXBwUm91dGVzIiwiX3Byb2Nlc3NPblJvdXRlIiwicm91dGUiLCJfYWRkQXBwUm91dGUiLCJyb3V0ZU5hbWUiLCJyb3V0ZUFyZ3MiLCJvblJvdXRlIiwicm91dGVQYXRoIiwiaW52ZXJ0Iiwicm91dGVOYW1lcyIsInJldmVyc2UiLCJwcmV2aW91c01hcmlv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"}