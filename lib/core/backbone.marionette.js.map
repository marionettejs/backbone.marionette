{"version":3,"file":"backbone.marionette.js","sources":["package.json","src/utils/_proxy.js","src/utils/extend.js","src/utils/isNodeAttached.js","src/utils/mergeOptions.js","src/utils/getOption.js","src/utils/normalizeMethods.js","src/utils/deprecate.js","src/trigger-method.js","src/monitor-view-events.js","src/utils/_setOptions.js","src/error.js","src/bind-entity-events.js","src/mixins/common.js","src/bind-radio-requests.js","src/mixins/radio.js","src/object.js","src/template-cache.js","src/renderer.js","src/utils/_invoke.js","src/mixins/behaviors.js","src/mixins/delegate-entity-events.js","src/utils/getUniqueEventName.js","src/mixins/triggers.js","src/mixins/ui.js","src/mixins/view.js","src/utils/destroyBackboneView.js","src/region.js","src/mixins/regions.js","src/view.js","src/collection-view.js","src/composite-view.js","src/behavior.js","src/application.js","src/app-router.js","src/config/behaviors-lookup.js","src/config/features.js","src/backbone.marionette.js"],"sourcesContent":["{\n  \"name\": \"backbone.marionette\",\n  \"description\": \"The Backbone Framework\",\n  \"version\": \"3.0.0-pre.4\",\n  \"homepage\": \"https://github.com/marionettejs/backbone.marionette\",\n  \"main\": \"lib/core/backbone.marionette.js\",\n  \"keywords\": [\n    \"backbone\",\n    \"plugin\",\n    \"marionette\",\n    \"composite\",\n    \"architecture\",\n    \"single\",\n    \"page\",\n    \"app\",\n    \"client\",\n    \"browser\"\n  ],\n  \"license\": \"MIT\",\n  \"scripts\": {\n    \"build\": \"gulp build\",\n    \"coverage\": \"gulp coverage\",\n    \"coveralls\": \"gulp coveralls\",\n    \"test\": \"gulp\",\n    \"test-browser\": \"gulp test-browser\"\n  },\n  \"author\": {\n    \"name\": \"Derick Bailey\",\n    \"email\": \"derickbailey@gmail.com\",\n    \"url\": \"http://derickbailey.com/\"\n  },\n  \"bugs\": {\n    \"url\": \"https://github.com/marionettejs/backbone.marionette/issues\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/marionettejs/backbone.marionette.git\"\n  },\n  \"github\": \"https://github.com/marionettejs/backbone.marionette\",\n  \"dependencies\": {\n    \"backbone.babysitter\": \"1.0.0-pre.1\",\n    \"backbone.radio\": \"2.0.0-pre.1\"\n  },\n  \"peerDependencies\": {\n    \"backbone\": \"1.2.1 - 1.3.2\",\n    \"underscore\": \"1.8 - 1.8.3\"\n  },\n  \"devDependencies\": {\n    \"babel-core\": \"^6.7.0\",\n    \"babel-eslint\": \"^6.0.4\",\n    \"babel-polyfill\": \"^6.6.1\",\n    \"babel-preset-es2015\": \"^6.3.13\",\n    \"babel-preset-es2015-rollup\": \"^1.1.1\",\n    \"babel-register\": \"^6.4.3\",\n    \"backbone\": \"1.2.1 - 1.3.2\",\n    \"chai\": \"^3.4.0\",\n    \"chai-jq\": \"0.0.9\",\n    \"dox\": \"git://github.com/jasonLaster/dox.git#marked\",\n    \"eslint\": \"2.9.0\",\n    \"gulp\": \"^3.9.0\",\n    \"gulp-coveralls\": \"^0.1.4\",\n    \"gulp-eslint\": \"^2.0.0\",\n    \"gulp-file\": \"^0.2.0\",\n    \"gulp-filter\": \"^3.0.1\",\n    \"gulp-istanbul\": \"^0.10.2\",\n    \"gulp-lintspaces\": \"^0.4.1\",\n    \"gulp-livereload\": \"^3.8.1\",\n    \"gulp-mocha\": \"^2.1.3\",\n    \"gulp-plumber\": \"^1.0.1\",\n    \"gulp-rename\": \"^1.2.2\",\n    \"gulp-sourcemaps\": \"^1.6.0\",\n    \"gulp-uglify\": \"^1.4.2\",\n    \"gulp-util\": \"^3.0.7\",\n    \"gulp-yaml-validate\": \"^1.0.2\",\n    \"isparta\": \"^4.0.0\",\n    \"jquery\": \"^2.1.4\",\n    \"jsdom\": \"^8.0.2\",\n    \"mocha\": \"^2.4.5\",\n    \"opn\": \"^4.0.2\",\n    \"rollup\": \"^0.26.1\",\n    \"rollup-plugin-babel\": \"^2.3.9\",\n    \"rollup-plugin-commonjs\": \"^2.2.1\",\n    \"rollup-plugin-json\": \"^2.0.0\",\n    \"rollup-plugin-multi-entry\": \"^1.2.0\",\n    \"rollup-plugin-node-globals\": \"^1.0.5\",\n    \"rollup-plugin-node-resolve\": \"^1.5.0\",\n    \"run-sequence\": \"^1.1.5\",\n    \"sinon\": \"^1.17.2\",\n    \"sinon-chai\": \"^2.8.0\",\n    \"underscore\": \"1.8 - 1.8.3\"\n  }\n}\n","//Internal utility for creating context style global utils\nvar proxy = function(method) {\n  return function(context, ...args) {\n    return method.apply(context, args);\n  };\n};\n\nexport default proxy;\n","// Marionette.extend\n// -----------------\n\nimport Backbone from 'backbone';\n\n// Borrow the Backbone `extend` method so we can use it as needed\nvar extend = Backbone.Model.extend;\n\nexport default extend;\n","// Marionette.isNodeAttached\n// -------------------------\n\nimport Backbone from 'backbone';\n\n// Determine if `el` is a child of the document\nvar isNodeAttached = function(el) {\n  return Backbone.$.contains(document.documentElement, el);\n};\n\nexport default isNodeAttached;\n","import _ from 'underscore';\n\n// Merge `keys` from `options` onto `this`\nvar mergeOptions = function(options, keys) {\n  if (!options) { return; }\n  _.extend(this, _.pick(options, keys));\n};\n\nexport default mergeOptions;\n","// Marionette.getOption\n// --------------------\n\n// Retrieve an object, function or other value from the\n// object or its `options`, with `options` taking precedence.\nvar getOption = function(optionName) {\n  if (!optionName) { return; }\n  if (this.options && (this.options[optionName] !== undefined)) {\n    return this.options[optionName];\n  } else {\n    return this[optionName];\n  }\n};\n\nexport default getOption;\n","import _ from 'underscore';\n\n// Marionette.normalizeMethods\n// ----------------------\n\n// Pass in a mapping of events => functions or function names\n// and return a mapping of events => functions\nvar normalizeMethods = function(hash) {\n  return _.reduce(hash, (normalizedHash, method, name) => {\n    if (!_.isFunction(method)) {\n      method = this[method];\n    }\n    if (method) {\n      normalizedHash[name] = method;\n    }\n    return normalizedHash;\n  }, {});\n};\n\nexport default normalizeMethods;\n","/* global console */\n\nimport _ from 'underscore';\n\nimport Marionette from '../backbone.marionette';\n\nvar deprecate = function(message, test) {\n  if (_.isObject(message)) {\n    message = (\n      message.prev + ' is going to be removed in the future. ' +\n      'Please use ' + message.next + ' instead.' +\n      (message.url ? ' See: ' + message.url : '')\n    );\n  }\n\n  if (!Marionette.DEV_MODE) {\n    return;\n  }\n\n  if ((test === undefined || !test) && !deprecate._cache[message]) {\n    deprecate._warn('Deprecation warning: ' + message);\n    deprecate._cache[message] = true;\n  }\n};\n\ndeprecate._console = typeof console !== 'undefined' ? console : {};\ndeprecate._warn = function() {\n  var warn = deprecate._console.warn || deprecate._console.log || function() {};\n  return warn.apply(deprecate._console, arguments);\n};\ndeprecate._cache = {};\n\nexport default deprecate;\n","// Trigger Method\n// --------------\n\nimport _         from 'underscore';\nimport getOption from './utils/getOption';\n\n// split the event name on the \":\"\nvar splitter = /(^|:)(\\w)/gi;\n\n// take the event section (\"section1:section2:section3\")\n// and turn it in to uppercase name onSection1Section2Section3\nfunction getEventName(match, prefix, eventName) {\n  return eventName.toUpperCase();\n}\n\n// Trigger an event and/or a corresponding method name. Examples:\n//\n// `this.triggerMethod(\"foo\")` will trigger the \"foo\" event and\n// call the \"onFoo\" method.\n//\n// `this.triggerMethod(\"foo:bar\")` will trigger the \"foo:bar\" event and\n// call the \"onFooBar\" method.\nexport function triggerMethod(event, ...args) {\n  // get the method name from the event name\n  var methodName = 'on' + event.replace(splitter, getEventName);\n  var method = getOption.call(this, methodName);\n  var result;\n\n  // call the onMethodName if it exists\n  if (_.isFunction(method)) {\n    // pass all args, except the event name\n    result = method.apply(this, args);\n  }\n\n  // trigger the event\n  this.trigger(event, ...args);\n\n  return result;\n}\n\n// triggerMethodOn invokes triggerMethod on a specific context\n//\n// e.g. `Marionette.triggerMethodOn(view, 'show')`\n// will trigger a \"show\" event or invoke onShow the view.\nexport function triggerMethodOn(context, ...args) {\n  var fnc = _.isFunction(context.triggerMethod) ? context.triggerMethod : triggerMethod;\n  return fnc.apply(context, args);\n}\n","// DOM Refresh\n// -----------\n\nimport { triggerMethodOn } from './trigger-method';\nimport _ from 'underscore';\n\n// Trigger method on children unless a pure Backbone.View\nfunction triggerMethodChildren(view, event, shouldTrigger) {\n  if (!view._getImmediateChildren) { return; }\n  _.each(view._getImmediateChildren(), child => {\n    if (!shouldTrigger(child)) { return; }\n    triggerMethodOn(child, event, child);\n  });\n}\n\nfunction shouldTriggerAttach(view) {\n  return !view._isAttached;\n}\n\nfunction shouldAttach(view) {\n  if (!shouldTriggerAttach(view)) { return false; }\n  view._isAttached = true;\n  return true;\n}\n\nfunction shouldTriggerDetach(view) {\n  return view._isAttached;\n}\n\nfunction shouldDetach(view) {\n  if (!shouldTriggerDetach(view)) { return false; }\n  view._isAttached = false;\n  return true;\n}\n\n// Monitor a view's state, propagating attach/detach events to children and firing dom:refresh\n// whenever a rendered view is attached or an attached view is rendered.\nfunction monitorViewEvents(view) {\n  if (view._areViewEventsMonitored) { return; }\n\n  view._areViewEventsMonitored = true;\n\n  function handleBeforeAttach() {\n    triggerMethodChildren(view, 'before:attach', shouldTriggerAttach);\n  }\n\n  function handleAttach() {\n    triggerMethodChildren(view, 'attach', shouldAttach);\n    triggerDOMRefresh();\n  }\n\n  function handleBeforeDetach() {\n    triggerMethodChildren(view, 'before:detach', shouldTriggerDetach);\n  }\n\n  function handleDetach() {\n    triggerMethodChildren(view, 'detach', shouldDetach);\n  }\n\n  function handleRender() {\n    triggerDOMRefresh();\n  }\n\n  function triggerDOMRefresh() {\n    if (view._isAttached && view._isRendered) {\n      triggerMethodOn(view, 'dom:refresh', view);\n    }\n  }\n\n  view.on({\n    'before:attach': handleBeforeAttach,\n    'attach': handleAttach,\n    'before:detach': handleBeforeDetach,\n    'detach': handleDetach,\n    'render': handleRender\n  });\n}\n\nexport default monitorViewEvents;\n","import _ from 'underscore';\n\n// Internal utility for setting options consistently across Mn\nvar _setOptions = function(...args) {\n  this.options = _.extend({}, _.result(this, 'options'), ...args);\n};\n\nexport default _setOptions;\n","// Error\n// -----\n\nimport _      from 'underscore';\nimport extend from './utils/extend';\nimport {version} from '../package.json';\n\nvar errorProps = ['description', 'fileName', 'lineNumber', 'name', 'message', 'number'];\n\nvar MarionetteError = extend.call(Error, {\n  urlRoot: 'http://marionettejs.com/docs/v' + version + '/',\n\n  constructor: function MarionetteError(message, options) {\n    if (_.isObject(message)) {\n      options = message;\n      message = options.message;\n    } else if (!options) {\n      options = {};\n    }\n\n    var error = Error.call(this, message);\n    _.extend(this, _.pick(error, errorProps), _.pick(options, errorProps));\n\n    this.captureStackTrace();\n\n    if (options.url) {\n      this.url = this.urlRoot + options.url;\n    }\n  },\n\n  captureStackTrace: function() {\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, MarionetteError);\n    }\n  },\n\n  toString: function() {\n    return this.name + ': ' + this.message + (this.url ? ' See: ' + this.url : '');\n  }\n});\n\nMarionetteError.extend = extend;\n\nexport default MarionetteError;\n","// Bind Entity Events & Unbind Entity Events\n// -----------------------------------------\n//\n// These methods are used to bind/unbind a backbone \"entity\" (e.g. collection/model)\n// to methods on a target object.\n//\n// The first parameter, `target`, must have the Backbone.Events module mixed in.\n//\n// The second parameter is the `entity` (Backbone.Model, Backbone.Collection or\n// any object that has Backbone.Events mixed in) to bind the events from.\n//\n// The third parameter is a hash of { \"event:name\": \"eventHandler\" }\n// configuration. Multiple handlers can be separated by a space. A\n// function can be supplied instead of a string handler name.\n\nimport _               from 'underscore';\nimport MarionetteError from './error';\n\n// Bind/unbind the event to handlers specified as a string of\n// handler names on the target object\nfunction bindFromStrings(target, entity, evt, methods, actionName) {\n  var methodNames = methods.split(/\\s+/);\n\n  _.each(methodNames, function(methodName) {\n    var method = target[methodName];\n    if (!method) {\n      throw new MarionetteError(`Method \"${methodName}\" was configured as an event handler, but does not exist.`);\n    }\n\n    target[actionName](entity, evt, method);\n  });\n}\n\n// generic looping function\nfunction iterateEvents(target, entity, bindings, actionName) {\n  if (!entity || !bindings) { return; }\n\n  // type-check bindings\n  if (!_.isObject(bindings)) {\n    throw new MarionetteError({\n      message: 'Bindings must be an object.',\n      url: 'marionette.functions.html#marionettebindentityevents'\n    });\n  }\n\n  // iterate the bindings and bind/unbind them\n  _.each(bindings, function(method, evt) {\n\n    // allow for a list of method names as a string\n    if (_.isString(method)) {\n      bindFromStrings(target, entity, evt, method, actionName);\n      return;\n    }\n\n    target[actionName](entity, evt, method);\n  });\n}\n\nfunction bindEntityEvents(entity, bindings) {\n  iterateEvents(this, entity, bindings, 'listenTo');\n  return this;\n}\n\nfunction unbindEntityEvents(entity, bindings) {\n  iterateEvents(this, entity, bindings, 'stopListening');\n  return this;\n}\n\n// Export Public API\nexport {\n  bindEntityEvents,\n  unbindEntityEvents\n};\n","import getOption                from '../utils/getOption';\nimport mergeOptions             from '../utils/mergeOptions';\nimport normalizeMethods         from '../utils/normalizeMethods';\nimport _setOptions              from '../utils/_setOptions';\nimport {\n  bindEntityEvents,\n  unbindEntityEvents\n}                               from '../bind-entity-events';\n\nexport default {\n\n  // Imports the \"normalizeMethods\" to transform hashes of\n  // events=>function references/names to a hash of events=>function references\n  normalizeMethods: normalizeMethods,\n\n  _setOptions: _setOptions,\n\n  // A handy way to merge passed-in options onto the instance\n  mergeOptions: mergeOptions,\n\n  // Enable getting options from this or this.options by name.\n  getOption: getOption,\n\n  // Enable binding view's events from another entity.\n  bindEntityEvents: bindEntityEvents,\n\n  // Enable unbinding view's events from another entity.\n  unbindEntityEvents: unbindEntityEvents\n};\n","// Bind/Unbind Radio Requests\n// -----------------------------------------\n//\n// These methods are used to bind/unbind a backbone.radio request\n// to methods on a target object.\n//\n// The first parameter, `target`, will set the context of the reply method\n//\n// The second parameter is the `Radio.channel` to bind the reply to.\n//\n// The third parameter is a hash of { \"request:name\": \"replyHandler\" }\n// configuration. A function can be supplied instead of a string handler name.\n\nimport _ from 'underscore';\nimport normalizeMethods from './utils/normalizeMethods';\nimport MarionetteError from './error';\n\nfunction iterateReplies(target, channel, bindings, actionName) {\n  if (!channel || !bindings) { return; }\n\n  // type-check bindings\n  if (!_.isObject(bindings)) {\n    throw new MarionetteError({\n      message: 'Bindings must be an object.',\n      url: 'marionette.functions.html#marionettebindradiorequests'\n    });\n  }\n\n  var normalizedRadioRequests = normalizeMethods.call(target, bindings);\n\n  channel[actionName](normalizedRadioRequests, target);\n}\n\nfunction bindRadioRequests(channel, bindings) {\n  iterateReplies(this, channel, bindings, 'reply');\n  return this;\n}\n\nfunction unbindRadioRequests(channel, bindings) {\n  iterateReplies(this, channel, bindings, 'stopReplying');\n  return this;\n}\n\nexport {\n  bindRadioRequests,\n  unbindRadioRequests\n};\n","import _ from 'underscore';\nimport Radio from 'backbone.radio';\n\nimport {\n  bindRadioRequests,\n  unbindRadioRequests\n} from '../bind-radio-requests';\n\nimport {\n  bindEntityEvents as bindRadioEvents,\n  unbindEntityEvents as unbindRadioEvents\n} from '../bind-entity-events';\n\n// MixinOptions\n// - channelName\n// - radioEvents\n// - radioRequests\n\nexport default {\n\n  _initRadio: function() {\n    var channelName = _.result(this, 'channelName');\n\n    if (!channelName) {\n      return;\n    }\n\n    var channel = this._channel = Radio.channel(channelName);\n\n    var radioEvents = _.result(this, 'radioEvents');\n    this.bindRadioEvents(channel, radioEvents);\n\n    var radioRequests = _.result(this, 'radioRequests');\n    this.bindRadioRequests(channel, radioRequests);\n\n    this.on('destroy', this._destroyRadio);\n  },\n\n  _destroyRadio: function() {\n    this._channel.stopReplying(null, null, this);\n  },\n\n  getChannel: function() {\n    return this._channel;\n  },\n\n  // Proxy `bindRadioEvents`\n  bindRadioEvents: bindRadioEvents,\n\n  // Proxy `unbindRadioEvents`\n  unbindRadioEvents: unbindRadioEvents,\n\n  // Proxy `bindRadioRequests`\n  bindRadioRequests: bindRadioRequests,\n\n  // Proxy `unbindRadioRequests`\n  unbindRadioRequests: unbindRadioRequests\n\n};\n","// Object\n// ------\n\nimport _ from 'underscore';\nimport Backbone from 'backbone';\nimport extend from './utils/extend';\nimport CommonMixin from './mixins/common';\nimport RadioMixin from './mixins/radio';\nimport { triggerMethod } from './trigger-method';\n\nconst ClassOptions = [\n  'channelName',\n  'radioEvents',\n  'radioRequests'\n];\n\n// A Base Class that other Classes should descend from.\n// Object borrows many conventions and utilities from Backbone.\nvar MarionetteObject = function(options) {\n  this._setOptions(options);\n  this.mergeOptions(options, ClassOptions);\n  this.cid = _.uniqueId(this.cidPrefix);\n  this._initRadio();\n  this.initialize.apply(this, arguments);\n};\n\nMarionetteObject.extend = extend;\n\n// Object Methods\n// --------------\n\n// Ensure it can trigger events with Backbone.Events\n_.extend(MarionetteObject.prototype, Backbone.Events, CommonMixin, RadioMixin, {\n  cidPrefix: 'mno',\n\n  // for parity with Marionette.AbstractView lifecyle\n  _isDestroyed: false,\n\n  isDestroyed: function() {\n    return this._isDestroyed;\n  },\n\n  //this is a noop method intended to be overridden by classes that extend from this base\n  initialize: function() {},\n\n  destroy: function(...args) {\n    if (this._isDestroyed) { return this; }\n\n    this.triggerMethod('before:destroy', this, ...args);\n\n    this._isDestroyed = true;\n    this.triggerMethod('destroy', this, ...args);\n    this.stopListening();\n\n    return this;\n  },\n\n  triggerMethod: triggerMethod\n});\n\nexport default MarionetteObject;\n","// Template Cache\n// --------------\n\nimport _               from 'underscore';\nimport Backbone        from 'backbone';\nimport MarionetteError from './error';\n\n// Manage templates stored in `<script>` blocks,\n// caching them for faster access.\nvar TemplateCache = function(templateId) {\n  this.templateId = templateId;\n};\n\n// TemplateCache object-level methods. Manage the template\n// caches from these method calls instead of creating\n// your own TemplateCache instances\n_.extend(TemplateCache, {\n  templateCaches: {},\n\n  // Get the specified template by id. Either\n  // retrieves the cached version, or loads it\n  // from the DOM.\n  get: function(templateId, options) {\n    var cachedTemplate = this.templateCaches[templateId];\n\n    if (!cachedTemplate) {\n      cachedTemplate = new TemplateCache(templateId);\n      this.templateCaches[templateId] = cachedTemplate;\n    }\n\n    return cachedTemplate.load(options);\n  },\n\n  // Clear templates from the cache. If no arguments\n  // are specified, clears all templates:\n  // `clear()`\n  //\n  // If arguments are specified, clears each of the\n  // specified templates from the cache:\n  // `clear(\"#t1\", \"#t2\", \"...\")`\n  clear: function(...args) {\n    var i;\n    var length = args.length;\n\n    if (length > 0) {\n      for (i = 0; i < length; i++) {\n        delete this.templateCaches[args[i]];\n      }\n    } else {\n      this.templateCaches = {};\n    }\n  }\n});\n\n// TemplateCache instance methods, allowing each\n// template cache object to manage its own state\n// and know whether or not it has been loaded\n_.extend(TemplateCache.prototype, {\n\n  // Internal method to load the template\n  load: function(options) {\n    // Guard clause to prevent loading this template more than once\n    if (this.compiledTemplate) {\n      return this.compiledTemplate;\n    }\n\n    // Load the template and compile it\n    var template = this.loadTemplate(this.templateId, options);\n    this.compiledTemplate = this.compileTemplate(template, options);\n\n    return this.compiledTemplate;\n  },\n\n  // Load a template from the DOM, by default. Override\n  // this method to provide your own template retrieval\n  // For asynchronous loading with AMD/RequireJS, consider\n  // using a template-loader plugin as described here:\n  // https://github.com/marionettejs/backbone.marionette/wiki/Using-marionette-with-requirejs\n  loadTemplate: function(templateId, options) {\n    var $template = Backbone.$(templateId);\n\n    if (!$template.length) {\n      throw new MarionetteError({\n        name: 'NoTemplateError',\n        message: 'Could not find template: \"' + templateId + '\"'\n      });\n    }\n    return $template.html();\n  },\n\n  // Pre-compile the template before caching it. Override\n  // this method if you do not need to pre-compile a template\n  // (JST / RequireJS for example) or if you want to change\n  // the template engine used (Handebars, etc).\n  compileTemplate: function(rawTemplate, options) {\n    return _.template(rawTemplate, options);\n  }\n});\n\nexport default TemplateCache;\n","// Renderer\n// --------\n\nimport _               from 'underscore';\nimport MarionetteError from './error';\nimport TemplateCache   from './template-cache';\n\n// Render a template with data by passing in the template\n// selector and the data to render.\nvar Renderer = {\n\n  // Render a template with data. The `template` parameter is\n  // passed to the `TemplateCache` object to retrieve the\n  // template function. Override this method to provide your own\n  // custom rendering and template handling for all of Marionette.\n  render: function(template, data) {\n    if (!template) {\n      throw new MarionetteError({\n        name: 'TemplateNotFoundError',\n        message: 'Cannot render the template since its false, null or undefined.'\n      });\n    }\n\n    var templateFunc = _.isFunction(template) ? template : TemplateCache.get(template);\n\n    return templateFunc(data);\n  }\n};\n\nexport default Renderer;\n","// Implementation of the invoke method (http://underscorejs.org/#invoke) with support for\n// lodash v3, v4, and underscore.js\nimport _ from 'underscore';\n\nexport default _.invokeMap || _.invoke;\n","import _                        from 'underscore';\nimport _invoke                  from '../utils/_invoke';\nimport { triggerMethod }        from '../trigger-method';\nimport Marionette               from '../backbone.marionette';\n\n// MixinOptions\n// - behaviors\n\n// Takes care of getting the behavior class\n// given options and a key.\n// If a user passes in options.behaviorClass\n// default to using that.\n// If a user passes in a Behavior Class directly, use that\n// Otherwise delegate the lookup to the users `behaviorsLookup` implementation.\nfunction getBehaviorClass(options, key) {\n  if (options.behaviorClass) {\n    return options.behaviorClass;\n    //treat functions as a Behavior constructor\n  } else if (_.isFunction(options)) {\n    return options;\n  }\n\n  // behaviorsLookup can be either a flat object or a method\n  if (_.isFunction(Marionette.Behaviors.behaviorsLookup)) {\n    return Marionette.Behaviors.behaviorsLookup(options, key)[key];\n  }\n\n  return Marionette.Behaviors.behaviorsLookup[key];\n}\n\n// Iterate over the behaviors object, for each behavior\n// instantiate it and get its grouped behaviors.\n// This accepts a list of behaviors in either an object or array form\nfunction parseBehaviors(view, behaviors) {\n  return _.chain(behaviors).map(function(options, key) {\n    var BehaviorClass = getBehaviorClass(options, key);\n    //if we're passed a class directly instead of an object\n    var _options = options === BehaviorClass ? {} : options;\n    var behavior = new BehaviorClass(_options, view);\n    var nestedBehaviors = parseBehaviors(view, _.result(behavior, 'behaviors'));\n\n    return [behavior].concat(nestedBehaviors);\n  }).flatten().value();\n}\n\nexport default {\n  _initBehaviors: function() {\n    var behaviors = _.result(this, 'behaviors');\n\n    // Behaviors defined on a view can be a flat object literal\n    // or it can be a function that returns an object.\n    this._behaviors = _.isObject(behaviors) ? parseBehaviors(this, behaviors) : {};\n  },\n\n  _getBehaviorTriggers: function() {\n    var triggers = _invoke(this._behaviors, 'getTriggers');\n    return _.extend({}, ...triggers);\n  },\n\n  _getBehaviorEvents: function() {\n    var events = _invoke(this._behaviors, 'getEvents');\n    return _.extend({}, ...events);\n  },\n\n  // proxy behavior $el to the view's $el.\n  _proxyBehaviorViewProperties: function() {\n    _invoke(this._behaviors, 'proxyViewProperties');\n  },\n\n  // delegate modelEvents and collectionEvents\n  _delegateBehaviorEntityEvents: function() {\n    _invoke(this._behaviors, 'delegateEntityEvents');\n  },\n\n  // undelegate modelEvents and collectionEvents\n  _undelegateBehaviorEntityEvents: function() {\n    _invoke(this._behaviors, 'undelegateEntityEvents');\n  },\n\n  _destroyBehaviors: function(args) {\n    // Call destroy on each behavior after\n    // destroying the view.\n    // This unbinds event listeners\n    // that behaviors have registered for.\n    _invoke(this._behaviors, 'destroy', ...args);\n  },\n\n  _bindBehaviorUIElements: function() {\n    _invoke(this._behaviors, 'bindUIElements');\n  },\n\n  _unbindBehaviorUIElements: function() {\n    _invoke(this._behaviors, 'unbindUIElements');\n  },\n\n  _triggerEventOnBehaviors: function(...args) {\n    var behaviors = this._behaviors;\n    // Use good ol' for as this is a very hot function\n    for (var i = 0, length = behaviors && behaviors.length; i < length; i++) {\n      triggerMethod.apply(behaviors[i], args);\n    }\n  }\n};\n","import _ from 'underscore';\n\nimport {\n  bindEntityEvents,\n  unbindEntityEvents\n} from '../bind-entity-events';\n\n// MixinOptions\n// - collectionEvents\n// - modelEvents\n\nexport default {\n  // Handle `modelEvents`, and `collectionEvents` configuration\n  _delegateEntityEvents: function(model, collection) {\n    this._undelegateEntityEvents(model, collection);\n\n    var modelEvents = _.result(this, 'modelEvents');\n    bindEntityEvents.call(this, model, modelEvents);\n\n    var collectionEvents = _.result(this, 'collectionEvents');\n    bindEntityEvents.call(this, collection, collectionEvents);\n  },\n\n  _undelegateEntityEvents: function(model, collection) {\n    var modelEvents = _.result(this, 'modelEvents');\n    unbindEntityEvents.call(this, model, modelEvents);\n\n    var collectionEvents = _.result(this, 'collectionEvents');\n    unbindEntityEvents.call(this, collection, collectionEvents);\n  }\n};\n","import _ from 'underscore';\n\n// Borrow event splitter from Backbone\nvar delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\nfunction uniqueName(eventName, selector) {\n  return [eventName + _.uniqueId('.evt'), selector].join(' ');\n}\n\n// Set event name to be namespaced using a unique index\n// to generate a non colliding event namespace\n// http://api.jquery.com/event.namespace/\nvar getUniqueEventName = function(eventName) {\n  var match = eventName.match(delegateEventSplitter);\n  return uniqueName(match[1], match[2]);\n};\n\nexport default getUniqueEventName;\n","import _ from 'underscore';\nimport getUniqueEventName from '../utils/getUniqueEventName';\n\n// Internal method to create an event handler for a given `triggerDef` like\n// 'click:foo'\nfunction buildViewTrigger(view, triggerDef) {\n  if (_.isString(triggerDef)) {\n    triggerDef = {event: triggerDef};\n  }\n\n  const eventName = triggerDef.event;\n  const shouldPreventDefault = triggerDef.preventDefault !== false;\n  const shouldStopPropagation = triggerDef.stopPropagation !== false;\n\n  return function(e) {\n    if (shouldPreventDefault) {\n      e.preventDefault();\n    }\n\n    if (shouldStopPropagation) {\n      e.stopPropagation();\n    }\n\n    view.triggerMethod(eventName, view);\n  };\n}\n\nexport default {\n\n  // Configure `triggers` to forward DOM events to view\n  // events. `triggers: {\"click .foo\": \"do:foo\"}`\n  _getViewTriggers: function(view, triggers) {\n    // Configure the triggers, prevent default\n    // action and stop propagation of DOM events\n    return _.reduce(triggers, (events, value, key) => {\n      key = getUniqueEventName(key);\n      events[key] = buildViewTrigger(view, value);\n      return events;\n    }, {});\n  }\n\n};\n","import _ from 'underscore';\n// allows for the use of the @ui. syntax within\n// a given key for triggers and events\n// swaps the @ui with the associated selector.\n// Returns a new, non-mutated, parsed events hash.\nvar normalizeUIKeys = function(hash, ui) {\n  return _.reduce(hash, function(memo, val, key) {\n    var normalizedKey = normalizeUIString(key, ui);\n    memo[normalizedKey] = val;\n    return memo;\n  }, {});\n};\n\n// utility method for parsing @ui. syntax strings\n// into associated selector\nvar normalizeUIString = function(uiString, ui) {\n  return uiString.replace(/@ui\\.[a-zA-Z_$0-9]*/g, function(r) {\n    return ui[r.slice(4)];\n  });\n};\n\n// allows for the use of the @ui. syntax within\n// a given value for regions\n// swaps the @ui with the associated selector\nvar normalizeUIValues = function(hash, ui, properties) {\n  _.each(hash, function(val, key) {\n    if (_.isString(val)) {\n      hash[key] = normalizeUIString(val, ui);\n    } else if (_.isObject(val) && _.isArray(properties)) {\n      _.extend(val, normalizeUIValues(_.pick(val, properties), ui));\n      /* Value is an object, and we got an array of embedded property names to normalize. */\n      _.each(properties, function(property) {\n        var propertyVal = val[property];\n        if (_.isString(propertyVal)) {\n          val[property] = normalizeUIString(propertyVal, ui);\n        }\n      });\n    }\n  });\n  return hash;\n};\n\nexport default {\n\n  // normalize the keys of passed hash with the views `ui` selectors.\n  // `{\"@ui.foo\": \"bar\"}`\n  normalizeUIKeys: function(hash) {\n    var uiBindings = this._getUIBindings();\n    return normalizeUIKeys(hash, uiBindings);\n  },\n\n  // normalize the values of passed hash with the views `ui` selectors.\n  // `{foo: \"@ui.bar\"}`\n  normalizeUIValues: function(hash, properties) {\n    var uiBindings = this._getUIBindings();\n    return normalizeUIValues(hash, uiBindings, properties);\n  },\n\n  _getUIBindings: function() {\n    var uiBindings = _.result(this, '_uiBindings');\n    var ui = _.result(this, 'ui');\n    return uiBindings || ui;\n  },\n\n  // This method binds the elements specified in the \"ui\" hash inside the view's code with\n  // the associated jQuery selectors.\n  _bindUIElements: function() {\n    if (!this.ui) { return; }\n\n    // store the ui hash in _uiBindings so they can be reset later\n    // and so re-rendering the view will be able to find the bindings\n    if (!this._uiBindings) {\n      this._uiBindings = this.ui;\n    }\n\n    // get the bindings result, as a function or otherwise\n    var bindings = _.result(this, '_uiBindings');\n\n    // empty the ui so we don't have anything to start with\n    this._ui = {};\n\n    // bind each of the selectors\n    _.each(bindings, (selector, key) => {\n      this._ui[key] = this.$(selector);\n    });\n\n    this.ui = this._ui;\n  },\n\n  _unbindUIElements: function() {\n    if (!this.ui || !this._uiBindings) { return; }\n\n    // delete all of the existing ui bindings\n    _.each(this.ui, ($el, name) => {\n      delete this.ui[name];\n    });\n\n    // reset the ui element to the original bindings configuration\n    this.ui = this._uiBindings;\n    delete this._uiBindings;\n    delete this._ui;\n  },\n\n  _getUI: function(name) {\n    return this._ui[name];\n  }\n};\n","// ViewMixin\n//  ---------\n\nimport Backbone from 'backbone';\nimport _ from 'underscore';\nimport isNodeAttached from '../utils/isNodeAttached';\nimport MarionetteError from '../error';\nimport BehaviorsMixin from './behaviors';\nimport CommonMixin from './common';\nimport DelegateEntityEventsMixin from './delegate-entity-events';\nimport TriggersMixin from './triggers';\nimport UIMixin from './ui';\nimport View from '../view';\nimport { triggerMethod } from '../trigger-method';\n\n// MixinOptions\n// - behaviors\n// - childViewEventPrefix\n// - childViewEvents\n// - childViewTriggers\n// - collectionEvents\n// - modelEvents\n// - triggers\n// - ui\n\n\nconst ViewMixin = {\n  supportsRenderLifecycle: true,\n  supportsDestroyLifecycle: true,\n\n  _isDestroyed: false,\n\n  isDestroyed() {\n    return !!this._isDestroyed;\n  },\n\n  _isRendered: false,\n\n  isRendered() {\n    return !!this._isRendered;\n  },\n\n  _isAttached: false,\n\n  isAttached() {\n    return !!this._isAttached;\n  },\n\n  // Overriding Backbone.View's `setElement` to handle\n  // if an el was previously defined. If so, the view might be\n  // rendered or attached on setElement.\n  setElement() {\n    const hasEl = !!this.el;\n\n    Backbone.View.prototype.setElement.apply(this, arguments);\n\n    if (hasEl) {\n      this._isRendered = !!this.$el.length;\n      this._isAttached = isNodeAttached(this.el);\n    }\n\n    return this;\n  },\n\n  // Overriding Backbone.View's `delegateEvents` to handle\n  // `events` and `triggers`\n  delegateEvents(eventsArg) {\n\n    this._proxyBehaviorViewProperties();\n    this._buildEventProxies();\n\n    const viewEvents = this._getEvents(eventsArg);\n\n    if (typeof eventsArg === 'undefined') {\n      this.events = viewEvents;\n    }\n\n    const combinedEvents = _.extend({},\n      this._getBehaviorEvents(),\n      viewEvents,\n      this._getBehaviorTriggers(),\n      this.getTriggers()\n    );\n\n    Backbone.View.prototype.delegateEvents.call(this, combinedEvents);\n\n    return this;\n  },\n\n  _getEvents: function(eventsArg) {\n    const events = eventsArg || this.events;\n\n    if (_.isFunction(events)) {\n      return this.normalizeUIKeys(events());\n    }\n\n    return this.normalizeUIKeys(events);\n  },\n\n  // Configure `triggers` to forward DOM events to view\n  // events. `triggers: {\"click .foo\": \"do:foo\"}`\n  getTriggers() {\n    if (!this.triggers) { return; }\n\n    // Allow `triggers` to be configured as a function\n    const triggers = this.normalizeUIKeys(_.result(this, 'triggers'));\n\n    // Configure the triggers, prevent default\n    // action and stop propagation of DOM events\n    return this._getViewTriggers(this, triggers);\n  },\n\n  // Handle `modelEvents`, and `collectionEvents` configuration\n  delegateEntityEvents() {\n    this._delegateEntityEvents(this.model, this.collection);\n\n    // bind each behaviors model and collection events\n    this._delegateBehaviorEntityEvents();\n\n    return this;\n  },\n\n  // Handle unbinding `modelEvents`, and `collectionEvents` configuration\n  undelegateEntityEvents() {\n    this._undelegateEntityEvents(this.model, this.collection);\n\n    // unbind each behaviors model and collection events\n    this._undelegateBehaviorEntityEvents();\n\n    return this;\n  },\n\n  // Internal helper method to verify whether the view hasn't been destroyed\n  _ensureViewIsIntact() {\n    if (this._isDestroyed) {\n      throw new MarionetteError({\n        name: 'ViewDestroyedError',\n        message: 'View (cid: \"' + this.cid + '\") has already been destroyed and cannot be used.'\n      });\n    }\n  },\n\n  // Handle destroying the view and its children.\n  destroy(...args) {\n    if (this._isDestroyed) { return this; }\n    const shouldTriggerDetach = !!this._isAttached;\n\n    this.triggerMethod('before:destroy', this, ...args);\n    if (shouldTriggerDetach) {\n      this.triggerMethod('before:detach', this);\n    }\n\n    // unbind UI elements\n    this.unbindUIElements();\n\n    // remove the view from the DOM\n    // https://github.com/jashkenas/backbone/blob/1.2.3/backbone.js#L1235\n    this._removeElement();\n\n    if (shouldTriggerDetach) {\n      this._isAttached = false;\n      this.triggerMethod('detach', this);\n    }\n\n    // remove children after the remove to prevent extra paints\n    this._removeChildren();\n\n    this._destroyBehaviors(args);\n\n    this._isDestroyed = true;\n    this._isRendered = false;\n    this.triggerMethod('destroy', this, ...args);\n\n    this.stopListening();\n\n    return this;\n  },\n\n  bindUIElements() {\n    this._bindUIElements();\n    this._bindBehaviorUIElements();\n\n    return this;\n  },\n\n  // This method unbinds the elements specified in the \"ui\" hash\n  unbindUIElements() {\n    this._unbindUIElements();\n    this._unbindBehaviorUIElements();\n\n    return this;\n  },\n\n  getUI(name) {\n    this._ensureViewIsIntact();\n    return this._getUI(name);\n  },\n\n  // used as the prefix for child view events\n  // that are forwarded through the layoutview\n  childViewEventPrefix: 'childview',\n\n  // import the `triggerMethod` to trigger events with corresponding\n  // methods if the method exists\n  triggerMethod(...args) {\n    const ret = triggerMethod.apply(this, args);\n\n    this._triggerEventOnBehaviors(...args);\n    this._triggerEventOnParentLayout(...args);\n\n    return ret;\n  },\n\n  // Cache `childViewEvents` and `childViewTriggers`\n  _buildEventProxies: function() {\n    this._childViewEvents = _.result(this, 'childViewEvents');\n    this._childViewTriggers = _.result(this, 'childViewTriggers');\n  },\n\n  _triggerEventOnParentLayout(eventName, ...args) {\n    const layoutView = this._parentView();\n    if (!layoutView) {\n      return;\n    }\n\n    // invoke triggerMethod on parent view\n    const eventPrefix = _.result(layoutView, 'childViewEventPrefix');\n    const prefixedEventName = eventPrefix + ':' + eventName;\n\n    layoutView.triggerMethod(prefixedEventName, ...args);\n\n    // use the parent view's childViewEvents handler\n    const childViewEvents = layoutView.normalizeMethods(layoutView._childViewEvents);\n\n    if (!!childViewEvents && _.isFunction(childViewEvents[eventName])) {\n      childViewEvents[eventName].apply(layoutView, args);\n    }\n\n    // use the parent view's proxyEvent handlers\n    const childViewTriggers = layoutView._childViewTriggers;\n\n    // Call the event with the proxy name on the parent layout\n    if (childViewTriggers && _.isString(childViewTriggers[eventName])) {\n      layoutView.triggerMethod(childViewTriggers[eventName], ...args);\n    }\n  },\n\n  // Walk the _parent tree until we find a view (if one exists).\n  // Returns the parent view hierarchically closest to this view.\n  _parentView() {\n    let parent = this._parent;\n\n    while (parent) {\n      if (parent instanceof View) {\n        return parent;\n      }\n      parent = parent._parent;\n    }\n  }\n};\n\n_.extend(ViewMixin, BehaviorsMixin, CommonMixin, DelegateEntityEventsMixin, TriggersMixin,  UIMixin);\n\nexport default ViewMixin;\n","import { triggerMethodOn } from '../trigger-method';\n\nexport default function destroyBackboneView(view) {\n  if (!view.supportsDestroyLifecycle) {\n    triggerMethodOn(view, 'before:destroy', view);\n  }\n\n  const shouldTriggerDetach = !!view._isAttached;\n\n  if (shouldTriggerDetach) {\n    triggerMethodOn(view, 'before:detach', view);\n  }\n\n  view.remove();\n\n  if (shouldTriggerDetach) {\n    view._isAttached = false;\n    triggerMethodOn(view, 'detach', view);\n  }\n\n  view._isDestroyed = true;\n\n  if (!view.supportsDestroyLifecycle) {\n    triggerMethodOn(view, 'destroy', view);\n  }\n}\n","// Region\n// ------\n\nimport _ from 'underscore';\nimport Backbone from 'backbone';\nimport isNodeAttached from './utils/isNodeAttached';\nimport MarionetteObject from './object';\nimport MarionetteError from './error';\nimport monitorViewEvents from './monitor-view-events';\nimport destroyBackboneView from './utils/destroyBackboneView';\nimport { triggerMethodOn } from './trigger-method';\n\nconst ClassOptions = [\n  'allowMissingEl',\n  'parentEl',\n  'replaceElement'\n];\n\nconst Region = MarionetteObject.extend({\n  cidPrefix: 'mnr',\n  replaceElement: false,\n  _isReplaced: false,\n\n  constructor(options) {\n    this._setOptions(options);\n\n    this.mergeOptions(options, ClassOptions);\n\n    // getOption necessary because options.el may be passed as undefined\n    this._initEl = this.el = this.getOption('el');\n\n    // Handle when this.el is passed in as a $ wrapped element.\n    this.el = this.el instanceof Backbone.$ ? this.el[0] : this.el;\n\n    if (!this.el) {\n      throw new MarionetteError({\n        name: 'NoElError',\n        message: 'An \"el\" must be specified for a region.'\n      });\n    }\n\n    this.$el = this.getEl(this.el);\n    MarionetteObject.call(this, options);\n  },\n\n  // Displays a backbone view instance inside of the region. Handles calling the `render`\n  // method for you. Reads content directly from the `el` attribute. The `preventDestroy`\n  // option can be used to prevent a view from the old view being destroyed on show.\n  show(view, options) {\n    if (!this._ensureElement(options)) {\n      return;\n    }\n    this._ensureView(view);\n    if (view === this.currentView) { return this; }\n\n    this.triggerMethod('before:show', this, view, options);\n\n    monitorViewEvents(view);\n\n    this.empty(options);\n\n    // We need to listen for if a view is destroyed in a way other than through the region.\n    // If this happens we need to remove the reference to the currentView since once a view\n    // has been destroyed we can not reuse it.\n    view.on('destroy', this.empty, this);\n\n    // Make this region the view's parent.\n    // It's important that this parent binding happens before rendering so that any events\n    // the child may trigger during render can also be triggered on the child's ancestor views.\n    view._parent = this;\n\n    this._renderView(view);\n\n    this._attachView(view, options);\n\n    this.triggerMethod('show', this, view, options);\n    return this;\n  },\n\n  _renderView(view) {\n    if (view._isRendered) {\n      return;\n    }\n\n    if (!view.supportsRenderLifecycle) {\n      triggerMethodOn(view, 'before:render', view);\n    }\n\n    view.render();\n\n    if (!view.supportsRenderLifecycle) {\n      view._isRendered = true;\n      triggerMethodOn(view, 'render', view);\n    }\n  },\n\n  _attachView(view, options = {}) {\n    const shouldTriggerAttach = !view._isAttached && isNodeAttached(this.el);\n    const shouldReplaceEl = typeof options.replaceElement === 'undefined' ? !!_.result(this, 'replaceElement') : !!options.replaceElement;\n\n    if (shouldTriggerAttach) {\n      triggerMethodOn(view, 'before:attach', view);\n    }\n\n    this.attachHtml(view, shouldReplaceEl);\n\n    if (shouldTriggerAttach) {\n      view._isAttached = true;\n      triggerMethodOn(view, 'attach', view);\n    }\n\n    this.currentView = view;\n  },\n\n  _ensureElement(options = {}) {\n    if (!_.isObject(this.el)) {\n      this.$el = this.getEl(this.el);\n      this.el = this.$el[0];\n    }\n\n    if (!this.$el || this.$el.length === 0) {\n      const allowMissingEl = typeof options.allowMissingEl === 'undefined' ? !!_.result(this, 'allowMissingEl') : !!options.allowMissingEl;\n\n      if (allowMissingEl) {\n        return false;\n      } else {\n        throw new MarionetteError(`An \"el\" must exist in DOM for this region ${this.cid}`);\n      }\n    }\n    return true;\n  },\n\n  _ensureView(view) {\n    if (!view) {\n      throw new MarionetteError({\n        name: 'ViewNotValid',\n        message: 'The view passed is undefined and therefore invalid. You must pass a view instance to show.'\n      });\n    }\n\n    if (view._isDestroyed) {\n      throw new MarionetteError({\n        name: 'ViewDestroyedError',\n        message: 'View (cid: \"' + view.cid + '\") has already been destroyed and cannot be used.'\n      });\n    }\n  },\n\n  // Override this method to change how the region finds the DOM element that it manages. Return\n  // a jQuery selector object scoped to a provided parent el or the document if none exists.\n  getEl(el) {\n    return Backbone.$(el, _.result(this, 'parentEl'));\n  },\n\n  _replaceEl(view) {\n    // always restore the el to ensure the regions el is present before replacing\n    this._restoreEl();\n\n    const parent = this.el.parentNode;\n\n    parent.replaceChild(view.el, this.el);\n    this._isReplaced = true;\n  },\n\n  // Restore the region's element in the DOM.\n  _restoreEl() {\n    if (!this.currentView) {\n      return;\n    }\n\n    const view = this.currentView;\n    const parent = view.el.parentNode;\n\n    if (!parent) {\n      return;\n    }\n\n    parent.replaceChild(this.el, view.el);\n    this._isReplaced = false;\n  },\n\n  isReplaced() {\n    return !!this._isReplaced;\n  },\n\n  // Override this method to change how the new view is appended to the `$el` that the\n  // region is managing\n  attachHtml(view, shouldReplace) {\n    if (shouldReplace) {\n      // replace the region's node with the view's node\n      this._replaceEl(view);\n    } else {\n      this.el.appendChild(view.el);\n    }\n  },\n\n  // Destroy the current view, if there is one. If there is no current view, it does\n  // nothing and returns immediately.\n  empty(options = { allowMissingEl: true }) {\n    const view = this.currentView;\n\n    // If there is no view in the region we should only detach current html\n    if (!view) {\n      if (this._ensureElement(options)) {\n        this.detachHtml();\n      }\n      return this;\n    }\n\n    view.off('destroy', this.empty, this);\n    this.triggerMethod('before:empty', this, view);\n\n    if (this._isReplaced) {\n      this._restoreEl();\n    }\n\n    delete this.currentView;\n\n    if (!view._isDestroyed) {\n      this._removeView(view, options);\n    }\n\n    delete view._parent;\n\n    this.triggerMethod('empty', this, view);\n    return this;\n  },\n\n  _removeView(view, {preventDestroy} = {}) {\n    const shouldPreventDestroy = !!preventDestroy;\n\n    if (shouldPreventDestroy) {\n      this._detachView(view);\n      return;\n    }\n\n    if (view.destroy) {\n      view.destroy();\n    } else {\n      destroyBackboneView(view);\n    }\n  },\n\n  _detachView(view) {\n    const shouldTriggerDetach = !!view._isAttached;\n\n    if (shouldTriggerDetach) {\n      triggerMethodOn(view, 'before:detach', view);\n    }\n\n    this.detachHtml();\n\n    if (shouldTriggerDetach) {\n      view._isAttached = false;\n      triggerMethodOn(view, 'detach', view);\n    }\n  },\n\n  // Override this method to change how the region detaches current content\n  detachHtml() {\n    this.$el.contents().detach();\n  },\n\n  // Checks whether a view is currently present within the region. Returns `true` if there is\n  // and `false` if no view is present.\n  hasView() {\n    return !!this.currentView;\n  },\n\n  // Reset the region by destroying any existing view and clearing out the cached `$el`.\n  // The next time a view is shown via this region, the region will re-query the DOM for\n  // the region's `el`.\n  reset(options) {\n    this.empty(options);\n\n    if (this.$el) {\n      this.el = this._initEl;\n    }\n\n    delete this.$el;\n    return this;\n  },\n\n  destroy: function(options) {\n    this.reset(options);\n    return MarionetteObject.prototype.destroy.apply(this, arguments);\n  }\n});\n\nexport default Region;\n","import _                    from 'underscore';\nimport _invoke              from '../utils/_invoke';\nimport Region               from '../region';\nimport MarionetteError      from '../error';\n\n// MixinOptions\n// - regions\n// - regionClass\n\nexport default {\n  regionClass: Region,\n\n  // Internal method to initialize the regions that have been defined in a\n  // `regions` attribute on this View.\n  _initRegions: function() {\n\n    // init regions hash\n    this.regions =  this.regions || {};\n    this._regions = {};\n\n    this.addRegions(_.result(this, 'regions'));\n  },\n\n  // Internal method to re-initialize all of the regions by updating\n  // the `el` that they point to\n  _reInitRegions: function() {\n    _invoke(this._regions, 'reset');\n  },\n\n  // Add a single region, by name, to the View\n  addRegion: function(name, definition) {\n    var regions = {};\n    regions[name] = definition;\n    return this.addRegions(regions)[name];\n  },\n\n  // Add multiple regions as a {name: definition, name2: def2} object literal\n  addRegions: function(regions) {\n    // If there's nothing to add, stop here.\n    if (_.isEmpty(regions)) {\n      return;\n    }\n\n    // Normalize region selectors hash to allow\n    // a user to use the @ui. syntax.\n    regions = this.normalizeUIValues(regions, ['selector', 'el']);\n\n    // Add the regions definitions to the regions property\n    this.regions = _.extend({}, this.regions, regions);\n\n    return this._addRegions(regions);\n  },\n\n  // internal method to build and add regions\n  _addRegions: function(regionDefinitions) {\n    return _.reduce(regionDefinitions, (regions, definition, name) => {\n      regions[name] = this._buildRegion(definition);\n      this._addRegion(regions[name], name);\n      return regions;\n    }, {});\n  },\n\n  // return the region instance from the definition\n  _buildRegion: function(definition) {\n    if (definition instanceof Region) {\n      return definition;\n    }\n\n    return this._buildRegionFromDefinition(definition);\n  },\n\n  _buildRegionFromDefinition: function(definition) {\n    if (_.isString(definition)) {\n      return this._buildRegionFromObject({el: definition});\n    }\n\n    if (_.isFunction(definition)) {\n      return this._buildRegionFromRegionClass(definition);\n    }\n\n    if (_.isObject(definition)) {\n      return this._buildRegionFromObject(definition);\n    }\n\n    throw new MarionetteError({\n      message: 'Improper region configuration type.',\n      url: 'marionette.region.html#region-configuration-types'\n    });\n  },\n\n  _buildRegionFromObject: function(definition) {\n    var RegionClass = definition.regionClass || this.regionClass;\n\n    var options = _.omit(definition, 'regionClass');\n\n    _.defaults(options, {\n      el: definition.selector,\n      parentEl: _.partial(_.result, this, 'el')\n    });\n\n    return new RegionClass(options);\n  },\n\n  // Build the region directly from a given `RegionClass`\n  _buildRegionFromRegionClass: function(RegionClass) {\n    return new RegionClass({\n      parentEl: _.partial(_.result, this, 'el')\n    });\n  },\n\n  _addRegion: function(region, name) {\n    this.triggerMethod('before:add:region', this, name, region);\n\n    region._parent = this;\n\n    this._regions[name] = region;\n\n    this.triggerMethod('add:region', this, name, region);\n  },\n\n  // Remove a single region from the View, by name\n  removeRegion: function(name) {\n    var region = this._regions[name];\n\n    this._removeRegion(region, name);\n\n    return region;\n  },\n\n  // Remove all regions from the View\n  removeRegions: function() {\n    var regions = this.getRegions();\n\n    _.each(this._regions, _.bind(this._removeRegion, this));\n\n    return regions;\n  },\n\n  _removeRegion: function(region, name) {\n    this.triggerMethod('before:remove:region', this, name, region);\n\n    region.empty();\n    region.stopListening();\n\n    delete this.regions[name];\n    delete this._regions[name];\n\n    this.triggerMethod('remove:region', this, name, region);\n  },\n\n  // Empty all regions in the region manager, but\n  // leave them attached\n  emptyRegions: function() {\n    var regions = this.getRegions();\n    _invoke(regions, 'empty');\n    return regions;\n  },\n\n  // Checks to see if view contains region\n  // Accepts the region name\n  // hasRegion('main')\n  hasRegion: function(name) {\n    return !!this.getRegion(name);\n  },\n\n  // Provides access to regions\n  // Accepts the region name\n  // getRegion('main')\n  getRegion: function(name) {\n    return this._regions[name];\n  },\n\n  // Get all regions\n  getRegions: function() {\n    return _.clone(this._regions);\n  },\n\n  showChildView: function(name, view, ...args) {\n    var region = this.getRegion(name);\n    return region.show(view, ...args);\n  },\n\n  getChildView: function(name) {\n    return this.getRegion(name).currentView;\n  }\n\n};\n","// View\n// ---------\n\nimport _                  from 'underscore';\nimport Backbone           from 'backbone';\nimport ViewMixin          from './mixins/view';\nimport RegionsMixin       from './mixins/regions';\nimport monitorViewEvents  from './monitor-view-events';\nimport Renderer           from './renderer';\n\nconst ClassOptions = [\n  'behaviors',\n  'childViewEventPrefix',\n  'childViewEvents',\n  'childViewTriggers',\n  'collectionEvents',\n  'events',\n  'modelEvents',\n  'regionClass',\n  'regions',\n  'template',\n  'templateContext',\n  'triggers',\n  'ui'\n];\n\n// The standard view. Includes view events, automatic rendering\n// of Underscore templates, nested views, and more.\nconst View = Backbone.View.extend({\n\n  constructor(options) {\n    this.render = _.bind(this.render, this);\n\n    this._setOptions(options);\n\n    this.mergeOptions(options, ClassOptions);\n\n    monitorViewEvents(this);\n\n    this._initBehaviors();\n    this._initRegions();\n\n    const args = Array.prototype.slice.call(arguments);\n    args[0] = this.options;\n    Backbone.View.prototype.constructor.apply(this, args);\n\n    this.delegateEntityEvents();\n  },\n\n  // Serialize the view's model *or* collection, if\n  // it exists, for the template\n  serializeData() {\n    if (!this.model && !this.collection) {\n      return {};\n    }\n\n    // If we have a model, we serialize that\n    if (this.model) {\n      return this.serializeModel();\n    }\n\n    // Otherwise, we serialize the collection,\n    // making it available under the `items` property\n    return {\n      items: this.serializeCollection()\n    };\n  },\n\n  // Prepares the special `model` property of a view\n  // for being displayed in the template. By default\n  // we simply clone the attributes. Override this if\n  // you need a custom transformation for your view's model\n  serializeModel() {\n    if (!this.model) { return {}; }\n    return _.clone(this.model.attributes);\n  },\n\n  // Serialize a collection by cloning each of\n  // its model's attributes\n  serializeCollection() {\n    if (!this.collection) { return {}; }\n    return this.collection.map(function(model) { return _.clone(model.attributes); });\n  },\n\n  // Render the view, defaulting to underscore.js templates.\n  // You can override this in your view definition to provide\n  // a very specific rendering for your view. In general, though,\n  // you should override the `Marionette.Renderer` object to\n  // change how Marionette renders views.\n  // Subsequent renders after the first will re-render all nested\n  // views.\n  render() {\n    this._ensureViewIsIntact();\n\n    this.triggerMethod('before:render', this);\n\n    // If this is not the first render call, then we need to\n    // re-initialize the `el` for each region\n    if (this._isRendered) {\n      this._reInitRegions();\n    }\n\n    this._renderTemplate();\n    this.bindUIElements();\n\n    this._isRendered = true;\n    this.triggerMethod('render', this);\n\n    return this;\n  },\n\n  // Internal method to render the template with the serialized data\n  // and template context via the `Marionette.Renderer` object.\n  _renderTemplate() {\n    const template = this.getTemplate();\n\n    // Allow template-less views\n    if (template === false) {\n      return;\n    }\n\n    // Add in entity data and template context\n    const data = this.mixinTemplateContext(this.serializeData());\n\n    // Render and add to el\n    const html = Renderer.render(template, data, this);\n    this.attachElContent(html);\n  },\n\n  // Get the template for this view\n  // instance. You can set a `template` attribute in the view\n  // definition or pass a `template: \"whatever\"` parameter in\n  // to the constructor options.\n  getTemplate() {\n    return this.template;\n  },\n\n  // Mix in template context methods. Looks for a\n  // `templateContext` attribute, which can either be an\n  // object literal, or a function that returns an object\n  // literal. All methods and attributes from this object\n  // are copies to the object passed in.\n  mixinTemplateContext: function(target = {}) {\n    const templateContext = _.result(this, 'templateContext');\n    return _.extend(target, templateContext);\n  },\n\n  // Attaches the content of a given view.\n  // This method can be overridden to optimize rendering,\n  // or to render in a non standard way.\n  //\n  // For example, using `innerHTML` instead of `$el.html`\n  //\n  // ```js\n  // attachElContent(html) {\n  //   this.el.innerHTML = html;\n  //   return this;\n  // }\n  // ```\n  attachElContent(html) {\n    this.$el.html(html);\n\n    return this;\n  },\n\n  // called by ViewMixin destroy\n  _removeChildren() {\n    this.removeRegions();\n  },\n\n  _getImmediateChildren: function() {\n    return _.chain(this.getRegions())\n      .map('currentView')\n      .compact()\n      .value();\n  }\n});\n\n_.extend(View.prototype, ViewMixin, RegionsMixin);\n\nexport default View;\n","// Collection View\n// ---------------\n\nimport _                  from 'underscore';\nimport Backbone           from 'backbone';\nimport ChildViewContainer from 'backbone.babysitter';\nimport MarionetteError    from './error';\nimport ViewMixin          from './mixins/view';\nimport monitorViewEvents  from './monitor-view-events';\nimport destroyBackboneView from './utils/destroyBackboneView';\nimport { triggerMethodOn } from './trigger-method';\n\nconst ClassOptions = [\n  'behaviors',\n  'childView',\n  'childViewEventPrefix',\n  'childViewEvents',\n  'childViewOptions',\n  'childViewTriggers',\n  'collectionEvents',\n  'events',\n  'filter',\n  'emptyView',\n  'emptyViewOptions',\n  'modelEvents',\n  'reorderOnSort',\n  'sort',\n  'triggers',\n  'ui',\n  'viewComparator'\n];\n\n// A view that iterates over a Backbone.Collection\n// and renders an individual child view for each model.\nconst CollectionView = Backbone.View.extend({\n\n  // flag for maintaining the sorted order of the collection\n  sort: true,\n\n  // constructor\n  // option to pass `{sort: false}` to prevent the `CollectionView` from\n  // maintaining the sorted order of the collection.\n  // This will fallback onto appending childView's to the end.\n  //\n  // option to pass `{comparator: compFunction()}` to allow the `CollectionView`\n  // to use a custom sort order for the collection.\n  constructor(options) {\n    this.render = _.bind(this.render, this);\n\n    this._setOptions(options);\n\n    this.mergeOptions(options, ClassOptions);\n\n    monitorViewEvents(this);\n\n    this._initBehaviors();\n    this.once('render', this._initialEvents);\n    this._initChildViewStorage();\n    this._bufferedChildren = [];\n\n    const args = Array.prototype.slice.call(arguments);\n    args[0] = this.options;\n    Backbone.View.prototype.constructor.apply(this, args);\n\n    this.delegateEntityEvents();\n  },\n\n  // Instead of inserting elements one by one into the page, it's much more performant to insert\n  // elements into a document fragment and then insert that document fragment into the page\n  _startBuffering() {\n    this._isBuffering = true;\n  },\n\n  _endBuffering() {\n    const shouldTriggerAttach = !!this._isAttached;\n    const triggerOnChildren = shouldTriggerAttach ? this._getImmediateChildren() : [];\n\n    this._isBuffering = false;\n\n    _.each(triggerOnChildren, child => {\n      triggerMethodOn(child, 'before:attach', child);\n    });\n\n    this.attachBuffer(this, this._createBuffer());\n\n    _.each(triggerOnChildren, child => {\n      child._isAttached = true;\n      triggerMethodOn(child, 'attach', child);\n    });\n\n    this._bufferedChildren = [];\n  },\n\n  _getImmediateChildren() {\n    return _.values(this.children._views);\n  },\n\n  // Configured the initial events that the collection view binds to.\n  _initialEvents() {\n    if (this.collection) {\n      this.listenTo(this.collection, 'add', this._onCollectionAdd);\n      this.listenTo(this.collection, 'remove', this._onCollectionRemove);\n      this.listenTo(this.collection, 'reset', this.render);\n\n      if (this.sort) {\n        this.listenTo(this.collection, 'sort', this._sortViews);\n      }\n    }\n  },\n\n  // Handle a child added to the collection\n  _onCollectionAdd(child, collection, opts) {\n    // `index` is present when adding with `at` since BB 1.2; indexOf fallback for < 1.2\n    let index = opts.at !== undefined && (opts.index || collection.indexOf(child));\n\n    // When filtered or when there is no initial index, calculate index.\n    if (this.filter || index === false) {\n      index = _.indexOf(this._filteredSortedModels(index), child);\n    }\n\n    if (this._shouldAddChild(child, index)) {\n      this._destroyEmptyView();\n      const ChildView = this._getChildView(child);\n      this._addChild(child, ChildView, index);\n    }\n  },\n\n  // get the child view by model it holds, and remove it\n  _onCollectionRemove(model) {\n    const view = this.children.findByModel(model);\n    this.removeChildView(view);\n    this._checkEmpty();\n  },\n\n  // Render children views. Override this method to provide your own implementation of a\n  // render function for the collection view.\n  render() {\n    this._ensureViewIsIntact();\n    this.triggerMethod('before:render', this);\n    this._renderChildren();\n    this._isRendered = true;\n    this.triggerMethod('render', this);\n    return this;\n  },\n\n  // An efficient rendering used for filtering. Instead of modifying the whole DOM for the\n  // collection view, we are only adding or removing the related childrenViews.\n  setFilter(filter, {preventRender} = {}) {\n    const canBeRendered = this._isRendered && !this._isDestroyed;\n    const filterChanged = this.filter !== filter;\n    const shouldRender = canBeRendered && filterChanged && !preventRender;\n\n    if (shouldRender) {\n      this.triggerMethod('before:apply:filter', this);\n      const previousModels = this._filteredSortedModels();\n      this.filter = filter;\n      const models = this._filteredSortedModels();\n      this._applyModelDeltas(models, previousModels);\n      this.triggerMethod('apply:filter', this);\n    } else {\n      this.filter = filter;\n    }\n    return this;\n  },\n\n  // `removeFilter` is actually an alias for removing filters.\n  removeFilter(options) {\n    this.setFilter(null, options);\n    return this;\n  },\n\n  // Calculate and apply difference by cid between `models` and `previousModels`.\n  _applyModelDeltas(models, previousModels) {\n    const currentIds = {};\n    _.each(models, (model, index) => {\n      const addedChildNotExists = !this.children.findByModel(model);\n      if (addedChildNotExists) {\n        this._onCollectionAdd(model, this.collection, {at: index});\n      }\n      currentIds[model.cid] = true;\n    });\n    _.each(previousModels, (prevModel) => {\n      const removedChildExists = !currentIds[prevModel.cid] && this.children.findByModel(prevModel);\n      if (removedChildExists) {\n        this._onCollectionRemove(prevModel);\n      }\n    });\n  },\n\n  // Reorder DOM after sorting. When your element's rendering do not use their index,\n  // you can pass reorderOnSort: true to only reorder the DOM after a sort instead of\n  // rendering all the collectionView.\n  reorder() {\n    const children = this.children;\n    const models = this._filteredSortedModels();\n\n    if (!models.length && this._showingEmptyView) { return this; }\n\n    const anyModelsAdded = _.some(models, function(model) {\n      return !children.findByModel(model);\n    });\n\n    // If there are any new models added due to filtering we need to add child views,\n    // so render as normal.\n    if (anyModelsAdded) {\n      this.render();\n    } else {\n      // Get the DOM nodes in the same order as the models.\n      const elsToReorder = _.map(models, function(model, index) {\n        const view = children.findByModel(model);\n        view._index = index;\n        return view.el;\n      });\n\n      // Find the views that were children before but aren't in this new ordering.\n      const filteredOutViews = children.filter(function(view) {\n        return !_.contains(elsToReorder, view.el);\n      });\n\n      this.triggerMethod('before:reorder', this);\n\n      // Since append moves elements that are already in the DOM, appending the elements\n      // will effectively reorder them.\n      this._appendReorderedChildren(elsToReorder);\n\n      // remove any views that have been filtered out\n      _.each(filteredOutViews, _.bind(this.removeChildView, this));\n      this._checkEmpty();\n\n      this.triggerMethod('reorder', this);\n    }\n    return this;\n  },\n\n  // Render view after sorting. Override this method to change how the view renders\n  // after a `sort` on the collection.\n  resortView() {\n    if (this.reorderOnSort) {\n      this.reorder();\n    } else {\n      this._renderChildren();\n    }\n    return this;\n  },\n\n  // Internal method. This checks for any changes in the order of the collection.\n  // If the index of any view doesn't match, it will render.\n  _sortViews() {\n    const models = this._filteredSortedModels();\n\n    // check for any changes in sort order of views\n    const orderChanged = _.find(models, (item, index) => {\n      const view = this.children.findByModel(item);\n      return !view || view._index !== index;\n    });\n\n    if (orderChanged) {\n      this.resortView();\n    }\n  },\n\n  // Internal reference to what index a `emptyView` is.\n  _emptyViewIndex: -1,\n\n  // Internal method. Separated so that CompositeView can append to the childViewContainer\n  // if necessary\n  _appendReorderedChildren(children) {\n    this.$el.append(children);\n  },\n\n  // Internal method. Separated so that CompositeView can have more control over events\n  // being triggered, around the rendering process\n  _renderChildren() {\n    this._destroyEmptyView();\n    this._destroyChildren({checkEmpty: false});\n\n    const models = this._filteredSortedModels();\n    if (this.isEmpty({processedModels: models})) {\n      this._showEmptyView();\n    } else {\n      this.triggerMethod('before:render:children', this);\n      this._startBuffering();\n      this._showCollection(models);\n      this._endBuffering();\n      this.triggerMethod('render:children', this);\n    }\n  },\n\n  // Internal method to loop through collection and show each child view.\n  _showCollection(models) {\n    _.each(models, (child, index) => {\n      const ChildView = this._getChildView(child);\n      this._addChild(child, ChildView, index);\n    });\n  },\n\n  // Allow the collection to be sorted by a custom view comparator\n  _filteredSortedModels(addedAt) {\n    if (!this.collection) { return []; }\n\n    const viewComparator = this.getViewComparator();\n    let models = this.collection.models;\n    addedAt = Math.min(Math.max(addedAt, 0), models.length - 1);\n\n    if (viewComparator) {\n      let addedModel;\n      // Preserve `at` location, even for a sorted view\n      if (addedAt) {\n        addedModel = models[addedAt];\n        models = models.slice(0, addedAt).concat(models.slice(addedAt + 1));\n      }\n      models = this._sortModelsBy(models, viewComparator);\n      if (addedModel) {\n        models.splice(addedAt, 0, addedModel);\n      }\n    }\n\n    // Filter after sorting in case the filter uses the index\n    models = this._filterModels(models);\n\n    return models;\n  },\n\n  getViewComparator() {\n    return this.viewComparator;\n  },\n\n  // Filter an array of models, if a filter exists\n  _filterModels(models) {\n    if (this.filter) {\n      models = _.filter(models, (model, index) => {\n        return this._shouldAddChild(model, index);\n      });\n    }\n    return models;\n  },\n\n  _sortModelsBy(models, comparator) {\n    if (typeof comparator === 'string') {\n      return _.sortBy(models, function(model) {\n        return model.get(comparator);\n      });\n    } else if (comparator.length === 1) {\n      return _.sortBy(models, _.bind(comparator, this));\n    } else {\n      return models.sort(_.bind(comparator, this));\n    }\n  },\n\n  // Internal method to show an empty view in place of a collection of child views,\n  // when the collection is empty\n  _showEmptyView() {\n    const EmptyView = this.getEmptyView();\n\n    if (EmptyView && !this._showingEmptyView) {\n      this._showingEmptyView = true;\n\n      const model = new Backbone.Model();\n      let emptyViewOptions =\n        this.emptyViewOptions || this.childViewOptions;\n      if (_.isFunction(emptyViewOptions)) {\n        emptyViewOptions = emptyViewOptions.call(this, model, this._emptyViewIndex);\n      }\n\n      const view = this.buildChildView(model, EmptyView, emptyViewOptions);\n\n      this.triggerMethod('before:render:empty', this, view);\n      this._addChildView(view, 0);\n      this.triggerMethod('render:empty', this, view);\n\n      view._parent = this;\n    }\n  },\n\n  // Internal method to destroy an existing emptyView instance if one exists. Called when\n  // a collection view has been rendered empty, and then a child is added to the collection.\n  _destroyEmptyView() {\n    if (this._showingEmptyView) {\n      this.triggerMethod('before:remove:empty', this);\n\n      this._destroyChildren();\n      delete this._showingEmptyView;\n\n      this.triggerMethod('remove:empty', this);\n    }\n  },\n\n  // Retrieve the empty view class\n  getEmptyView() {\n    return this.emptyView;\n  },\n\n  // Retrieve the `childView` class, either from `this.options.childView` or from\n  // the `childView` in the object definition. The \"options\" takes precedence.\n  // The `childView` property can be either a view class or a function that\n  // returns a view class. If it is a function, it will receive the model that\n  // will be passed to the view instance (created from the returned view class)\n  _getChildView(child) {\n    const childView = this.childView;\n\n    if (!childView) {\n      throw new MarionetteError({\n        name: 'NoChildViewError',\n        message: 'A \"childView\" must be specified'\n      });\n    }\n\n    // first check if the `childView` is a view class (the common case)\n    // then check if it's a function (which we assume that returns a view class)\n    if (childView.prototype instanceof Backbone.View || childView === Backbone.View) {\n      return childView;\n    } else if (_.isFunction(childView)) {\n      return childView.call(this, child);\n    } else {\n      throw new MarionetteError({\n        name: 'InvalidChildViewError',\n        message: '\"childView\" must be a view class or a function that returns a view class'\n      });\n    }\n  },\n\n  // Internal method for building and adding a child view\n  _addChild(child, ChildView, index) {\n    const childViewOptions = this._getChildViewOptions(child, index);\n\n    const view = this.buildChildView(child, ChildView, childViewOptions);\n\n    this.addChildView(view, index);\n\n    return view;\n  },\n\n  _getChildViewOptions(child, index) {\n    if (_.isFunction(this.childViewOptions)) {\n      return this.childViewOptions(child, index);\n    }\n\n    return this.childViewOptions;\n  },\n\n  // Render the child's view and add it to the HTML for the collection view at a given index.\n  // This will also update the indices of later views in the collection in order to keep the\n  // children in sync with the collection.\n  addChildView(view, index) {\n    this.triggerMethod('before:add:child', this, view);\n\n    // increment indices of views after this one\n    this._updateIndices(view, true, index);\n\n    view._parent = this;\n\n    this._addChildView(view, index);\n\n    this.triggerMethod('add:child', this, view);\n\n    return view;\n  },\n\n  // Internal method. This decrements or increments the indices of views after the added/removed\n  // view to keep in sync with the collection.\n  _updateIndices(view, increment, index) {\n    if (!this.sort) {\n      return;\n    }\n\n    if (increment) {\n      // assign the index to the view\n      view._index = index;\n    }\n\n    // update the indexes of views after this one\n    this.children.each(function(laterView) {\n      if (laterView._index >= view._index) {\n        laterView._index += increment ? 1 : -1;\n      }\n    });\n  },\n\n  // Internal Method. Add the view to children and render it at the given index.\n  _addChildView(view, index) {\n    // Only trigger attach if already attached and not buffering,\n    // otherwise _endBuffering() or Region#show() handles this.\n    const shouldTriggerAttach = !this._isBuffering && this._isAttached;\n\n    monitorViewEvents(view);\n\n    // set up the child view event forwarding\n    this._proxyChildEvents(view);\n\n    // Store the child view itself so we can properly remove and/or destroy it later\n    this.children.add(view);\n\n    if (!view.supportsRenderLifecycle) {\n      triggerMethodOn(view, 'before:render', view);\n    }\n\n    // Render view\n    view.render();\n\n    if (!view.supportsRenderLifecycle) {\n      view._isRendered = true;\n      triggerMethodOn(view, 'render', view);\n    }\n\n    if (shouldTriggerAttach) {\n      triggerMethodOn(view, 'before:attach', view);\n    }\n\n    // Attach view\n    this.attachHtml(this, view, index);\n\n    if (shouldTriggerAttach) {\n      view._isAttached = true;\n      triggerMethodOn(view, 'attach', view);\n    }\n  },\n\n  // Build a `childView` for a model in the collection.\n  buildChildView(child, ChildViewClass, childViewOptions) {\n    const options = _.extend({model: child}, childViewOptions);\n    return new ChildViewClass(options);\n  },\n\n  // Remove the child view and destroy it. This function also updates the indices of later views\n  // in the collection in order to keep the children in sync with the collection.\n  removeChildView(view) {\n    if (!view || view._isDestroyed) {\n      return;\n    }\n\n    this.triggerMethod('before:remove:child', this, view);\n\n    if (view.destroy) {\n      view.destroy();\n    } else {\n      destroyBackboneView(view);\n    }\n\n    delete view._parent;\n    this.stopListening(view);\n    this.children.remove(view);\n    this.triggerMethod('remove:child', this, view);\n\n    // decrement the index of views after this one\n    this._updateIndices(view, false);\n  },\n\n  // check if the collection is empty or optionally whether an array of pre-processed models is empty\n  isEmpty(options) {\n    let models;\n    if (_.result(options, 'processedModels')) {\n      models = options.processedModels;\n    } else {\n      models = this.collection ? this.collection.models : [];\n      models = this._filterModels(models);\n    }\n    return models.length === 0;\n  },\n\n  // If empty, show the empty view\n  _checkEmpty() {\n    if (this.isEmpty()) {\n      this._showEmptyView();\n    }\n  },\n\n  // You might need to override this if you've overridden attachHtml\n  attachBuffer(collectionView, buffer) {\n    collectionView.$el.append(buffer);\n  },\n\n  // Create a fragment buffer from the currently buffered children\n  _createBuffer() {\n    const elBuffer = document.createDocumentFragment();\n    _.each(this._bufferedChildren, function(b) {\n      elBuffer.appendChild(b.el);\n    });\n    return elBuffer;\n  },\n\n  // Append the HTML to the collection's `el`. Override this method to do something other\n  // than `.append`.\n  attachHtml(collectionView, childView, index) {\n    if (collectionView._isBuffering) {\n      // buffering happens on reset events and initial renders\n      // in order to reduce the number of inserts into the\n      // document, which are expensive.\n      collectionView._bufferedChildren.splice(index, 0, childView);\n    } else {\n      // If we've already rendered the main collection, append\n      // the new child into the correct order if we need to. Otherwise\n      // append to the end.\n      if (!collectionView._insertBefore(childView, index)) {\n        collectionView._insertAfter(childView);\n      }\n    }\n  },\n\n  // Internal method. Check whether we need to insert the view into the correct position.\n  _insertBefore(childView, index) {\n    let currentView;\n    const findPosition = this.sort && (index < this.children.length - 1);\n    if (findPosition) {\n      // Find the view after this one\n      currentView = this.children.find(function(view) {\n        return view._index === index + 1;\n      });\n    }\n\n    if (currentView) {\n      currentView.$el.before(childView.el);\n      return true;\n    }\n\n    return false;\n  },\n\n  // Internal method. Append a view to the end of the $el\n  _insertAfter(childView) {\n    this.$el.append(childView.el);\n  },\n\n  // Internal method to set up the `children` object for storing all of the child views\n  _initChildViewStorage() {\n    this.children = new ChildViewContainer();\n  },\n\n  // called by ViewMixin destroy\n  _removeChildren() {\n    this._destroyChildren({checkEmpty: false});\n  },\n\n  // Destroy the child views that this collection view is holding on to, if any\n  _destroyChildren({checkEmpty} = {}) {\n    this.triggerMethod('before:destroy:children', this);\n    const shouldCheckEmpty = checkEmpty !== false;\n    const childViews = this.children.map(_.identity);\n\n    this.children.each(_.bind(this.removeChildView, this));\n\n    if (shouldCheckEmpty) {\n      this._checkEmpty();\n    }\n\n    this.triggerMethod('destroy:children', this);\n    return childViews;\n  },\n\n  // Return true if the given child should be shown. Return false otherwise.\n  // The filter will be passed (child, index, collection), where\n  //  'child' is the given model\n  //  'index' is the index of that model in the collection\n  //  'collection' is the collection referenced by this CollectionView\n  _shouldAddChild(child, index) {\n    const filter = this.filter;\n    return !_.isFunction(filter) || filter.call(this, child, index, this.collection);\n  },\n\n  // Set up the child view event forwarding. Uses a \"childview:\" prefix in front of all forwarded events.\n  _proxyChildEvents(view) {\n    const prefix = _.result(this, 'childViewEventPrefix');\n\n    // Forward all child view events through the parent,\n    // prepending \"childview:\" to the event name\n    this.listenTo(view, 'all', function(eventName, ...args) {\n\n      const childEventName = prefix + ':' + eventName;\n\n      const childViewEvents = this.normalizeMethods(this._childViewEvents);\n\n      // call collectionView childViewEvent if defined\n      if (typeof childViewEvents !== 'undefined' && _.isFunction(childViewEvents[eventName])) {\n        childViewEvents[eventName].apply(this, args);\n      }\n\n      // use the parent view's proxyEvent handlers\n      const childViewTriggers = this._childViewTriggers;\n\n      // Call the event with the proxy name on the parent layout\n      if (childViewTriggers && _.isString(childViewTriggers[eventName])) {\n        this.triggerMethod(childViewTriggers[eventName], ...args);\n      }\n\n      this.triggerMethod(childEventName, ...args);\n    });\n  }\n});\n\n_.extend(CollectionView.prototype, ViewMixin);\n\nexport default CollectionView;\n","// Composite View\n// --------------\n\nimport _               from 'underscore';\nimport Backbone        from 'backbone';\nimport deprecate       from './utils/deprecate';\nimport MarionetteError from './error';\nimport CollectionView  from './collection-view';\nimport View            from './view';\n\nconst ClassOptions = [\n  'childViewContainer',\n  'template',\n  'templateContext'\n];\n\n// Used for rendering a branch-leaf, hierarchical structure.\n// Extends directly from CollectionView and also renders an\n// a child view as `modelView`, for the top leaf\n// @deprecated\nconst CompositeView = CollectionView.extend({\n\n  // Setting up the inheritance chain which allows changes to\n  // Marionette.CollectionView.prototype.constructor which allows overriding\n  // option to pass '{sort: false}' to prevent the CompositeView from\n  // maintaining the sorted order of the collection.\n  // This will fallback onto appending childView's to the end.\n  constructor(options) {\n    deprecate('CompositeView is deprecated. Convert to View at your earliest convenience');\n\n    this.mergeOptions(options, ClassOptions);\n\n    CollectionView.prototype.constructor.apply(this, arguments);\n  },\n\n  // Configured the initial events that the composite view\n  // binds to. Override this method to prevent the initial\n  // events, or to add your own initial events.\n  _initialEvents() {\n\n    // Bind only after composite view is rendered to avoid adding child views\n    // to nonexistent childViewContainer\n\n    if (this.collection) {\n      this.listenTo(this.collection, 'add', this._onCollectionAdd);\n      this.listenTo(this.collection, 'remove', this._onCollectionRemove);\n      this.listenTo(this.collection, 'reset', this.renderChildren);\n\n      if (this.sort) {\n        this.listenTo(this.collection, 'sort', this._sortViews);\n      }\n    }\n  },\n\n  // Retrieve the `childView` to be used when rendering each of\n  // the items in the collection. The default is to return\n  // `this.childView` or Marionette.CompositeView if no `childView`\n  // has been defined. As happens in CollectionView, `childView` can\n  // be a function (which should return a view class).\n  _getChildView(child) {\n    var childView = this.childView;\n\n    // for CompositeView, if `childView` is not specified, we'll get the same\n    // composite view class rendered for each child in the collection\n    // then check if the `childView` is a view class (the common case)\n    // finally check if it's a function (which we assume that returns a view class)\n    if (!childView) {\n      return this.constructor;\n    } else if (childView.prototype instanceof Backbone.View || childView === Backbone.View) {\n      return childView;\n    } else if (_.isFunction(childView)) {\n      return childView.call(this, child);\n    } else {\n      throw new MarionetteError({\n        name: 'InvalidChildViewError',\n        message: '\"childView\" must be a view class or a function that returns a view class'\n      });\n    }\n\n  },\n\n  // Return the serialized model\n  serializeData() {\n    return this.serializeModel();\n  },\n\n  // Renders the model and the collection.\n  render() {\n    this._ensureViewIsIntact();\n    this._isRendering = true;\n    this.resetChildViewContainer();\n\n    this.triggerMethod('before:render', this);\n\n    this._renderTemplate();\n    this.bindUIElements();\n    this.renderChildren();\n\n    this._isRendering = false;\n    this._isRendered = true;\n    this.triggerMethod('render', this);\n    return this;\n  },\n\n  renderChildren() {\n    if (this._isRendered || this._isRendering) {\n      CollectionView.prototype._renderChildren.call(this);\n    }\n  },\n\n  // You might need to override this if you've overridden attachHtml\n  attachBuffer(compositeView, buffer) {\n    const $container = this.getChildViewContainer(compositeView);\n    $container.append(buffer);\n  },\n\n  // Internal method. Append a view to the end of the $el.\n  // Overidden from CollectionView to ensure view is appended to\n  // childViewContainer\n  _insertAfter(childView) {\n    const $container = this.getChildViewContainer(this, childView);\n    $container.append(childView.el);\n  },\n\n  // Internal method. Append reordered childView'.\n  // Overidden from CollectionView to ensure reordered views\n  // are appended to childViewContainer\n  _appendReorderedChildren(children) {\n    const $container = this.getChildViewContainer(this);\n    $container.append(children);\n  },\n\n  // Internal method to ensure an `$childViewContainer` exists, for the\n  // `attachHtml` method to use.\n  getChildViewContainer(containerView, childView) {\n    if (!!containerView.$childViewContainer) {\n      return containerView.$childViewContainer;\n    }\n\n    let container;\n    const childViewContainer = containerView.childViewContainer;\n    if (childViewContainer) {\n\n      const selector = _.result(containerView, 'childViewContainer');\n\n      if (selector.charAt(0) === '@' && containerView.ui) {\n        container = containerView.ui[selector.substr(4)];\n      } else {\n        container = containerView.$(selector);\n      }\n\n      if (container.length <= 0) {\n        throw new MarionetteError({\n          name: 'ChildViewContainerMissingError',\n          message: 'The specified \"childViewContainer\" was not found: ' + containerView.childViewContainer\n        });\n      }\n\n    } else {\n      container = containerView.$el;\n    }\n\n    containerView.$childViewContainer = container;\n    return container;\n  },\n\n  // Internal method to reset the `$childViewContainer` on render\n  resetChildViewContainer() {\n    if (this.$childViewContainer) {\n      this.$childViewContainer = undefined;\n    }\n  }\n});\n\n// To prevent duplication but allow the best View organization\n// Certain View methods are mixed directly into the deprecated CompositeView\nconst MixinFromView = _.pick(View.prototype, 'serializeModel', 'getTemplate', '_renderTemplate', 'mixinTemplateContext', 'attachElContent');\n_.extend(CompositeView.prototype, MixinFromView);\n\nexport default CompositeView;\n","// Behavior\n// --------\n\n// A Behavior is an isolated set of DOM /\n// user interactions that can be mixed into any View.\n// Behaviors allow you to blackbox View specific interactions\n// into portable logical chunks, keeping your views simple and your code DRY.\n\nimport _                  from 'underscore';\nimport MarionetteObject   from './object';\nimport DelegateEntityEventsMixin      from './mixins/delegate-entity-events';\nimport TriggersMixin      from './mixins/triggers';\nimport UIMixin            from './mixins/ui';\nimport getUniqueEventName from './utils/getUniqueEventName';\n\nconst ClassOptions = [\n  'collectionEvents',\n  'events',\n  'modelEvents',\n  'triggers',\n  'ui'\n];\n\nvar Behavior = MarionetteObject.extend({\n  cidPrefix: 'mnb',\n\n  constructor: function(options, view) {\n    // Setup reference to the view.\n    // this comes in handle when a behavior\n    // wants to directly talk up the chain\n    // to the view.\n    this.view = view;\n    this.defaults = _.clone(_.result(this, 'defaults', {}));\n    this._setOptions(this.defaults, options);\n    this.mergeOptions(this.options, ClassOptions);\n\n    // Construct an internal UI hash using\n    // the behaviors UI hash and then the view UI hash.\n    // This allows the user to use UI hash elements\n    // defined in the parent view as well as those\n    // defined in the given behavior.\n    // This order will help the reuse and share of a behavior\n    // between multiple views, while letting a view override a\n    // selector under an UI key.\n    this.ui = _.extend({}, _.result(this, 'ui'), _.result(view, 'ui'));\n\n    MarionetteObject.apply(this, arguments);\n  },\n\n  // proxy behavior $ method to the view\n  // this is useful for doing jquery DOM lookups\n  // scoped to behaviors view.\n  $: function() {\n    return this.view.$.apply(this.view, arguments);\n  },\n\n  // Stops the behavior from listening to events.\n  // Overrides Object#destroy to prevent additional events from being triggered.\n  destroy: function() {\n    this.stopListening();\n\n    return this;\n  },\n\n  proxyViewProperties: function() {\n    this.$el = this.view.$el;\n    this.el = this.view.el;\n\n    return this;\n  },\n\n  bindUIElements: function() {\n    this._bindUIElements();\n\n    return this;\n  },\n\n  unbindUIElements: function() {\n    this._unbindUIElements();\n\n    return this;\n  },\n\n  getUI: function(name) {\n    this.view._ensureViewIsIntact();\n    return this._getUI(name);\n  },\n\n  // Handle `modelEvents`, and `collectionEvents` configuration\n  delegateEntityEvents: function() {\n    this._delegateEntityEvents(this.view.model, this.view.collection);\n\n    return this;\n  },\n\n  undelegateEntityEvents: function() {\n    this._undelegateEntityEvents(this.view.model, this.view.collection);\n\n    return this;\n  },\n\n  getEvents: function() {\n    // Normalize behavior events hash to allow\n    // a user to use the @ui. syntax.\n    var behaviorEvents = this.normalizeUIKeys(_.result(this, 'events'));\n\n    // binds the handler to the behavior and builds a unique eventName\n    return _.reduce(behaviorEvents, function(events, behaviorHandler, key) {\n      if (!_.isFunction(behaviorHandler)) {\n        behaviorHandler = this[behaviorHandler];\n      }\n      if (!behaviorHandler) { return; }\n      key = getUniqueEventName(key);\n      events[key] = _.bind(behaviorHandler, this);\n      return events;\n    } , {}, this);\n  },\n\n  // Internal method to build all trigger handlers for a given behavior\n  getTriggers: function() {\n    if (!this.triggers) { return; }\n\n    // Normalize behavior triggers hash to allow\n    // a user to use the @ui. syntax.\n    var behaviorTriggers = this.normalizeUIKeys(_.result(this, 'triggers'));\n\n    return this._getViewTriggers(this.view, behaviorTriggers);\n  }\n\n});\n\n_.extend(Behavior.prototype, DelegateEntityEventsMixin, TriggersMixin, UIMixin);\n\nexport default Behavior;\n","// Application\n// -----------\nimport _                from 'underscore';\nimport MarionetteObject from './object';\nimport Region           from './region';\n\nconst ClassOptions = [\n  'region',\n  'regionClass'\n];\n\n// A container for a Marionette application.\nconst Application = MarionetteObject.extend({\n  cidPrefix: 'mna',\n\n  constructor: function(options) {\n    this._setOptions(options);\n\n    this.mergeOptions(options, ClassOptions);\n\n    this._initRegion();\n\n    MarionetteObject.prototype.constructor.apply(this, arguments);\n  },\n\n  regionClass: Region,\n\n  _initRegion: function(options) {\n    var region = this.region;\n    var RegionClass = this.regionClass;\n\n    // if the region is a string expect an el or selector\n    // and instantiate a region\n    if (_.isString(region)) {\n      this._region = new RegionClass({\n        el: region\n      });\n      return;\n    }\n\n    this._region = region;\n  },\n\n  getRegion: function() {\n    return this._region;\n  },\n\n  showView: function(view, ...args) {\n    var region = this.getRegion();\n    return region.show(view, ...args);\n  },\n\n  getView: function() {\n    return this.getRegion().currentView;\n  },\n\n  // kick off all of the application's processes.\n  start: function(options) {\n    this.triggerMethod('before:start', this, options);\n    this.triggerMethod('start', this, options);\n    return this;\n  }\n\n});\n\nexport default Application;\n","// App Router\n// ----------\n\n// Reduce the boilerplate code of handling route events\n// and then calling a single method on another object,\n// called a controller.\n// Have your routers configured to call the method on\n// your controller, directly.\n//\n// Configure an AppRouter with `appRoutes`.\n//\n// App routers can only take one `controller` object.\n// It is recommended that you divide your controller\n// objects in to smaller pieces of related functionality\n// and have multiple routers / controllers, instead of\n// just one giant router and controller.\n//\n// You can also add standard routes to an AppRouter.\n\nimport Backbone                from 'backbone';\nimport _                       from 'underscore';\nimport MarionetteError         from './error';\nimport CommonMixin             from './mixins/common';\nimport { triggerMethod }       from './trigger-method';\n\nconst ClassOptions = [\n  'appRoutes',\n  'controller'\n];\n\nconst AppRouter = Backbone.Router.extend({\n\n  constructor: function(options) {\n    this._setOptions(options);\n\n    this.mergeOptions(options, ClassOptions);\n\n    Backbone.Router.apply(this, arguments);\n\n    var appRoutes = this.appRoutes;\n    var controller = this._getController();\n    this.processAppRoutes(controller, appRoutes);\n    this.on('route', this._processOnRoute, this);\n  },\n\n  // Similar to route method on a Backbone Router but\n  // method is called on the controller\n  appRoute: function(route, methodName) {\n    var controller = this._getController();\n    this._addAppRoute(controller, route, methodName);\n    return this;\n  },\n\n  // process the route event and trigger the onRoute\n  // method call, if it exists\n  _processOnRoute: function(routeName, routeArgs) {\n    // make sure an onRoute before trying to call it\n    if (_.isFunction(this.onRoute)) {\n      // find the path that matches the current route\n      var routePath = _.invert(this.appRoutes)[routeName];\n      this.onRoute(routeName, routePath, routeArgs);\n    }\n  },\n\n  // Internal method to process the `appRoutes` for the\n  // router, and turn them in to routes that trigger the\n  // specified method on the specified `controller`.\n  processAppRoutes: function(controller, appRoutes) {\n    if (!appRoutes) { return this; }\n\n    var routeNames = _.keys(appRoutes).reverse(); // Backbone requires reverted order of routes\n\n    _.each(routeNames, route => {\n      this._addAppRoute(controller, route, appRoutes[route]);\n    });\n\n    return this;\n  },\n\n  _getController: function() {\n    return this.controller;\n  },\n\n  _addAppRoute: function(controller, route, methodName) {\n    var method = controller[methodName];\n\n    if (!method) {\n      throw new MarionetteError('Method \"' + methodName + '\" was not found on the controller');\n    }\n\n    this.route(route, methodName, _.bind(method, controller));\n  },\n\n  triggerMethod: triggerMethod\n});\n\n_.extend(AppRouter.prototype, CommonMixin);\n\nexport default AppRouter;\n","import MarionetteError          from '../error';\n\n// Placeholder method to be extended by the user.\n// The method should define the object that stores the behaviors.\n// i.e.\n//\n// ```js\n// Marionette.Behaviors.behaviorsLookup: function() {\n//   return App.Behaviors\n// }\n// ```\nexport default function behaviorsLookup() {\n  throw new MarionetteError({\n    message: 'You must define where your behaviors are stored.',\n    url: 'marionette.behaviors.md#behaviorslookup'\n  });\n}\n","// Add Feature flags here\n// e.g. 'class' => false\nvar FEATURES = {\n};\n\nfunction isEnabled(name) {\n  return !!FEATURES[name];\n}\n\nfunction setEnabled(name, state) {\n  return FEATURES[name] = state;\n}\n\nexport {\n  FEATURES,\n  setEnabled,\n  isEnabled\n};\n","import Backbone           from 'backbone';\nimport {version}          from '../package.json';\n\nimport proxy              from './utils/_proxy';\nimport extend             from './utils/extend';\nimport isNodeAttached     from './utils/isNodeAttached';\nimport mergeOptions       from './utils/mergeOptions';\nimport getOption          from './utils/getOption';\nimport normalizeMethods   from './utils/normalizeMethods';\nimport deprecate          from './utils/deprecate';\n\nimport monitorViewEvents  from './monitor-view-events';\nimport MarionetteObject   from './object';\nimport Renderer           from './renderer';\nimport TemplateCache      from './template-cache';\nimport View               from './view';\nimport CollectionView     from './collection-view';\nimport CompositeView      from './composite-view';\nimport Behavior           from './behavior';\nimport Region             from './region';\nimport Application        from './application';\nimport AppRouter          from './app-router';\nimport MarionetteError    from './error';\n\nimport behaviorsLookup    from './config/behaviors-lookup';\n\nimport {\n  FEATURES,\n  isEnabled,\n  setEnabled\n} from './config/features';\n\nimport {\n  bindEntityEvents,\n  unbindEntityEvents\n} from './bind-entity-events';\n\nimport {\n  bindRadioRequests,\n  unbindRadioRequests\n} from './bind-radio-requests';\n\nimport {\n  triggerMethod,\n  triggerMethodOn\n} from './trigger-method';\n\nvar previousMarionette = Backbone.Marionette;\nvar Marionette = Backbone.Marionette = {};\n\n// This allows you to run multiple instances of Marionette on the same\n// webapp. After loading the new version, call `noConflict()` to\n// get a reference to it. At the same time the old version will be\n// returned to Backbone.Marionette.\nMarionette.noConflict = function() {\n  Backbone.Marionette = previousMarionette;\n  return this;\n};\n\n// Utilities\nMarionette.bindEntityEvents = proxy(bindEntityEvents);\nMarionette.unbindEntityEvents = proxy(unbindEntityEvents);\nMarionette.bindRadioEvents = proxy(bindEntityEvents);\nMarionette.unbindRadioEvents = proxy(unbindEntityEvents);\nMarionette.bindRadioRequests = proxy(bindRadioRequests);\nMarionette.unbindRadioRequests = proxy(unbindRadioRequests);\nMarionette.mergeOptions = proxy(mergeOptions);\nMarionette.getOption = proxy(getOption);\nMarionette.normalizeMethods = proxy(normalizeMethods);\nMarionette.extend = extend;\nMarionette.isNodeAttached = isNodeAttached;\nMarionette.deprecate = deprecate;\nMarionette.triggerMethod = proxy(triggerMethod);\nMarionette.triggerMethodOn = triggerMethodOn;\nMarionette.isEnabled = isEnabled;\nMarionette.setEnabled = setEnabled;\nMarionette.monitorViewEvents = monitorViewEvents;\n\nMarionette.Behaviors = {};\nMarionette.Behaviors.behaviorsLookup = behaviorsLookup;\n\n// Classes\nMarionette.Application = Application;\nMarionette.AppRouter = AppRouter;\nMarionette.Renderer = Renderer;\nMarionette.TemplateCache = TemplateCache;\nMarionette.View = View;\nMarionette.CollectionView = CollectionView;\nMarionette.CompositeView = CompositeView;\nMarionette.Behavior = Behavior;\nMarionette.Region = Region;\nMarionette.Error = MarionetteError;\nMarionette.Object = MarionetteObject;\n\n// Configuration\nMarionette.DEV_MODE = false;\nMarionette.FEATURES = FEATURES;\nMarionette.VERSION = version;\n\nexport default Marionette;\n"],"names":["bindRadioEvents","unbindRadioEvents","_triggerMethod","ClassOptions"],"mappings":"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","sourceRoot":"/source/"}